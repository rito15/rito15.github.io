<!DOCTYPE html>



<html lang="en" 
  
    mode="dark"
  
>

  <!--
  The Head
  v2.0
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2017-2019 Cotes Chung
  MIT License
-->

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="theme" content="Chirpy v2.7.2">

  <!-- Begin Jekyll SEO tag v2.7.1 -->
<meta name="generator" content="Jekyll v4.2.0" />
<meta property="og:title" content="유니티 - 컴퓨트 쉐이더(Compute Shader)" />
<meta name="author" content="Rito15" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Compute Shader" />
<meta property="og:description" content="Compute Shader" />
<link rel="canonical" href="https://rito15.github.io/posts/unity-compute-shader/" />
<meta property="og:url" content="https://rito15.github.io/posts/unity-compute-shader/" />
<meta property="og:site_name" content="Rito15" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-09-10T02:01:00+09:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="유니티 - 컴퓨트 쉐이더(Compute Shader)" />
<meta name="google-site-verification" content="google_meta_tag_verification" />
<script type="application/ld+json">
{"description":"Compute Shader","datePublished":"2021-09-10T02:01:00+09:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://rito15.github.io/posts/unity-compute-shader/"},"url":"https://rito15.github.io/posts/unity-compute-shader/","author":{"@type":"Person","name":"Rito15"},"headline":"유니티 - 컴퓨트 쉐이더(Compute Shader)","dateModified":"2021-09-28T03:27:42+09:00","@type":"BlogPosting","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->


  <title>유니티 - 컴퓨트 쉐이더(Compute Shader) | Rito15
  </title>

  <!--
  The Favicons for Web, Android, Microsoft, and iOS (iPhone and iPad) Apps
  Generated by: https://www.favicon-generator.org/
  v2.0
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2019 Cotes Chung
  Published under the MIT license
-->



<link rel="shortcut icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon">
<link rel="icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon">

<link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon.png">
<link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon-precomposed.png">
<link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicons/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicons/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicons/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicons/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicons/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicons/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicons/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicons/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-icon-180x180.png">

<link rel="icon" type="image/png" sizes="192x192"  href="/assets/img/favicons/android-icon-192x192.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicons/favicon-96x96.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png">

<link rel="manifest" href="/assets/img/favicons/manifest.json">
<meta name='msapplication-config' content='/assets/img/favicons/browserconfig.xml'>
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/assets/img/favicons/ms-icon-144x144.png">
<meta name="theme-color" content="#ffffff">


  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous">
  <link rel="dns-prefetch" href="https://fonts.gstatic.com">

  <!-- GA -->
  

  <!-- jsDelivr CDN -->
  <link rel="preconnect" href="cdn.jsdelivr.net">
  <link rel="dns-prefetch" href="cdn.jsdelivr.net">

  <!-- Bootstrap -->
  <link rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
    integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous">

  <!-- Font Awesome -->
  <link rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"
    integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ="
    crossorigin="anonymous">

  <!--
  CSS selector for site.
  Chirpy v2.3
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2020 Cotes Chung
  MIT Licensed
-->






<link rel="preload" href="/assets/css/post.css" as="style">
<link rel="stylesheet" href="/assets/css/post.css">


  
    <link rel="preload" as="style" href="/assets/css/lib/bootstrap-toc.min.css">
    <link rel="stylesheet" href="/assets/css/lib/bootstrap-toc.min.css" />
  



  <!-- JavaScripts -->

  <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script>

  <script defer
    src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script>

  <!--
  JS selector for site.
  Chirpy v2.3
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2020 Cotes Chung
  MIT Licensed
-->





<script async src="/assets/js/post.min.js"></script>


  <!-- MathJax -->
  <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>





</head>


  <body data-spy="scroll" data-target="#toc">

    <!--
  The Side Bar
  v2.0
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2017-2019 Cotes Chung
  MIT License
-->

<div id="sidebar" class="d-flex flex-column align-items-end">

  <div class="profile-wrapper text-center">
    <div id="avatar">
      <a href="/" alt="avatar" class="mx-auto">
        
        <img src="/assets/img/favicons/android-icon-192x192.png" alt="avatar" onerror="this.style.display='none'">
      </a>
    </div>

    <div class="site-title mt-3">
      <a href="/">Rito15</a>
    </div>

    <div class="site-subtitle font-italic">Unity Csharp Developer</div>

  </div><!-- .profile-wrapper -->

  <ul class="w-100">
    <!-- home -->
    <li class="nav-item">
      <a href="/" class="nav-link">
        <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i>
        <span>HOME</span>
      </a>
    </li>
    <!-- the real tabs -->
    
    <li class="nav-item">
      <a href="/tabs/categories/" class="nav-link">
        <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i>
        <span>CATEGORIES</span>
      </a>
    </li> <!-- .nav-item -->
    
    <li class="nav-item">
      <a href="/tabs/tags/" class="nav-link">
        <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i>
        <span>TAGS</span>
      </a>
    </li> <!-- .nav-item -->
    
    <li class="nav-item">
      <a href="/tabs/archives/" class="nav-link">
        <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i>
        <span>ARCHIVES</span>
      </a>
    </li> <!-- .nav-item -->
    
    <li class="nav-item">
      <a href="/tabs/about/" class="nav-link">
        <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i>
        <span>ABOUT</span>
      </a>
    </li> <!-- .nav-item -->
    

  </ul> <!-- ul.nav.flex-column -->

  <div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center">

    
      

      
      <a href="https://github.com/rito15" aria-label="github"
        
        target="_blank" rel="noopener">
        <i class="fab fa-github-alt"></i>
      </a>
      

    
      

      
      <a href="
          javascript:location.href = 'mailto:' + ['ghdtkals15','gmail.com'].join('@')" aria-label="email"
        
        >
        <i class="fas fa-envelope"></i>
      </a>
      

    
      

      
      <a href="/feed.xml" aria-label="rss"
        
        >
        <i class="fas fa-rss"></i>
      </a>
      

    

    

  </div> <!-- .sidebar-bottom -->

</div><!-- #sidebar -->


    <!--
  The Top Bar
  v2.0
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2017-2019 Cotes Chung
  MIT License
-->
<div id="topbar-wrapper" class="row justify-content-center topbar-down">
  <div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between">
    <span id="breadcrumb">
      
        
        <span>
          <a href="/">
            Posts
          </a>
        </span>
        
      

      
        <span>유니티 - 컴퓨트 쉐이더(Compute Shader)</span>
      

    </span><!-- endof #breadcrumb -->

    <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i>

    <div id="topbar-title">
      Post
    </div>

    <i id="search-trigger" class="fas fa-search fa-fw"></i>
    <span id="search-wrapper" class="align-items-center">
      <i class="fas fa-search fa-fw"></i>
      <input class="form-control" id="search-input" type="search"
        aria-label="search" placeholder="Search...">
      <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i>
    </span>
    <span id="search-cancel" >Cancel</span>
  </div>

</div>


    <div id="main-wrapper">
      <div id="main">

        <!--
  Refactor the HTML structure.
-->



<!--
  In order to allow a wide table to scroll horizontally,
  we suround the markdown table with `<div class="table-wrapper">` and `</div>`
-->


<!--
  Fixed kramdown code highlight rendering:
  https://github.com/penibelst/jekyll-compress-html/issues/101
  https://github.com/penibelst/jekyll-compress-html/issues/71#issuecomment-188144901
-->


<!-- Add attribute 'hide-bullet' to the checkbox list -->




  

  

  <!-- lazy-load images <https://github.com/ApoorvSaxena/lozad.js#usage> -->
  
  

  

  



<!-- return -->
<div class="row">

  <div id="post-wrapper" class="col-12 col-lg-11 col-xl-8">

    <div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4">

      <h1 data-toc-skip>유니티 - 컴퓨트 쉐이더(Compute Shader)</h1>

      <div class="post-meta text-muted d-flex flex-column">
        <!-- Published date and author -->
        <div>
          <!--
  Date format snippet

  v2.4.1
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2020 Cotes Chung
  MIT License
-->
<span class="timeago "
  
    data-toggle="tooltip"
    data-placement="bottom"
    title="Fri, Sep 10, 2021,  2:01 AM +0900"
  >

  
  

  
    Sep 10
  

  <i class="unloaded">2021-09-10T02:01:00+09:00</i>

</span>
          by
          <span class="author">
            Rito15
          </span>
        </div>

        <div>
          <!-- lastmod -->
          
          <span>
            Updated
            <!--
  Date format snippet

  v2.4.1
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2020 Cotes Chung
  MIT License
-->
<span class="timeago lastmod"
  
    data-toggle="tooltip"
    data-placement="bottom"
    title="Tue, Sep 28, 2021,  3:27 AM +0900"
  >

  
  

  
    Sep 28
  

  <i class="unloaded">2021-09-28T03:27:42+09:00</i>

</span>
          </span>
          

          <!-- read time -->
          <!--
  Calculate the post's reading time, and display the word count in tooltip
 -->






<!-- return element -->
<span class="readtime" data-toggle="tooltip" data-placement="bottom" title="4807 words">26 min</span>


          <!-- page views -->
          

          <!-- HITS -->
          &nbsp;
          <a href="https://hits.seeyoufarm.com"><img min-width="94" src="https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https://rito15.github.io/posts/unity-compute-shader/%2F&count_bg=%23AC58FA&title_bg=%23555555&icon=&icon_color=%23E7E7E7&title=views&edge_flat=false"/></a> 

        </div>

      </div> <!-- .post-meta -->

      <div class="post-content">

        

        <h1 id="compute-shader">Compute Shader</h1>
<hr />

<h2 id="개념"><strong>개념</strong></h2>
<ul>
  <li>GPU를 CPU의 영역인 응용 프로그램 계산에 사용하는 <strong>GPGPU</strong>(General-Purpose computing on GPU)와는 개념이 유사하지만 다르다고 한다.</li>
  <li><strong>GPGPU</strong>를 사용하는 <strong>CUDA</strong>, <strong>OpenCL</strong>은 독립 API이고 <strong>OpenGL</strong>의 <strong>Compute Shader</strong>, <strong>DirectX</strong>의 <strong>DirectCompute</strong>는 그래픽스API에 종속되어 동작한다.</li>
  <li>동시에 수많은 대상(수십만, 수백만 단위 가능)에 대해 동일한 연산(함수)을 처리해야 할 때 사용한다.</li>
  <li><strong>VFX Graph</strong>도 컴퓨트 쉐이더를 연산에 사용한다고 한다.</li>
  <li>확장자는 <code class="language-plaintext highlighter-rouge">.compute</code>이다.</li>
</ul>

<h2 id="커널kernal"><strong>커널(Kernal)</strong></h2>
<ul>
  <li>GPU에서 동작하는 함수를 의미한다.</li>
  <li>함수의 이름이 곧 커널의 이름이며, <code class="language-plaintext highlighter-rouge">#pragma kernel</code>에도 명시해 주어야 한다.</li>
</ul>

<h2 id="스레드-그룹thread-group"><strong>스레드 그룹(Thread Group)</strong></h2>
<ul>
  <li>하나의 스레드 그룹 당 <code class="language-plaintext highlighter-rouge">[numthread(x, y, z)]</code>로 지정된 개수만큼의 스레드를 실행한다.</li>
  <li>스레드 그룹의 개수는 컴퓨트 쉐이더 객체를 <code class="language-plaintext highlighter-rouge">.Dispatch(kernalIndex, X, Y, Z)</code>로 실행할 때 지정한다.</li>
  <li>개수는 3차원(<code class="language-plaintext highlighter-rouge">X, Y, Z</code>)으로 구성된다.</li>
</ul>

<h2 id="스레드thread"><strong>스레드(Thread)</strong></h2>
<ul>
  <li>커널(함수)을 실행하는 단위.</li>
  <li>하나의 스레드가 하나의 커널을 실행한다.</li>
  <li>개수는 3차원(<code class="language-plaintext highlighter-rouge">x, y, z</code>)으로 구성된다.</li>
  <li>커널 함수 선언부 상단에 <code class="language-plaintext highlighter-rouge">[numthreads(x, y, z)]</code>를 붙여 스레드의 개수를 3차원으로 지정한다.</li>
  <li><code class="language-plaintext highlighter-rouge">(x * y * z)</code>는 하나의 스레드 그룹에서 실행될 스레드의 총 개수이다.</li>
</ul>

<h2 id="스레드-개수의-차원-설정"><strong>스레드 개수의 차원 설정</strong></h2>
<ul>
  <li><code class="language-plaintext highlighter-rouge">1024 * 1 * 1</code>로 1차원으로 지정하는 경우도 있고, <code class="language-plaintext highlighter-rouge">32 * 32 * 1</code>처럼 2차원으로, 혹은 3차원으로 지정하는 경우도 있다.</li>
  <li>이는 계산할 데이터의 차원에 따라 결정된다.</li>
  <li>예를 들어 동일한 연산을 단순 병렬처리할 때는 1차원으로 할 수 있다.</li>
  <li>렌더 텍스쳐와 같이 2차원 계산이 필요한 경우, 2차원으로 설정한다.</li>
  <li>공간과 같이 3차원 계산이 필요하면 3차원으로 설정한다.</li>
</ul>

<h2 id="스레드-개수-한계"><strong>스레드 개수 한계</strong></h2>
<ul>
  <li>스레드 그룹 수의 한계는 <code class="language-plaintext highlighter-rouge">X</code>, <code class="language-plaintext highlighter-rouge">Y</code>, <code class="language-plaintext highlighter-rouge">Z</code> 각 차원마다 각각 <strong>65535</strong>( \({2}^{16} - 1\) )이다.</li>
  <li>하나의 스레드 그룹이 가질 수 있는 스레드 개수에도 제한이 있다.
    <ul>
      <li>ShaderModel cs_4_x에서 <code class="language-plaintext highlighter-rouge">x * y * z</code>의 최댓값은 <strong>768</strong>로 제한되며, 이 중 <code class="language-plaintext highlighter-rouge">z</code>는 1이어야 한다.</li>
      <li>ShaderModel cs_5_0에서 <code class="language-plaintext highlighter-rouge">x * y * z</code>의 최댓값은 <strong>1024</strong>, <code class="language-plaintext highlighter-rouge">z</code>의 최댓값은 64이다.</li>
    </ul>
  </li>
</ul>

<h2 id="스레드-개수-계산-예시"><strong>스레드 개수 계산 예시</strong></h2>
<ul>
  <li>먼저, 필요한 전체 스레드 개수를 계산한다.</li>
  <li>예를 들어 <code class="language-plaintext highlighter-rouge">1024 * 768</code> 크기의 렌더 텍스쳐를 2차원으로 병렬 연산한다고 가정하자.</li>
  <li>하나의 스레드 그룹이 가질 스레드의 개수를 <code class="language-plaintext highlighter-rouge">8 * 8 * 1</code>로 둔다. <br />
(더 크게 할 수도 있지만, 너무 크게 했다가 낭비되는 스레드가 생길 수 있으므로 적절히 설정한다.)</li>
  <li>
    <p>스레드 그룹의 개수는 <code class="language-plaintext highlighter-rouge">(1024 / 8) * (768 / 8) * (1 / 1)</code> = <code class="language-plaintext highlighter-rouge">128 * 96 * 1</code>이 된다.</p>
  </li>
  <li>따라서 커널 상단에 <code class="language-plaintext highlighter-rouge">[numthread(8, 8, 1)]</code>로 지정하고,</li>
  <li>컴퓨트 쉐이더를 실행할 때 <code class="language-plaintext highlighter-rouge">Dispatch(index, 128, 96, 1)</code> 이렇게 호출한다.</li>
</ul>

<h2 id="최적의-스레드-개수"><strong>최적의 스레드 개수</strong></h2>
<ul>
  <li>타겟 디바이스의 GPU 사양에 따라 달라진다.</li>
  <li>일반적으로 하나의 스레드 그룹 당 할당되는 총 스레드 개수는 <code class="language-plaintext highlighter-rouge">32</code>의 배수로 최대 <code class="language-plaintext highlighter-rouge">256</code>개를 지정하는 것이 성능에 좋다고 한다.</li>
  <li>예를 들어 <code class="language-plaintext highlighter-rouge">[numthreads(8, 8, 4)]</code>, <code class="language-plaintext highlighter-rouge">[numthreads(16, 16, 1)]</code>, <code class="language-plaintext highlighter-rouge">[numthreads(256, 1, 1)]</code> 등등</li>
  <li>그런데 컴퓨트 쉐이더의 동작은 스레드 그룹 단위로 이루어지므로,<br />
스레드 그룹 당 256개를 할당해놓고 스레드 100개만 실행시키면 156개는 낭비된다.</li>
  <li>따라서 여러 상황을 고려하여 최대 256개로, 낭비를 고려하여 적당히 줄여서 설정해야 한다.</li>
</ul>

<h2 id="참고사항"><strong>참고사항</strong></h2>
<ul>
  <li>타겟 플랫폼의 컴퓨트 쉐이더 지원 여부는 <code class="language-plaintext highlighter-rouge">SystemInfo.supportsComputeShaders</code>를 통해 확인할 수 있다.</li>
  <li>컴퓨트 쉐이더의 연산 결과를 렌더 텍스쳐에 받아 오려면 렌더 텍스쳐의 랜덤 액세스 기능을 활성화해야 한다.</li>
  <li><code class="language-plaintext highlighter-rouge">RenderTexture.enableRandomWrite = true</code>로 설정하면 된다.</li>
  <li>또한 렌더 텍스쳐의 생성자에 <code class="language-plaintext highlighter-rouge">RenderTextureReadWrite.Linear</code> 옵션을 5번째 매개변수로 전달해야 한다.</li>
  <li>필요한 연산 수보다 더 많은 스레드를 생성하면 불필요한 성능 낭비가 생기므로, 스레드 개수는 연산에 필요한 만큼 딱 맞춰 설정하는 것이 좋다.</li>
</ul>

<h2 id="쉐이더-참고사항"><strong>쉐이더 참고사항</strong></h2>
<ul>
  <li>컴퓨트 쉐이더 내에서는 <code class="language-plaintext highlighter-rouge">_Time</code>과 같은 Built-in 변수들을 사용할 수 없으며, CPU 측에서 전달해줘야 한다.</li>
</ul>

<p><br /></p>

<h1 id="computeshader-클래스-api">ComputeShader 클래스 API</h1>
<hr />

<h2 id="dispatchint-kernalindex-int-x-int-y-int-z--void"><strong>Dispatch(int kernalIndex, int x, int y, int z) : void</strong></h2>
<ul>
  <li>컴퓨트 쉐이더를 실행시킨다.</li>
  <li>
    <p>연산 결과는 <code class="language-plaintext highlighter-rouge">Dispatch()</code>로부터 명시적으로 받아오는 것이 아니라, 미리 등록했던 입출력 변수(<code class="language-plaintext highlighter-rouge">RWTexture2D&lt;float4&gt;</code> 등등)로부터 받아오면 된다.</p>
  </li>
  <li><strong>매개변수</strong>
    <ul>
      <li><code class="language-plaintext highlighter-rouge">kernalIndex</code> : 실행할 커널 함수의 인덱스(기본 0)</li>
      <li><code class="language-plaintext highlighter-rouge">x</code>, <code class="language-plaintext highlighter-rouge">y</code>, <code class="language-plaintext highlighter-rouge">z</code> : 각 차원마다 스레드 그룹 개수 지정</li>
    </ul>
  </li>
</ul>

<h2 id="findkernalstring-name--int"><strong>FindKernal(string name) : int</strong></h2>
<ul>
  <li>커널 함수의 이름을 통해 해당 커널의 인덱스를 찾아 반환한다.</li>
  <li>
    <p>커널 함수를 찾지 못하면 <code class="language-plaintext highlighter-rouge">FindKernel failed</code> 에러 로그를 출력한다.</p>
  </li>
  <li><strong>매개변수</strong>
    <ul>
      <li><code class="language-plaintext highlighter-rouge">name</code> : 찾을 커널 함수의 이름</li>
    </ul>
  </li>
</ul>

<h2 id="getkernelthreadgroupsize--void"><strong>GetKernelThreadGroupSize(…) : void</strong></h2>
<ul>
  <li>
    <p><strong>GetKernelThreadGroupSize(int kernalIndex, out uint x, out uint y, out uint z)</strong></p>
  </li>
  <li>스레드 그룹의 각 차원이 갖고 있는 크기(스레드 개수)를 받아온다.</li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">[numthreads(x, y, z)]</code>에 입력한 값들을 받아오는 것이다.</p>
  </li>
  <li>
    <p>컴퓨트 쉐이더를 실행하기 전에 이 메소드를 이용해 스레드 개수를 알아내고 <br />
<code class="language-plaintext highlighter-rouge">Dispatch(index, X / x, Y / y, Z / z)</code> 처럼 사용할 수 있다.</p>
  </li>
  <li><strong>매개변수</strong>
    <ul>
      <li><code class="language-plaintext highlighter-rouge">kernalIndex</code> : 실행할 커널 함수의 인덱스(기본 0)</li>
      <li><code class="language-plaintext highlighter-rouge">x</code>, <code class="language-plaintext highlighter-rouge">y</code>, <code class="language-plaintext highlighter-rouge">z</code> : 각각의 차원마다, 스레드 그룹 하나 당 실행할 스레드 개수</li>
    </ul>
  </li>
</ul>

<h2 id="setfloat--void"><strong>SetFloat(…) : void</strong></h2>
<ul>
  <li><strong>SetFloat(string name, float value)</strong></li>
  <li>
    <p><strong>SetFloat(int nameID, float value)</strong></p>
  </li>
  <li>
    <p>컴퓨트 쉐이더에 선언된 <code class="language-plaintext highlighter-rouge">float</code> 타입 변수에 값을 전달한다.</p>
  </li>
  <li><strong>매개변수</strong>
    <ul>
      <li><code class="language-plaintext highlighter-rouge">name</code> : 컴퓨트 쉐이더 내의 버퍼 변수 이름</li>
      <li><code class="language-plaintext highlighter-rouge">nameID</code> : 해당 변수에 부여된 정수형 ID. <code class="language-plaintext highlighter-rouge">Shader.PropertyToID()</code>를 통해 얻을 수 있다.</li>
      <li><code class="language-plaintext highlighter-rouge">value</code> : 전달할 실수 값</li>
    </ul>
  </li>
</ul>

<h2 id="setfloats--void"><strong>SetFloats(…) : void</strong></h2>
<ul>
  <li><strong>SetFloat(string name, params float[] values)</strong></li>
  <li>
    <p><strong>SetFloat(int nameID, params float[] values)</strong></p>
  </li>
  <li>컴퓨트 쉐이더에 선언된 하나의 변수에 여러 개의 값을 전달한다.</li>
  <li><code class="language-plaintext highlighter-rouge">float</code> 벡터, 배열, 벡터 배열 변수에 값을 전달할 수 있다.</li>
  <li>예를 들어 <code class="language-plaintext highlighter-rouge">float4 myArr[3]</code> 벡터 배열 변수에 값 12개를 한 번에 전달할 수 있다.</li>
</ul>

<h2 id="setvector--void"><strong>SetVector(…) : void</strong></h2>
<ul>
  <li><strong>SetFloat(string name, Vector4 value)</strong></li>
  <li>
    <p><strong>SetFloat(int nameID, Vector4 value)</strong></p>
  </li>
  <li>컴퓨트 쉐이더에 선언된 <code class="language-plaintext highlighter-rouge">float4</code> 타입 변수에 값을 전달한다.</li>
</ul>

<h2 id="setmatrix--void"><strong>SetMatrix(…) : void</strong></h2>
<ul>
  <li><strong>SetMatrix(string name, Matrix4x4 value)</strong></li>
  <li>
    <p><strong>SetMatrix(int nameID, Matrix4x4 value)</strong></p>
  </li>
  <li>컴퓨트 쉐이더에 선언된 <code class="language-plaintext highlighter-rouge">float4x4</code> 타입 변수에 값을 전달한다.</li>
</ul>

<h2 id="settexture--void"><strong>SetTexture(…) : void</strong></h2>
<ul>
  <li><strong>SetBuffer(int kernalIndex, string name, Texture texture)</strong></li>
  <li><strong>SetBuffer(int kernalIndex, int nameID, Texture texture)</strong></li>
  <li><strong>SetBuffer(int kernalIndex, string name, Texture texture, int mipLevel)</strong></li>
  <li>
    <p><strong>SetBuffer(int kernalIndex, int nameID, Texture texture, int mipLevel)</strong></p>
  </li>
  <li>컴퓨트 쉐이더에 선언된 입력 전용의 텍스쳐 타입(<code class="language-plaintext highlighter-rouge">Texture2D</code> 등) 또는 입출력 가능한 텍스쳐 타입(<code class="language-plaintext highlighter-rouge">RWTexture2D&lt;float4&gt;</code> 등) 변수에 값을 전달한다.</li>
  <li>
    <p>입출력 텍스쳐는 <code class="language-plaintext highlighter-rouge">enableRandomWrite = true</code> 설정이 된 <code class="language-plaintext highlighter-rouge">RenderTexture</code>를 사용할 수 있다.</p>
  </li>
  <li><strong>매개변수</strong>
    <ul>
      <li><code class="language-plaintext highlighter-rouge">texture</code> : 입력 혹은 입출력으로 사용할 텍스쳐 객체</li>
      <li><code class="language-plaintext highlighter-rouge">mipLevel</code> : 밉맵 레벨 설정. 입출력 텍스쳐가 아닌 경우에는 무시된다.</li>
    </ul>
  </li>
</ul>

<h2 id="setbuffer--void"><strong>SetBuffer(…) : void</strong></h2>
<ul>
  <li><strong>SetBuffer(int kernalIndex, string name, ComputeBuffer buffer)</strong></li>
  <li><strong>SetBuffer(int kernalIndex, int nameID, ComputeBuffer buffer)</strong></li>
  <li>입출력으로 사용할 컴퓨트 버퍼 객체를 컴퓨트 쉐이더에 설정한다.</li>
</ul>

<p><br /></p>

<h1 id="computebuffer-클래스-api">ComputeBuffer 클래스 API</h1>
<hr />

<h2 id="컴퓨트-버퍼"><strong>컴퓨트 버퍼?</strong></h2>
<ul>
  <li>컴퓨트 쉐이더를 사용할 때, CPU와 GPU가 데이터를 주고 받기 위해 사용된다.</li>
  <li>컴퓨트 쉐이더뿐만 아니라 일반 쉐이더에서도 사용할 수 있다.</li>
  <li>쉐이더 내부에서는 <code class="language-plaintext highlighter-rouge">RWStructuredBuffer&lt;T&gt;</code>, <code class="language-plaintext highlighter-rouge">StructuredBuffer&lt;T&gt;</code>에 매핑된다.</li>
  <li>개별 타입(<code class="language-plaintext highlighter-rouge">float</code>, 벡터 종류 등) 또는 구조체의 <strong>배열 변수</strong>를 공유 데이터로 사용한다.
    <ul>
      <li>구조체를 사용할 경우, CPU와 GPU(쉐이더) 양측에 각각 동일하게 선언해야 한다.</li>
    </ul>
  </li>
</ul>

<p><br /></p>

<h2 id="생성자"><strong>생성자</strong></h2>
<ul>
  <li><strong>ComputeBuffer(int count, int stride)</strong></li>
  <li>
    <p><strong>ComputeBuffer(int count, int stride, ComputeBufferType type)</strong></p>
  </li>
  <li><strong>매개변수</strong>
    <ul>
      <li><code class="language-plaintext highlighter-rouge">count</code> : 버퍼 내의 요소 개수(쉽게 말해, 배열의 Length)</li>
      <li><code class="language-plaintext highlighter-rouge">stride</code> : 버퍼 요소 하나의 크기. 쉐이더 내 버퍼 타입의 크기와 일치해야 한다.<br />
예를 들어 <code class="language-plaintext highlighter-rouge">float3</code>, <code class="language-plaintext highlighter-rouge">float4</code>를 필드로 갖고 있는 구조체를 사용할 경우<br />
<code class="language-plaintext highlighter-rouge">stride</code>의 값은 <code class="language-plaintext highlighter-rouge">sizeof(float) * 7</code></li>
      <li><code class="language-plaintext highlighter-rouge">type</code> : 컴퓨트 쉐이더의 사용과 쉐이더 내의 변수 정의애 따라 달라진다.<br />
입력하지 않을 경우 기본 값은 <code class="language-plaintext highlighter-rouge">Default</code>이며,<br />
<code class="language-plaintext highlighter-rouge">RWStructuredBuffer&lt;T&gt;</code> 또는 <code class="language-plaintext highlighter-rouge">StructuredBuffer&lt;T&gt;</code>를 의미한다.</li>
    </ul>
  </li>
</ul>

<p><br /></p>

<h2 id="프로퍼티"><strong>프로퍼티</strong></h2>
<ul>
  <li><code class="language-plaintext highlighter-rouge">int count</code> : 버퍼 내 요소의 개수(읽기 전용)</li>
  <li><code class="language-plaintext highlighter-rouge">int stride</code> : 버퍼 내 각 요소의 크기(읽기 전용)</li>
</ul>

<p><br /></p>

<h2 id="setdata--void"><strong>SetData() : void</strong></h2>
<ul>
  <li><strong>SetData(Array data)</strong></li>
  <li><strong>SetData(List&lt;T&gt; data)</strong></li>
  <li>
    <p><strong>SetData(NativeArray&lt;T&gt; data)</strong></p>
  </li>
  <li>
    <p><strong>SetData(data, int arrayIndex, int bufferIndex, int count)</strong></p>
  </li>
  <li>CPU가 갖고 있는 배열을 컴퓨트 버퍼에 등록한다.</li>
  <li>매개변수가 4개인 메소드의 경우, 배열의 특정 인덱스(<code class="language-plaintext highlighter-rouge">arrayIndex</code>)부터 <code class="language-plaintext highlighter-rouge">count</code> 개수 만큼의 데이터를 
버퍼의 특정 인덱스(<code class="language-plaintext highlighter-rouge">bufferIndex</code>)부터 <code class="language-plaintext highlighter-rouge">count</code> 개수만큼의 범위에 등록한다.</li>
</ul>

<h2 id="getdata--void"><strong>GetData() : void</strong></h2>
<ul>
  <li><strong>GetData(Array data)</strong></li>
  <li>
    <p><strong>GetData(Array data, int arrayIndex, int bufferIndex, int count)</strong></p>
  </li>
  <li>컴퓨트 버퍼의 데이터 값을 배열로 가져온다.</li>
  <li>매개변수가 4개인 메소드의 경우, 버퍼의 특정 인덱스(<code class="language-plaintext highlighter-rouge">bufferIndex</code>)부터 <code class="language-plaintext highlighter-rouge">count</code> 개수만큼의 데이터를 
배열의 특정 인덱스(<code class="language-plaintext highlighter-rouge">arrayIndex</code>)부터 <code class="language-plaintext highlighter-rouge">count</code> 개수만큼의 범위에 가져온다.</li>
</ul>

<h2 id="isvalid--bool"><strong>IsValid() : bool</strong></h2>
<ul>
  <li>컴퓨트 버퍼가 유효한지 여부를 참조한다.</li>
</ul>

<h2 id="release--void"><strong>Release() : void</strong></h2>
<ul>
  <li>컴퓨트 버퍼를 해제한다.</li>
  <li>컴퓨트 버퍼 객체는 더이상 사용되지 않을 때, 예를 들면 <code class="language-plaintext highlighter-rouge">OnDestroy()</code>에서 반드시 직접 해제 해줘야 한다.</li>
</ul>

<p><br /></p>

<h1 id="예제--render-texture">예제 : Render Texture</h1>
<hr />
<ul>
  <li>화면에 스크린 UV 출력하기</li>
</ul>

<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/42164422/132733632-5ee83e86-c7d1-4483-81b0-db0904e843de.png" alt="image" /></p>

<p><br /></p>

<h2 id="drawscreenuvcompute">DrawScreenUV.compute</h2>

<details>
  <summary> 
…
</summary>

  <!--
https://www.aleksandrhovhannisyan.com/blog/how-to-add-a-copy-to-clipboard-button-to-your-jekyll-blog/
-->

  <div class="code-button-header">
    <p><button class="copy-code-button" aria-label="Copy code to clipboard"></button></p>
  </div>

  <div class="language-hlsl highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
</pre></td><td class="rouge-code"><pre><span class="c1">// 커널 함수의 이름을 명시한다.</span>
<span class="cp">#pragma kernel CSMain
</span>
<span class="c1">// 커널 계산을 마치고 결과를 출력할 입출력 텍스쳐</span>
<span class="c1">// 렌더 텍스쳐 포맷과 채널을 일치시킨다. (RGBA 4채널 =&gt; float4)</span>
<span class="kt">RWTexture2D</span><span class="o">&lt;</span><span class="kt">float4</span><span class="o">&gt;</span> <span class="n">Result</span><span class="p">;</span>

<span class="c1">// 스레드 그룹 당 쉐이더 개수 = 8 * 8 * 1 = 64</span>
<span class="c1">// 2D 텍스쳐에 대한 연산이므로 2차원으로 스레드 할당</span>
<span class="p">[</span><span class="nb">numthreads</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">1</span><span class="p">)]</span>
<span class="kt">void</span> <span class="nf">CSMain</span> <span class="p">(</span><span class="n">uint3</span> <span class="n">id</span> <span class="o">:</span> <span class="n">SV_DispatchThreadID</span><span class="p">)</span>
<span class="p">{</span>
    <span class="c1">// Note : 각 차원마다 총 스레드 개수(그룹 * 그룹당 스레드 수)가 (x, y, z)일 때,</span>
    <span class="c1">//        매개변수 id의 값은 (0, 0, 0) ~ (x - 1, y - 1, z - 1)까지 차례로 할당된다.</span>

    <span class="c1">// 텍스쳐 변수(렌더 텍스쳐)의 X, Y 성분의 길이, 즉 너비와 높이를 찾아온다.</span>
    <span class="n">uint</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">;</span>
    <span class="n">Result</span><span class="p">.</span><span class="n">GetDimensions</span><span class="p">(</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">);</span>

    <span class="c1">// 스크린 픽셀 좌표를 [0, 1] 범위로 변환한다.</span>
    <span class="kt">float2</span> <span class="n">uv</span> <span class="o">=</span> <span class="n">id</span><span class="p">.</span><span class="n">xy</span> <span class="o">/</span> <span class="kt">float2</span><span class="p">(</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">);</span>

    <span class="c1">// 텍스쳐에 색상을 넣는다.</span>
    <span class="n">Result</span><span class="p">[</span><span class="n">id</span><span class="p">.</span><span class="n">xy</span><span class="p">]</span> <span class="o">=</span> <span class="kt">float4</span><span class="p">(</span><span class="n">uv</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div>  </div>

</details>

<p><br /></p>

<h2 id="screenuvrenderercs">ScreenUVRenderer.cs</h2>

<details>
  <summary> 
…
</summary>

  <!--
https://www.aleksandrhovhannisyan.com/blog/how-to-add-a-copy-to-clipboard-button-to-your-jekyll-blog/
-->

  <div class="code-button-header">
    <p><button class="copy-code-button" aria-label="Copy code to clipboard"></button></p>
  </div>

  <div class="language-cs highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
</pre></td><td class="rouge-code"><pre><span class="k">using</span> <span class="nn">UnityEngine</span><span class="p">;</span>

<span class="k">public</span> <span class="k">class</span> <span class="nc">ScreenUVRenderer</span> <span class="p">:</span> <span class="n">MonoBehaviour</span>
<span class="p">{</span>
    <span class="c1">// 컴퓨트 쉐이더 객체를 인스펙터에서 할당한다.</span>
    <span class="k">public</span> <span class="n">ComputeShader</span> <span class="n">computeShader</span><span class="p">;</span>
    <span class="k">private</span> <span class="n">RenderTexture</span> <span class="n">_renderTarget</span><span class="p">;</span>

    <span class="c1">// 매프레임 화면의 렌더가 끝나면 호출된다.</span>
    <span class="k">private</span> <span class="k">void</span> <span class="nf">OnRenderImage</span><span class="p">(</span><span class="n">RenderTexture</span> <span class="n">source</span><span class="p">,</span> <span class="n">RenderTexture</span> <span class="n">destination</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nf">Render</span><span class="p">(</span><span class="n">destination</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">private</span> <span class="k">void</span> <span class="nf">Render</span><span class="p">(</span><span class="n">RenderTexture</span> <span class="n">destination</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="c1">// 렌더 텍스쳐의 초기화를 확인한다.</span>
        <span class="nf">InitRenderTexture</span><span class="p">();</span>

        <span class="c1">// 렌더 텍스쳐를 컴퓨트 쉐이더의 Result 변수에 입출력 텍스쳐로 할당한다.</span>
        <span class="n">computeShader</span><span class="p">.</span><span class="nf">SetTexture</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="s">"Result"</span><span class="p">,</span> <span class="n">_renderTarget</span><span class="p">);</span>
        
        <span class="c1">// 2차원 X, Y 스레드 그룹의 개수를 계산한다.</span>
        <span class="c1">// 각 차원마다 실행되는 스레드 수는 해당 차원의 스크린 픽셀 개수(너비, 높이)이며,</span>
        <span class="c1">// 따라서 (X Y 스레드 그룹 개수) = (너비 높이 / 그룹당 스레드 개수)이다.</span>
        <span class="c1">// 혹시나 계산 안되는 영역이 없도록, 개수는 버림 대신 올림 연산을 사용하여 정수로 변환한다.</span>
        <span class="kt">int</span> <span class="n">threadGroupsX</span> <span class="p">=</span> <span class="n">Mathf</span><span class="p">.</span><span class="nf">CeilToInt</span><span class="p">(</span><span class="n">Screen</span><span class="p">.</span><span class="n">width</span> <span class="p">/</span> <span class="m">8.0f</span><span class="p">);</span>
        <span class="kt">int</span> <span class="n">threadGroupsY</span> <span class="p">=</span> <span class="n">Mathf</span><span class="p">.</span><span class="nf">CeilToInt</span><span class="p">(</span><span class="n">Screen</span><span class="p">.</span><span class="n">height</span> <span class="p">/</span> <span class="m">8.0f</span><span class="p">);</span>
        
        <span class="c1">// 커널 ID(기본 0), 스레드 그룹 개수를 지정하여 컴퓨트 쉐이더를 실행한다.</span>
        <span class="n">computeShader</span><span class="p">.</span><span class="nf">Dispatch</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="n">threadGroupsX</span><span class="p">,</span> <span class="n">threadGroupsY</span><span class="p">,</span> <span class="m">1</span><span class="p">);</span>

        <span class="c1">// 결과 텍스쳐를 화면에 출력한다.</span>
        <span class="n">Graphics</span><span class="p">.</span><span class="nf">Blit</span><span class="p">(</span><span class="n">_renderTarget</span><span class="p">,</span> <span class="n">destination</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">private</span> <span class="k">void</span> <span class="nf">InitRenderTexture</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="c1">// 렌더 텍스쳐가 제거되거나, 크기에 변경이 생기면 재할당한다.</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">_renderTarget</span> <span class="p">==</span> <span class="k">null</span> <span class="p">||</span> <span class="n">_renderTarget</span><span class="p">.</span><span class="n">width</span> <span class="p">!=</span> <span class="n">Screen</span><span class="p">.</span><span class="n">width</span> <span class="p">||</span> <span class="n">_renderTarget</span><span class="p">.</span><span class="n">height</span> <span class="p">!=</span> <span class="n">Screen</span><span class="p">.</span><span class="n">height</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="c1">// 크기가 다른 렌더 텍스쳐가 이미 존재하고 있었다면 메모리에서 해제한다.</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">_renderTarget</span> <span class="p">!=</span> <span class="k">null</span><span class="p">)</span>
                <span class="n">_renderTarget</span><span class="p">.</span><span class="nf">Release</span><span class="p">();</span>

            <span class="c1">// 알맞은 설정의 렌더 텍스쳐를 생성한다.</span>
            <span class="c1">// 생성자의 세 번째 파라미터는 Z버퍼의 한 픽셀당 크기를 의미하며, 필요 없으므로 0으로 둔다.</span>
            
            <span class="c1">// RenderTextureReadWrite는 Linear로 설정하고,</span>
            <span class="c1">// RenderTextureFormat은 컴퓨트 쉐이더의 해당 텍스쳐 변수 채널에 알맞게 설정한다.</span>
            <span class="c1">// ARGBFLoat는 32비트 float4이다.</span>
            <span class="c1">// 지금은 RG 채널에서 계산된 UV만 출력하므로, 최대한 효율적으로 사용하려면 RG16 포맷을 사용해도 된다.</span>
            
            <span class="n">_renderTarget</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RenderTexture</span><span class="p">(</span><span class="n">Screen</span><span class="p">.</span><span class="n">width</span><span class="p">,</span> <span class="n">Screen</span><span class="p">.</span><span class="n">height</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span>
                <span class="n">RenderTextureFormat</span><span class="p">.</span><span class="n">ARGBFloat</span><span class="p">,</span> <span class="n">RenderTextureReadWrite</span><span class="p">.</span><span class="n">Linear</span><span class="p">);</span>
            
            <span class="c1">// 입출력 텍스쳐로 사용하기 위해 enableRandomWrite는 true로 설정해야 한다.</span>
            <span class="n">_renderTarget</span><span class="p">.</span><span class="n">enableRandomWrite</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span>
            <span class="n">_renderTarget</span><span class="p">.</span><span class="nf">Create</span><span class="p">();</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div>  </div>

</details>

<p><br /></p>

<h1 id="예제--compute-buffer">예제 : Compute Buffer</h1>
<hr />

<ul>
  <li>큐브 위치, 색상 시뮬레이션</li>
  <li>이 예제의 연산은 컴퓨트 쉐이더로 실행할만큼 무겁지 않으니 CPU 연산에 비해 이득이 되지는 않는다.</li>
  <li>컴퓨트 쉐이더 연산 결과를 CPU로 가져와서 적용하는 <code class="language-plaintext highlighter-rouge">_cubeBuffer.GetData()</code>도 병목일 수 있으므로, 컴퓨트 버퍼를 완전히 활용하려면 컴퓨트 쉐이더의 연산 결과를 바로 Vert/Frag 쉐이더에서 컴퓨트 버퍼 변수로 참조하여 GPU 내에서 갱신해주는 것이 좋다.</li>
</ul>

<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/42164422/134808168-206cc357-2a11-4591-9af6-a1c375e1cd6b.gif" alt="2021_0926_CubeSimulator" /></p>

<p><br /></p>

<h2 id="simulatecubescompute">SimulateCubes.compute</h2>

<details>
  <summary> 
…
</summary>

  <div class="language-hlsl highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
</pre></td><td class="rouge-code"><pre><span class="cp">#pragma kernel CSMain
</span>
<span class="c1">// 컴퓨트 버퍼에 사용될 타입</span>
<span class="c1">// CPU측의 구조체와 일치시킨다.</span>
<span class="k">struct</span> <span class="n">Cube</span>
<span class="p">{</span>
    <span class="kt">float3</span> <span class="n">position</span><span class="p">;</span>
    <span class="kt">float4</span> <span class="n">color</span><span class="p">;</span>
<span class="p">};</span>

<span class="c1">// 컴퓨트 버퍼를 통해 공유될 변수</span>
<span class="kt">RWStructuredBuffer</span><span class="o">&lt;</span><span class="n">Cube</span><span class="o">&gt;</span> <span class="n">cubeBuffer</span><span class="p">;</span>
<span class="n">float</span> <span class="n">time</span><span class="p">;</span>
<span class="n">float</span> <span class="n">updateSpeed</span><span class="p">;</span>
<span class="n">float</span> <span class="n">rowSize</span><span class="p">;</span>
<span class="n">float</span> <span class="n">waveFrequency</span><span class="p">;</span>

<span class="c1">// 1차원으로 스레드 그룹 당 스레드를 할당한다.</span>
<span class="p">[</span><span class="nb">numthreads</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)]</span>
<span class="kt">void</span> <span class="nf">CSMain</span> <span class="p">(</span><span class="n">uint3</span> <span class="n">id</span> <span class="o">:</span> <span class="n">SV_DispatchThreadID</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">float</span> <span class="n">t</span> <span class="o">=</span> <span class="n">time</span> <span class="o">*</span> <span class="n">updateSpeed</span><span class="p">;</span>
    <span class="n">float</span> <span class="n">t2</span> <span class="o">=</span> <span class="n">t</span> <span class="o">*</span> <span class="mi">0</span><span class="p">.</span><span class="mi">5</span><span class="p">;</span>
    <span class="n">float</span> <span class="n">i</span> <span class="o">=</span> <span class="nb">fmod</span><span class="p">(</span><span class="n">id</span><span class="p">.</span><span class="n">x</span><span class="p">,</span> <span class="n">rowSize</span><span class="p">);</span>
    <span class="n">float</span> <span class="n">wave</span> <span class="o">=</span> <span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="n">t</span><span class="p">)</span> <span class="o">*</span> <span class="n">waveFrequency</span><span class="p">;</span>

    <span class="c1">// 1. 위치</span>
    <span class="kt">float3</span> <span class="n">pos</span> <span class="o">=</span> <span class="n">cubeBuffer</span><span class="p">[</span><span class="n">id</span><span class="p">.</span><span class="n">x</span><span class="p">].</span><span class="n">position</span><span class="p">;</span>
    <span class="n">pos</span><span class="p">.</span><span class="n">y</span> <span class="o">=</span> <span class="nb">sin</span><span class="p">(</span><span class="n">wave</span><span class="p">);</span>

    <span class="c1">// 2. 색상</span>
    <span class="n">float</span> <span class="n">k</span> <span class="o">=</span> <span class="nb">sin</span><span class="p">(</span><span class="n">i</span> <span class="o">/</span> <span class="n">rowSize</span> <span class="o">+</span> <span class="n">t2</span><span class="p">)</span> <span class="o">*</span> <span class="mi">0</span><span class="p">.</span><span class="mi">5</span> <span class="o">+</span> <span class="mi">0</span><span class="p">.</span><span class="mi">5</span><span class="p">;</span>
    <span class="n">cubeBuffer</span><span class="p">[</span><span class="n">id</span><span class="p">.</span><span class="n">x</span><span class="p">].</span><span class="n">position</span> <span class="o">=</span> <span class="n">pos</span><span class="p">;</span>
    <span class="n">cubeBuffer</span><span class="p">[</span><span class="n">id</span><span class="p">.</span><span class="n">x</span><span class="p">].</span><span class="n">color</span> <span class="o">=</span> <span class="nb">lerp</span><span class="p">(</span><span class="kt">float4</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="kt">float4</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">k</span><span class="p">);</span>
<span class="p">}</span>

</pre></td></tr></tbody></table></code></div>  </div>

</details>

<p><br /></p>

<h2 id="cubesimulatorcs">CubeSimulator.cs</h2>

<details>
  <summary> 
…
</summary>

  <div class="language-cs highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
</pre></td><td class="rouge-code"><pre><span class="k">using</span> <span class="nn">UnityEngine</span><span class="p">;</span>

<span class="c1">// 날짜 : 2021-09-26 PM 8:59:19</span>
<span class="c1">// 작성자 : Rito</span>

<span class="c1">/// &lt;summary&gt; </span>
<span class="c1">/// 큐브 위치, 색상 시뮬레이션</span>
<span class="c1">/// &lt;/summary&gt;</span>
<span class="k">public</span> <span class="k">class</span> <span class="nc">CubeSimulator</span> <span class="p">:</span> <span class="n">MonoBehaviour</span>
<span class="p">{</span>
    <span class="k">private</span> <span class="k">struct</span> <span class="nc">Cube</span>
    <span class="p">{</span>
        <span class="k">public</span> <span class="n">Vector3</span> <span class="n">position</span><span class="p">;</span>
        <span class="k">public</span> <span class="n">Color</span> <span class="n">color</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="p">[</span><span class="nf">Tooltip</span><span class="p">(</span><span class="s">"true : 컴퓨트 쉐이더 사용 / false : CPU 사용"</span><span class="p">)]</span>
    <span class="p">[</span><span class="n">SerializeField</span><span class="p">]</span> <span class="k">private</span> <span class="kt">bool</span> <span class="n">useComputeShader</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span>

    <span class="p">[</span><span class="n">Space</span><span class="p">]</span>
    <span class="p">[</span><span class="n">SerializeField</span><span class="p">]</span> <span class="k">private</span> <span class="n">ComputeShader</span> <span class="n">computeShader</span><span class="p">;</span>
    <span class="p">[</span><span class="n">SerializeField</span><span class="p">]</span> <span class="k">private</span> <span class="n">Material</span> <span class="n">cubeMaterial</span><span class="p">;</span>

    <span class="p">[</span><span class="n">Space</span><span class="p">]</span>
    <span class="p">[</span><span class="nf">Range</span><span class="p">(</span><span class="m">0f</span><span class="p">,</span> <span class="m">100f</span><span class="p">)]</span>
    <span class="p">[</span><span class="n">SerializeField</span><span class="p">]</span> <span class="k">private</span> <span class="kt">float</span> <span class="n">updateSpeed</span> <span class="p">=</span> <span class="m">10f</span><span class="p">;</span>
    <span class="p">[</span><span class="nf">Range</span><span class="p">(</span><span class="m">0f</span><span class="p">,</span> <span class="m">2f</span><span class="p">)]</span>
    <span class="p">[</span><span class="n">SerializeField</span><span class="p">]</span> <span class="k">private</span> <span class="kt">float</span> <span class="n">waveFrequency</span> <span class="p">=</span> <span class="m">0.5f</span><span class="p">;</span>

    <span class="p">[</span><span class="n">Space</span><span class="p">]</span>
    <span class="p">[</span><span class="n">SerializeField</span><span class="p">]</span> <span class="k">private</span> <span class="kt">float</span> <span class="n">cubePositionInterval</span> <span class="p">=</span> <span class="m">1f</span><span class="p">;</span>
    <span class="p">[</span><span class="n">SerializeField</span><span class="p">]</span> <span class="k">private</span> <span class="kt">float</span> <span class="n">cubeScale</span> <span class="p">=</span> <span class="m">1f</span><span class="p">;</span>
    <span class="p">[</span><span class="n">SerializeField</span><span class="p">]</span> <span class="k">private</span> <span class="kt">int</span> <span class="n">rowSize</span> <span class="p">=</span> <span class="m">64</span><span class="p">;</span> <span class="c1">// 행, 열 크기</span>

    <span class="k">private</span> <span class="n">MeshRenderer</span><span class="p">[]</span> <span class="n">_cubeRenderers</span><span class="p">;</span>
    <span class="k">private</span> <span class="n">Transform</span><span class="p">[]</span> <span class="n">_cubeTransforms</span><span class="p">;</span>
    <span class="k">private</span> <span class="n">Cube</span><span class="p">[]</span> <span class="n">_cubeDatas</span><span class="p">;</span>

    <span class="k">private</span> <span class="n">MaterialPropertyBlock</span> <span class="n">_mpb</span><span class="p">;</span>
    <span class="k">private</span> <span class="n">ComputeBuffer</span> <span class="n">_cubeBuffer</span><span class="p">;</span>
    <span class="k">private</span> <span class="kt">int</span> <span class="n">_cubeCount</span><span class="p">;</span>

    <span class="cm">/***********************************************************************
    *                               Unity Events
    ***********************************************************************/</span>
    <span class="err">#</span><span class="n">region</span> <span class="p">.</span>
    <span class="k">private</span> <span class="k">void</span> <span class="nf">Start</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nf">Init</span><span class="p">();</span>
        <span class="nf">CreateCubes</span><span class="p">();</span>
        <span class="nf">InitComputeShaderData</span><span class="p">();</span>
    <span class="p">}</span>
    <span class="k">private</span> <span class="k">void</span> <span class="nf">Update</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">useComputeShader</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="nf">DispatchComputeShader</span><span class="p">();</span>
            <span class="nf">GetDataFromComputeShader</span><span class="p">();</span>
        <span class="p">}</span>
        <span class="k">else</span>
        <span class="p">{</span>
            <span class="nf">UpdateCPU</span><span class="p">();</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">private</span> <span class="k">void</span> <span class="nf">OnDestroy</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">_cubeBuffer</span><span class="p">.</span><span class="nf">Release</span><span class="p">();</span>
    <span class="p">}</span>
    <span class="err">#</span><span class="n">endregion</span>
    <span class="cm">/***********************************************************************
    *                               Init Methods
    ***********************************************************************/</span>
    <span class="err">#</span><span class="n">region</span> <span class="p">.</span>
    <span class="k">private</span> <span class="k">void</span> <span class="nf">Init</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">_mpb</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">MaterialPropertyBlock</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="c1">/// &lt;summary&gt; 정방형 분포 큐브들 생성 &lt;/summary&gt;</span>
    <span class="c1">/// lineCount : 행, 열 개수</span>
    <span class="k">private</span> <span class="k">void</span> <span class="nf">CreateCubes</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">_cubeCount</span> <span class="p">=</span> <span class="n">rowSize</span> <span class="p">*</span> <span class="n">rowSize</span><span class="p">;</span>
        <span class="n">_cubeRenderers</span> <span class="p">=</span> <span class="k">new</span> <span class="n">MeshRenderer</span><span class="p">[</span><span class="n">_cubeCount</span><span class="p">];</span>
        <span class="n">_cubeTransforms</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Transform</span><span class="p">[</span><span class="n">_cubeCount</span><span class="p">];</span>
        <span class="n">_cubeDatas</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Cube</span><span class="p">[</span><span class="n">_cubeCount</span><span class="p">];</span>

        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">j</span> <span class="p">&lt;</span> <span class="n">rowSize</span><span class="p">;</span> <span class="n">j</span><span class="p">++)</span>
        <span class="p">{</span>
            <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">i</span> <span class="p">&lt;</span> <span class="n">rowSize</span><span class="p">;</span> <span class="n">i</span><span class="p">++)</span>
            <span class="p">{</span>
                <span class="c1">// 큐브 게임오브젝트 생성</span>
                <span class="kt">var</span> <span class="n">goCube</span> <span class="p">=</span> <span class="n">GameObject</span><span class="p">.</span><span class="nf">CreatePrimitive</span><span class="p">(</span><span class="n">PrimitiveType</span><span class="p">.</span><span class="n">Cube</span><span class="p">);</span>
                <span class="n">Transform</span> <span class="n">trCube</span> <span class="p">=</span> <span class="n">goCube</span><span class="p">.</span><span class="n">transform</span><span class="p">;</span>
                <span class="n">trCube</span><span class="p">.</span><span class="n">localScale</span> <span class="p">=</span> <span class="n">Vector3</span><span class="p">.</span><span class="n">one</span> <span class="p">*</span> <span class="n">cubeScale</span><span class="p">;</span>
                <span class="n">trCube</span><span class="p">.</span><span class="n">localPosition</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Vector3</span><span class="p">(</span><span class="n">i</span> <span class="p">*</span> <span class="n">cubePositionInterval</span><span class="p">,</span> <span class="m">0f</span><span class="p">,</span> <span class="n">j</span> <span class="p">*</span> <span class="n">cubePositionInterval</span><span class="p">);</span>

                <span class="c1">// 리스트에 추가</span>
                <span class="n">_cubeTransforms</span><span class="p">[</span><span class="n">j</span> <span class="p">*</span> <span class="n">rowSize</span> <span class="p">+</span> <span class="n">i</span><span class="p">]</span> <span class="p">=</span> <span class="n">trCube</span><span class="p">;</span>

                <span class="n">MeshRenderer</span> <span class="n">mrCube</span> <span class="p">=</span> <span class="n">goCube</span><span class="p">.</span><span class="n">GetComponent</span><span class="p">&lt;</span><span class="n">MeshRenderer</span><span class="p">&gt;();</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">mrCube</span> <span class="p">!=</span> <span class="k">null</span><span class="p">)</span>
                <span class="p">{</span>
                    <span class="n">mrCube</span><span class="p">.</span><span class="n">shadowCastingMode</span> <span class="p">=</span> <span class="n">UnityEngine</span><span class="p">.</span><span class="n">Rendering</span><span class="p">.</span><span class="n">ShadowCastingMode</span><span class="p">.</span><span class="n">Off</span><span class="p">;</span>
                    <span class="n">mrCube</span><span class="p">.</span><span class="n">material</span> <span class="p">=</span> <span class="n">cubeMaterial</span><span class="p">;</span>
                    <span class="n">_cubeRenderers</span><span class="p">[</span><span class="n">j</span> <span class="p">*</span> <span class="n">rowSize</span> <span class="p">+</span> <span class="n">i</span><span class="p">]</span> <span class="p">=</span> <span class="n">mrCube</span><span class="p">;</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">private</span> <span class="k">void</span> <span class="nf">InitComputeShaderData</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="c1">// Cube[] 배열 데이터 생성</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">i</span> <span class="p">&lt;</span> <span class="n">_cubeCount</span><span class="p">;</span> <span class="n">i</span><span class="p">++)</span>
        <span class="p">{</span>
            <span class="n">_cubeDatas</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Cube</span><span class="p">()</span> <span class="p">{</span> <span class="n">position</span> <span class="p">=</span> <span class="n">_cubeRenderers</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">transform</span><span class="p">.</span><span class="n">position</span> <span class="p">};</span>
        <span class="p">}</span>

        <span class="c1">// 컴퓨트 버퍼 객체 생성</span>
        <span class="n">_cubeBuffer</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">ComputeBuffer</span><span class="p">(</span><span class="n">_cubeCount</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="kt">float</span><span class="p">)</span> <span class="p">*</span> <span class="m">7</span><span class="p">);</span>
        <span class="n">_cubeBuffer</span><span class="p">.</span><span class="nf">SetData</span><span class="p">(</span><span class="n">_cubeDatas</span><span class="p">);</span>

        <span class="c1">// 컴퓨트 쉐이더에 컴퓨트 버퍼 등록</span>
        <span class="n">computeShader</span><span class="p">.</span><span class="nf">SetBuffer</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="s">"cubeBuffer"</span><span class="p">,</span> <span class="n">_cubeBuffer</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="err">#</span><span class="n">endregion</span>
    <span class="cm">/***********************************************************************
    *                               Update Methods
    ***********************************************************************/</span>
    <span class="err">#</span><span class="n">region</span> <span class="p">.</span>
    <span class="k">private</span> <span class="k">void</span> <span class="nf">UpdateCPU</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="kt">float</span> <span class="n">t</span> <span class="p">=</span> <span class="n">Time</span><span class="p">.</span><span class="n">time</span> <span class="p">*</span> <span class="n">updateSpeed</span><span class="p">;</span>
        <span class="kt">float</span> <span class="n">t2</span> <span class="p">=</span> <span class="n">t</span> <span class="p">*</span> <span class="m">0.5f</span><span class="p">;</span>

        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">j</span> <span class="p">&lt;</span> <span class="n">rowSize</span><span class="p">;</span> <span class="n">j</span><span class="p">++)</span>
        <span class="p">{</span>
            <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">i</span> <span class="p">&lt;</span> <span class="n">rowSize</span><span class="p">;</span> <span class="n">i</span><span class="p">++)</span>
            <span class="p">{</span>
                <span class="kt">int</span> <span class="n">index</span> <span class="p">=</span> <span class="n">j</span> <span class="p">*</span> <span class="n">rowSize</span> <span class="p">+</span> <span class="n">i</span><span class="p">;</span>
                <span class="n">Transform</span> <span class="n">tran</span> <span class="p">=</span> <span class="n">_cubeTransforms</span><span class="p">[</span><span class="n">index</span><span class="p">];</span>
                <span class="n">Vector3</span> <span class="n">pos</span> <span class="p">=</span> <span class="n">tran</span><span class="p">.</span><span class="n">position</span><span class="p">;</span>

                <span class="c1">// Position</span>
                <span class="kt">float</span> <span class="n">wave</span> <span class="p">=</span> <span class="p">(</span><span class="n">i</span> <span class="p">+</span> <span class="n">t</span><span class="p">)</span> <span class="p">*</span> <span class="n">waveFrequency</span><span class="p">;</span>
                <span class="n">pos</span><span class="p">.</span><span class="n">y</span> <span class="p">=</span> <span class="n">Mathf</span><span class="p">.</span><span class="nf">Sin</span><span class="p">(</span><span class="n">wave</span><span class="p">);</span>
                <span class="n">tran</span><span class="p">.</span><span class="n">position</span> <span class="p">=</span> <span class="n">pos</span><span class="p">;</span>

                <span class="c1">// Color</span>
                <span class="kt">float</span> <span class="n">k</span> <span class="p">=</span> <span class="n">Mathf</span><span class="p">.</span><span class="nf">Sin</span><span class="p">((</span><span class="kt">float</span><span class="p">)</span><span class="n">i</span> <span class="p">/</span> <span class="n">rowSize</span> <span class="p">+</span> <span class="n">t2</span><span class="p">)</span> <span class="p">*</span> <span class="m">0.5f</span> <span class="p">+</span> <span class="m">0.5f</span><span class="p">;</span>
                <span class="n">_mpb</span><span class="p">.</span><span class="nf">SetColor</span><span class="p">(</span><span class="s">"_Color"</span><span class="p">,</span> <span class="n">Color</span><span class="p">.</span><span class="nf">Lerp</span><span class="p">(</span><span class="n">Color</span><span class="p">.</span><span class="n">red</span><span class="p">,</span> <span class="n">Color</span><span class="p">.</span><span class="n">blue</span><span class="p">,</span> <span class="n">k</span><span class="p">));</span>
                <span class="n">_cubeRenderers</span><span class="p">[</span><span class="n">index</span><span class="p">].</span><span class="nf">SetPropertyBlock</span><span class="p">(</span><span class="n">_mpb</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">private</span> <span class="k">void</span> <span class="nf">DispatchComputeShader</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="c1">// 컴퓨트 쉐이더에 변수 값 등록</span>
        <span class="n">computeShader</span><span class="p">.</span><span class="nf">SetFloat</span><span class="p">(</span><span class="s">"time"</span><span class="p">,</span> <span class="n">Time</span><span class="p">.</span><span class="n">time</span><span class="p">);</span>
        <span class="n">computeShader</span><span class="p">.</span><span class="nf">SetFloat</span><span class="p">(</span><span class="s">"updateSpeed"</span><span class="p">,</span> <span class="n">updateSpeed</span><span class="p">);</span>
        <span class="n">computeShader</span><span class="p">.</span><span class="nf">SetFloat</span><span class="p">(</span><span class="s">"rowSize"</span><span class="p">,</span> <span class="n">rowSize</span><span class="p">);</span>
        <span class="n">computeShader</span><span class="p">.</span><span class="nf">SetFloat</span><span class="p">(</span><span class="s">"waveFrequency"</span><span class="p">,</span> <span class="n">waveFrequency</span><span class="p">);</span>
        
        <span class="c1">// 스레드 그룹 개수 계산</span>
        <span class="n">computeShader</span><span class="p">.</span><span class="nf">GetKernelThreadGroupSizes</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="k">out</span> <span class="kt">uint</span> <span class="n">numX</span><span class="p">,</span> <span class="k">out</span> <span class="n">_</span><span class="p">,</span> <span class="k">out</span> <span class="n">_</span><span class="p">);</span>
        <span class="kt">int</span> <span class="n">numThreadGroups</span> <span class="p">=</span> <span class="n">Mathf</span><span class="p">.</span><span class="nf">CeilToInt</span><span class="p">((</span><span class="kt">float</span><span class="p">)</span><span class="n">_cubeCount</span> <span class="p">/</span> <span class="n">numX</span><span class="p">);</span>

        <span class="c1">// 컴퓨트 쉐이더 실행</span>
        <span class="n">computeShader</span><span class="p">.</span><span class="nf">Dispatch</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="n">numThreadGroups</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">1</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">private</span> <span class="k">void</span> <span class="nf">GetDataFromComputeShader</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="c1">// 컴퓨트 버퍼로부터 데이터 읽어오기</span>
        <span class="n">_cubeBuffer</span><span class="p">.</span><span class="nf">GetData</span><span class="p">(</span><span class="n">_cubeDatas</span><span class="p">);</span>

        <span class="c1">// 읽어온 데이터(위치, 색상) 적용</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">i</span> <span class="p">&lt;</span> <span class="n">_cubeCount</span><span class="p">;</span> <span class="n">i</span><span class="p">++)</span>
        <span class="p">{</span>
            <span class="n">_cubeTransforms</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">position</span> <span class="p">=</span> <span class="n">_cubeDatas</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">position</span><span class="p">;</span>

            <span class="n">_mpb</span><span class="p">.</span><span class="nf">SetColor</span><span class="p">(</span><span class="s">"_Color"</span><span class="p">,</span> <span class="n">_cubeDatas</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">color</span><span class="p">);</span>
            <span class="n">_cubeRenderers</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="nf">SetPropertyBlock</span><span class="p">(</span><span class="n">_mpb</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="err">#</span><span class="n">endregion</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div>  </div>

</details>

<p><br /></p>

<h1 id="references">References</h1>
<hr />
<ul>
  <li><a href="https://docs.unity3d.com/kr/current/Manual/class-ComputeShader.html">https://docs.unity3d.com/kr/current/Manual/class-ComputeShader.html</a></li>
  <li><a href="https://docs.unity3d.com/kr/current/ScriptReference/ComputeShader.html">https://docs.unity3d.com/kr/current/ScriptReference/ComputeShader.html</a></li>
  <li><a href="https://docs.unity3d.com/kr/current/ScriptReference/ComputeBuffer.html">https://docs.unity3d.com/kr/current/ScriptReference/ComputeBuffer.html</a></li>
  <li>
    <p><a href="https://docs.unity3d.com/ScriptReference/RenderTexture.html">https://docs.unity3d.com/ScriptReference/RenderTexture.html</a></p>
  </li>
  <li><a href="https://www.slideshare.net/QooJuice/compute-shader-206256248">https://www.slideshare.net/QooJuice/compute-shader-206256248</a></li>
  <li>
    <p><a href="https://catlikecoding.com/unity/tutorials/basics/compute-shaders/">https://catlikecoding.com/unity/tutorials/basics/compute-shaders/</a></p>
  </li>
  <li><a href="https://blog.naver.com/PostView.naver?blogId=kimsung4752&amp;logNo=221234371788">https://blog.naver.com/PostView.naver?blogId=kimsung4752&amp;logNo=221234371788</a></li>
  <li><a href="https://blog.naver.com/PostView.naver?blogId=kimsung4752&amp;logNo=221292611668">https://blog.naver.com/PostView.naver?blogId=kimsung4752&amp;logNo=221292611668</a></li>
  <li><a href="https://blog.naver.com/PostView.naver?blogId=kimsung4752&amp;logNo=221292620292">https://blog.naver.com/PostView.naver?blogId=kimsung4752&amp;logNo=221292620292</a></li>
  <li><a href="https://m.blog.naver.com/jungwan82/221714956151">https://m.blog.naver.com/jungwan82/221714956151</a></li>
</ul>


      </div>

      <div class="post-tail-wrapper text-muted">

        <!-- categories -->
        
        <div class="post-meta mb-3">
          <i class="far fa-folder-open fa-fw mr-1"></i>
          
            <a href='/categories/unity/'>Unity</a>,
            <a href='/categories/unity-memo/'>Unity Memo</a>
        </div>
        

        <!-- tags -->
        
        <div class="post-tags">
          <i class="fa fa-tags fa-fw mr-1"></i>
          
          <a href="/tags/unity/"
            class="post-tag no-text-decoration" >unity</a>
          
          <a href="/tags/csharp/"
            class="post-tag no-text-decoration" >csharp</a>
          
          </div>
        

        <div class="post-tail-bottom
          d-flex justify-content-between align-items-center mt-3 pt-5 pb-2">
          
          <div class="license-wrapper">
            This post is licensed under
            <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a>
            by the author.
          </div>
          

          <!--
 Post sharing snippet

 v2.1
 https://github.com/cotes2020/jekyll-theme-chirpy
 © 2019 Cotes Chung
 Published under the MIT License
-->

<div class="share-wrapper">
  <span class="share-label text-muted mr-1">Share</span>
  <span class="share-icons">
    
    

    
      
        <a href="https://twitter.com/intent/tweet?text=유니티 - 컴퓨트 쉐이더(Compute Shader) - Rito15&url=https://rito15.github.io/posts/unity-compute-shader/" data-toggle="tooltip" data-placement="top"
          title="Twitter" target="_blank" rel="noopener" aria-label="Twitter">
          <i class="fa-fw fab fa-twitter"></i>
        </a>
    
      
        <a href="https://www.facebook.com/sharer/sharer.php?title=유니티 - 컴퓨트 쉐이더(Compute Shader) - Rito15&u=https://rito15.github.io/posts/unity-compute-shader/" data-toggle="tooltip" data-placement="top"
          title="Facebook" target="_blank" rel="noopener" aria-label="Facebook">
          <i class="fa-fw fab fa-facebook-square"></i>
        </a>
    
      
        <a href="https://telegram.me/share?text=유니티 - 컴퓨트 쉐이더(Compute Shader) - Rito15&url=https://rito15.github.io/posts/unity-compute-shader/" data-toggle="tooltip" data-placement="top"
          title="Telegram" target="_blank" rel="noopener" aria-label="Telegram">
          <i class="fa-fw fab fa-telegram"></i>
        </a>
    

    <i class="fa-fw fas fa-link small" onclick="copyLink()"
        data-toggle="tooltip" data-placement="top" title="Copy link"></i>

  </span>
</div>


        </div><!-- .post-tail-bottom -->

      </div><!-- div.post-tail -->

    </div> <!-- .post -->


  </div> <!-- #post-wrapper -->

  

  

  <!--
  The Pannel on right side (Desktop views)
  v2.0
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2017-2019 Cotes Chung
  MIT License
-->

<div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down">

  <div class="access">

  














  

    <div id="access-lastmod" class="post">
      <span>Recent Update</span>
      <ul class="post-content pl-0 pb-1 ml-1 mt-2">

      
        
        
        
        <li><a href="/posts/unity-million-dust-simulation/">유니티 - 물리 기반 먼지 시뮬레이션</a></li>
      
        
        
        
        <li><a href="/posts/sphere-aabb-intersection/">Sphere-AABB Intersection</a></li>
      
        
        
        
        <li><a href="/posts/cs-winform-notifyicon/">C# 윈폼 - Notify Icon 사용하기</a></li>
      
        
        
        
        <li><a href="/posts/cs-winform-prevent-duplication/">C# 윈폼 - 중복 실행 방지</a></li>
      
        
        
        
        <li><a href="/posts/cs-winform-pass-through-mouse-events/">C# 윈폼 - 마우스 이벤트를 통과시킬 수 있는 컨트롤 만들기</a></li>
      

      </ul>
    </div> <!-- #access-lastmod -->

  

  















  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        



  
    <div id="access-tags">
      <span>Trending Tags</span>
      <div class="d-flex flex-wrap mt-3 mb-1 mr-3">

      
        
        <a class="post-tag" href="/tags/csharp/">csharp</a>
      
        
        <a class="post-tag" href="/tags/unity/">unity</a>
      
        
        <a class="post-tag" href="/tags/editor/">editor</a>
      
        
        <a class="post-tag" href="/tags/shader/">shader</a>
      
        
        <a class="post-tag" href="/tags/memo/">memo</a>
      
        
        <a class="post-tag" href="/tags/graphics/">graphics</a>
      
        
        <a class="post-tag" href="/tags/opengl/">opengl</a>
      
        
        <a class="post-tag" href="/tags/thread/">thread</a>
      
        
        <a class="post-tag" href="/tags/amplify/">amplify</a>
      
        
        <a class="post-tag" href="/tags/plugin/">plugin</a>
      

      </div>
    </div>
  
  </div> <!-- .access -->

  
    <div id="toc-wrapper" class="pl-0 pr-4 mb-5">
      <span class="pl-3 pt-2 mb-2">Contents</span>
      <nav id="toc" data-toggle="toc"></nav>
    </div>
  

</div> <!-- #panel-wrapper -->


</div> <!-- .row -->

<div class="row">
  <div class="col-12 col-lg-11 col-xl-8">
    <div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4">

    <!--
 Recommend the other 3 posts according to the tags and categories of the current post,
 if the number is not enough, use the other latest posts to supplement.

 v2.0
 https://github.com/cotes2020/jekyll-theme-chirpy
 © 2019 Cotes Chung
 Published under the MIT License
-->

<!-- The total size of related posts  -->


<!-- An random integer that bigger than 0  -->


<!-- Equals to TAG_SCORE / {max_categories_hierarchy}  -->








  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  
    
  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  








<!-- Fill with the other newlest posts  -->






  <div id="related-posts" class="mt-5 mb-2 mb-sm-4">
    <h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3>
    <div class="card-deck mb-4">
    
      
      
      <div class="card">
        <a href="/posts/unity-fix-unitypackage-association/">
          <div class="card-body">
            <!--
  Date format snippet

  v2.4.1
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2020 Cotes Chung
  MIT License
-->
<span class="timeago small"
  >

  
  

  
    Sep  1
  

  <i class="unloaded">2021-09-01T23:33:00+09:00</i>

</span>
            <h3 class="pt-0 mt-1 mb-3" data-toc-skip>유니티 - .unitypackage 확장자 연결 끊어진 경우 해결하기</h3>
            <div class="text-muted small">
              <p>
                





                Note


컴퓨터에 설치된 유니티 에디터 버전 중 하나를 지운 경우,

.unitypackage 확장자의 연결이 끊어지는 경우가 종종 있다.

확장자의 연결 프로그램이 단순한 응용 프로그램 실행이라면 상관 없지만,

.unitypackage 확장자의 경우 그렇지 않기 때문에 연결프로그램 연결만으로는 해결할 수 없다.

이를 비교적 간단히 해결하기 위...
              </p>
            </div>
          </div>
        </a>
      </div>
    
      
      
      <div class="card">
        <a href="/posts/unity-fixed-update-and-physics-loop/">
          <div class="card-body">
            <!--
  Date format snippet

  v2.4.1
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2020 Cotes Chung
  MIT License
-->
<span class="timeago small"
  >

  
  

  
    Oct 23
  

  <i class="unloaded">2021-10-23T03:45:00+09:00</i>

</span>
            <h3 class="pt-0 mt-1 mb-3" data-toc-skip>유니티 - FixedUpdate()와 Physics Loop에 대한 이해</h3>
            <div class="text-muted small">
              <p>
                





                Update()와 Game Loop


유니티 엔진의 Update()는 매 프레임 호출되며,

이동, 회전, 입력, 실시간 계산 등 수많은 기능을 여기에 작성한다.

그렇다면 Update()의 정체는 무엇일까?



그래픽스 라이브러리를 통해 구현되는 게임은 기본적으로 Game Loop(게임 루프) 를 통해 프레임 기반 동작이 수행된다.

Direct...
              </p>
            </div>
          </div>
        </a>
      </div>
    
      
      
      <div class="card">
        <a href="/posts/unity-path-by-platform/">
          <div class="card-body">
            <!--
  Date format snippet

  v2.4.1
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2020 Cotes Chung
  MIT License
-->
<span class="timeago small"
  >

  
  

  
    Sep  7
  

  <i class="unloaded">2021-09-07T19:39:00+09:00</i>

</span>
            <h3 class="pt-0 mt-1 mb-3" data-toc-skip>유니티 - 플랫폼별 경로들</h3>
            <div class="text-muted small">
              <p>
                





                경로 파라미터



  &lt;projectroot&gt; : 유니티 에디터 프로젝트 폴더 루트 경로
  &lt;executablefolder&gt; : 빌드된 실행 파일의 폴더 경로
  &lt;companyname&gt; : Project Settings - Player에서 지정한 Company Name
  &lt;productname&gt; : P...
              </p>
            </div>
          </div>
        </a>
      </div>
    
    </div> <!-- .card-deck -->
  </div> <!-- #related-posts -->



    <!--
  Navigation buttons at the bottom of the post.

  v2.1
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2020 Cotes Chung
  MIT License
-->

<div class="post-navigation d-flex justify-content-between">
  
  <a href="/posts/unity-editor-layout-control-heights/" class="btn btn-outline-primary">
    <p>유니티 에디터 - 버전별 자동 레이아웃 컨트롤 기본 높이</p>
  </a>
  

  
  <a href="/posts/cs-string-first-char-to-lower-or-upper/" class="btn btn-outline-primary">
    <p>C# Span 사용하여 문자열의 첫 문자만 대소문자 변경하기</p>
  </a>
  

</div>

    

    </div> <!-- #post-extend-wrapper -->

  </div> <!-- .col-* -->

</div> <!-- .row -->



<script>
/* 코드 블록 우측 상단 Copy 버튼 */
const codes = document.querySelectorAll('.code-button-header + .highlighter-rouge .rouge-code');
const copyCodeButtons = document.querySelectorAll('.copy-code-button');

copyCodeButtons.forEach((copyCodeButton, index) => {
  copyCodeButton.addEventListener('click', () => {
    window.navigator.clipboard.writeText(codes[index].innerText.slice(0, -1));
    copyCodeButton.classList.add('copied');

    setTimeout(() => {
      copyCodeButton.classList.remove('copied');
    }, 2000);
  });
});
</script>


  <!-- image lazy load: https://github.com/ApoorvSaxena/lozad.js -->
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script>

<script type="text/javascript">
  const imgs = document.querySelectorAll('.post-content img');
  const observer = lozad(imgs);
  observer.observe();
</script>




        <!--
  The Footer
  v2.0
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2017-2019 Cotes Chung
  MIT License
-->

<footer class="d-flex w-100 justify-content-center">
  <div class="d-flex justify-content-between align-items-center">
    <div class="footer-left">
      <p class="mb-0">
        © 2021
        <a href="https://github.com/rito15">Rito15</a>.
        
        <span data-toggle="tooltip" data-placement="top"
          title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span>
        
      </p>
    </div>

    <div class="footer-right">
      <p class="mb-0">
        Powered by
        <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a>
        with
        <a href="https://github.com/cotes2020/jekyll-theme-chirpy/" target="_blank" rel="noopener">Chirpy</a>
        theme.
      </p>
    </div>

  </div> <!-- div.d-flex -->
</footer>


      </div>

      <!--
  The Search results
  v2.0
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2017-2019 Cotes Chung
  MIT License
-->
<div id="search-result-wrapper" class="d-flex justify-content-center unloaded">
  <div class="col-12 col-xl-11 post-content">
    <div id="search-hints">
      <h4 class="text-muted mb-4">Trending Tags</h4>

      















  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        



      
        
        <a class="post-tag" href="/tags/csharp/">csharp</a>
      
        
        <a class="post-tag" href="/tags/unity/">unity</a>
      
        
        <a class="post-tag" href="/tags/editor/">editor</a>
      
        
        <a class="post-tag" href="/tags/shader/">shader</a>
      
        
        <a class="post-tag" href="/tags/memo/">memo</a>
      
        
        <a class="post-tag" href="/tags/graphics/">graphics</a>
      
        
        <a class="post-tag" href="/tags/opengl/">opengl</a>
      
        
        <a class="post-tag" href="/tags/thread/">thread</a>
      
        
        <a class="post-tag" href="/tags/amplify/">amplify</a>
      
        
        <a class="post-tag" href="/tags/plugin/">plugin</a>
      

    </div>
    <div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div>
  </div>
</div>


    </div> <!-- #main-wrapper -->

    
      <!--
  mermaid-js loader
-->
<script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
<script>
  $(function() {
    let initTheme = "default";

    if ($("html[mode=dark]").length > 0
      || ($("html[mode]").length == 0
        && window.matchMedia("(prefers-color-scheme: dark)").matches ) ) {
      initTheme = "dark";
    }

    let mermaidConf = {
      theme: initTheme  /* <default|dark|forest|neutral> */
    };

    /* Markdown converts to HTML */
    $("pre").has("code.language-mermaid").each(function() {
      let svgCode = $(this).children().html();
      $(this).addClass("unloaded");
      $(this).after(`<div class=\"mermaid\">${svgCode}</div>`);
    });

    mermaid.initialize(mermaidConf);
  });
</script>

    

    <div id="mask"></div>

    <a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button">
      <i class="fas fa-angle-up"></i>
    </a>

    <!--
  Jekyll Simple Search loader
  v2.0
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2017-2019 Cotes Chung
  MIT License
-->





<script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script>

<script>
SimpleJekyllSearch({
  searchInput: document.getElementById('search-input'),
  resultsContainer: document.getElementById('search-results'),
  json: '/assets/js/data/search.json',
  searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0">  <a href="https://rito15.github.io{url}">{title}</a>  <div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1">    <div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>{categories}</div>    <div><i class="fa fa-tag fa-fw"></i>{tags}</div>  </div>  <p>{snippet}</p></div>',
  noResultsText: '<p class="mt-5">Oops! No result founds.</p>'
});
</script>


    <!-- 2021-06-29 추가 : 애널리틱스 적용 -->
    <!--
  The GA snippet
  v2.0
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2017-2019 Cotes Chung
  MIT License
-->
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-JV8DN2JPP7"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-JV8DN2JPP7');
</script>

  </body>

</html>

