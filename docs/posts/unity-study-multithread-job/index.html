<!DOCTYPE html>



<html lang="en" 
  
    mode="dark"
  
>

  <!--
  The Head
  v2.0
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2017-2019 Cotes Chung
  MIT License
-->

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="theme" content="Chirpy v2.7.2">

  <!-- Begin Jekyll SEO tag v2.7.1 -->
<meta name="generator" content="Jekyll v4.2.0" />
<meta property="og:title" content="유니티의 멀티스레딩과 Job의 활용" />
<meta name="author" content="Rito15" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="유니티에서의 멀티스레딩 유니티엔진에서는 기본적으로 모든 CPU 연산이 메인 스레드에서 이루어진다." />
<meta property="og:description" content="유니티에서의 멀티스레딩 유니티엔진에서는 기본적으로 모든 CPU 연산이 메인 스레드에서 이루어진다." />
<link rel="canonical" href="https://rito15.github.io/posts/unity-study-multithread-job/" />
<meta property="og:url" content="https://rito15.github.io/posts/unity-study-multithread-job/" />
<meta property="og:site_name" content="Rito15" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-04-04T22:00:00+09:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="유니티의 멀티스레딩과 Job의 활용" />
<meta name="google-site-verification" content="google_meta_tag_verification" />
<script type="application/ld+json">
{"description":"유니티에서의 멀티스레딩 유니티엔진에서는 기본적으로 모든 CPU 연산이 메인 스레드에서 이루어진다.","datePublished":"2021-04-04T22:00:00+09:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://rito15.github.io/posts/unity-study-multithread-job/"},"url":"https://rito15.github.io/posts/unity-study-multithread-job/","author":{"@type":"Person","name":"Rito15"},"headline":"유니티의 멀티스레딩과 Job의 활용","dateModified":"2021-04-04T22:00:00+09:00","@type":"BlogPosting","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->


  <title>유니티의 멀티스레딩과 Job의 활용 | Rito15
  </title>

  <!--
  The Favicons for Web, Android, Microsoft, and iOS (iPhone and iPad) Apps
  Generated by: https://www.favicon-generator.org/
  v2.0
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2019 Cotes Chung
  Published under the MIT license
-->



<link rel="shortcut icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon">
<link rel="icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon">

<link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon.png">
<link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon-precomposed.png">
<link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicons/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicons/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicons/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicons/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicons/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicons/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicons/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicons/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-icon-180x180.png">

<link rel="icon" type="image/png" sizes="192x192"  href="/assets/img/favicons/android-icon-192x192.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicons/favicon-96x96.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png">

<link rel="manifest" href="/assets/img/favicons/manifest.json">
<meta name='msapplication-config' content='/assets/img/favicons/browserconfig.xml'>
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/assets/img/favicons/ms-icon-144x144.png">
<meta name="theme-color" content="#ffffff">


  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous">
  <link rel="dns-prefetch" href="https://fonts.gstatic.com">

  <!-- GA -->
  

  <!-- jsDelivr CDN -->
  <link rel="preconnect" href="cdn.jsdelivr.net">
  <link rel="dns-prefetch" href="cdn.jsdelivr.net">

  <!-- Bootstrap -->
  <link rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
    integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous">

  <!-- Font Awesome -->
  <link rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"
    integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ="
    crossorigin="anonymous">

  <!--
  CSS selector for site.
  Chirpy v2.3
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2020 Cotes Chung
  MIT Licensed
-->






<link rel="preload" href="/assets/css/post.css" as="style">
<link rel="stylesheet" href="/assets/css/post.css">


  
    <link rel="preload" as="style" href="/assets/css/lib/bootstrap-toc.min.css">
    <link rel="stylesheet" href="/assets/css/lib/bootstrap-toc.min.css" />
  



  <!-- JavaScripts -->

  <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script>

  <script defer
    src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script>

  <!--
  JS selector for site.
  Chirpy v2.3
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2020 Cotes Chung
  MIT Licensed
-->





<script async src="/assets/js/post.min.js"></script>


  <!-- MathJax -->
  <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>





</head>


  <body data-spy="scroll" data-target="#toc">

    <!--
  The Side Bar
  v2.0
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2017-2019 Cotes Chung
  MIT License
-->

<div id="sidebar" class="d-flex flex-column align-items-end">

  <div class="profile-wrapper text-center">
    <div id="avatar">
      <a href="/" alt="avatar" class="mx-auto">
        
        <img src="/assets/img/favicons/android-icon-192x192.png" alt="avatar" onerror="this.style.display='none'">
      </a>
    </div>

    <div class="site-title mt-3">
      <a href="/">Rito15</a>
    </div>

    <div class="site-subtitle font-italic">Unity Csharp Developer</div>

  </div><!-- .profile-wrapper -->

  <ul class="w-100">
    <!-- home -->
    <li class="nav-item">
      <a href="/" class="nav-link">
        <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i>
        <span>HOME</span>
      </a>
    </li>
    <!-- the real tabs -->
    
    <li class="nav-item">
      <a href="/tabs/categories/" class="nav-link">
        <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i>
        <span>CATEGORIES</span>
      </a>
    </li> <!-- .nav-item -->
    
    <li class="nav-item">
      <a href="/tabs/tags/" class="nav-link">
        <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i>
        <span>TAGS</span>
      </a>
    </li> <!-- .nav-item -->
    
    <li class="nav-item">
      <a href="/tabs/archives/" class="nav-link">
        <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i>
        <span>ARCHIVES</span>
      </a>
    </li> <!-- .nav-item -->
    
    <li class="nav-item">
      <a href="/tabs/about/" class="nav-link">
        <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i>
        <span>ABOUT</span>
      </a>
    </li> <!-- .nav-item -->
    

  </ul> <!-- ul.nav.flex-column -->

  <div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center">

    
      

      
      <a href="https://github.com/rito15" aria-label="github"
        
        target="_blank" rel="noopener">
        <i class="fab fa-github-alt"></i>
      </a>
      

    
      

      
      <a href="
          javascript:location.href = 'mailto:' + ['ghdtkals15','gmail.com'].join('@')" aria-label="email"
        
        >
        <i class="fas fa-envelope"></i>
      </a>
      

    
      

      
      <a href="/feed.xml" aria-label="rss"
        
        >
        <i class="fas fa-rss"></i>
      </a>
      

    

    

  </div> <!-- .sidebar-bottom -->

</div><!-- #sidebar -->


    <!--
  The Top Bar
  v2.0
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2017-2019 Cotes Chung
  MIT License
-->
<div id="topbar-wrapper" class="row justify-content-center topbar-down">
  <div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between">
    <span id="breadcrumb">
      
        
        <span>
          <a href="/">
            Posts
          </a>
        </span>
        
      

      
        <span>유니티의 멀티스레딩과 Job의 활용</span>
      

    </span><!-- endof #breadcrumb -->

    <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i>

    <div id="topbar-title">
      Post
    </div>

    <i id="search-trigger" class="fas fa-search fa-fw"></i>
    <span id="search-wrapper" class="align-items-center">
      <i class="fas fa-search fa-fw"></i>
      <input class="form-control" id="search-input" type="search"
        aria-label="search" placeholder="Search...">
      <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i>
    </span>
    <span id="search-cancel" >Cancel</span>
  </div>

</div>


    <div id="main-wrapper">
      <div id="main">

        <!--
  Refactor the HTML structure.
-->



<!--
  In order to allow a wide table to scroll horizontally,
  we suround the markdown table with `<div class="table-wrapper">` and `</div>`
-->


<!--
  Fixed kramdown code highlight rendering:
  https://github.com/penibelst/jekyll-compress-html/issues/101
  https://github.com/penibelst/jekyll-compress-html/issues/71#issuecomment-188144901
-->


<!-- Add attribute 'hide-bullet' to the checkbox list -->




  

  

  <!-- lazy-load images <https://github.com/ApoorvSaxena/lozad.js#usage> -->
  
  

  

  



<!-- return -->
<div class="row">

  <div id="post-wrapper" class="col-12 col-lg-11 col-xl-8">

    <div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4">

      <h1 data-toc-skip>유니티의 멀티스레딩과 Job의 활용</h1>

      <div class="post-meta text-muted d-flex flex-column">
        <!-- Published date and author -->
        <div>
          <!--
  Date format snippet

  v2.4.1
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2020 Cotes Chung
  MIT License
-->
<span class="timeago "
  
    data-toggle="tooltip"
    data-placement="bottom"
    title="Sun, Apr  4, 2021, 10:00 PM +0900"
  >

  
  

  
    Apr  4
  

  <i class="unloaded">2021-04-04T22:00:00+09:00</i>

</span>
          by
          <span class="author">
            Rito15
          </span>
        </div>

        <div>
          <!-- lastmod -->
          

          <!-- read time -->
          <!--
  Calculate the post's reading time, and display the word count in tooltip
 -->






<!-- return element -->
<span class="readtime" data-toggle="tooltip" data-placement="bottom" title="2783 words">15 min</span>


          <!-- page views -->
          

        </div>

      </div> <!-- .post-meta -->

      <div class="post-content">

        

        <h1 id="유니티에서의-멀티스레딩">유니티에서의 멀티스레딩</h1>
<hr />
<p>유니티엔진에서는 기본적으로 모든 CPU 연산이 메인 스레드에서 이루어진다.</p>

<p>그렇다고 다중 스레드를 사용할 수 없다는 것은 아니지만</p>

<p>메인 스레드가 아닌 다른 스레드에서 유니티의 메인 로직에 접근할 수 없도록 막혀있다.</p>

<p>다시 말해, 다른 스레드에서는 게임오브젝트, 컴포넌트 등에 접근하면 에러가 발생한다.</p>

<p>예를 들어</p>

<div class="language-cs highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre><span class="k">private</span> <span class="k">async</span> <span class="k">void</span> <span class="nf">TaskTest</span><span class="p">()</span>
<span class="p">{</span>
    <span class="k">await</span> <span class="n">Task</span><span class="p">.</span><span class="nf">Run</span><span class="p">(()</span> <span class="p">=&gt;</span>
    <span class="p">{</span>
        <span class="n">transform</span><span class="p">.</span><span class="nf">Translate</span><span class="p">(</span><span class="m">1f</span><span class="p">,</span> <span class="m">0f</span><span class="p">,</span> <span class="m">0f</span><span class="p">);</span>
    <span class="p">});</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p>이런 메소드를 실행하면</p>

<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/42164422/113509789-6a881880-9592-11eb-8f70-c5571c408e43.png" alt="image" /></p>

<p>이런 에러를 만날 수 있다.</p>

<p><br /></p>

<p>따라서 다른 스레드에서 유니티 메인 로직에 접근해야 한다면 <a href="https://github.com/PimDeWitte/UnityMainThreadDispatcher/blob/master/UnityMainThreadDispatcher.cs">MainThreadDispatcher</a> 등을 사용하여</p>

<div class="language-cs highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre><span class="k">private</span> <span class="k">async</span> <span class="k">void</span> <span class="nf">TaskTest</span><span class="p">()</span>
<span class="p">{</span>
    <span class="k">await</span> <span class="n">Task</span><span class="p">.</span><span class="nf">Run</span><span class="p">(()</span> <span class="p">=&gt;</span>
    <span class="p">{</span>
        <span class="n">MainThreadDispatcher</span><span class="p">.</span><span class="n">Instance</span><span class="p">.</span><span class="nf">Enqueue</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="n">transform</span><span class="p">.</span><span class="nf">Translate</span><span class="p">(</span><span class="m">1f</span><span class="p">,</span> <span class="m">0f</span><span class="p">,</span> <span class="m">0f</span><span class="p">));</span>
    <span class="p">});</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p>이렇게 작성하면 된다.</p>

<p><br /></p>

<h1 id="멀티스레딩의-이유">멀티스레딩의 이유</h1>
<hr />

<p>다른 스레드에서 메인 로직에 접근하는 것이 기본적으로 제한되어 있고</p>

<p>저렇게 메인 스레드 디스패처를 사용해야 하는 등 번거로운데,</p>

<p>유니티에서 굳이 멀티스레딩을 해야 하는 이유가 있을까?</p>

<p>당연히 “성능을 위해서”이다.</p>

<p>유니티 메인 로직과 분리할 수 있는 무거운 연산들이 있다면 반드시 다른 스레드로 처리를 넘겨서 연산을 위임하고, 그 결과를 받아오도록 하는 것이 좋다.</p>

<p>기본적으로 100만큼의 모든 처리를 메인 스레드에서 담당하고 있다면,</p>

<p>10, 20 만큼이라도 다른 스레드에서 병렬처리를 해주는 것이 결국 성능에 도움이 된다.</p>

<p><br /></p>

<h1 id="멀티스레딩-구현-방식">멀티스레딩 구현 방식</h1>
<hr />

<p>유니티에서 멀티스레딩은 다음과 같은 방법들로 구현할 수 있다.</p>

<ol>
  <li>
    <p>Thread</p>
  </li>
  <li>
    <p>Task</p>
  </li>
  <li>
    <p>Job System</p>
  </li>
</ol>

<p>이 중 Job System은 2018년에 정식으로 유니티엔진에 도입되었으며,</p>

<p>프로그래머가 안전한 멀티스레딩을 작성하기에 비교적 편리한 형태로 제공한다.</p>

<p><br /></p>

<p>이 포스팅에서는 Job의 기본적인 사용 방법에 대해 구체적으로 살펴보지는 않고</p>

<p>Job을 사용하기에 좋은 경우, 그리고 Job을 사용하지 않았을 때와 사용했을 때의 비교를 다룬다.</p>

<p><br /></p>

<h1 id="테스트-대상">테스트 대상</h1>
<hr />

<p>펄린 노이즈를 이용하여 Chunk들로 이루어진 지형 메시를 생성하는 경우를 테스트한다.</p>

<p>메시의 정점과 폴리곤 계산을 다른 스레드로 위임하여 처리할 수 있으므로, 멀티스레딩에 적합하다고 할 수 있다.</p>

<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/42164422/113510597-93121180-9596-11eb-9b0f-fad7d6efff37.png" alt="image" /></p>

<p><br /></p>

<h1 id="테스트-수행">테스트 수행</h1>
<hr />

<h2 id="1-기본"><strong>1. 기본</strong></h2>

<div class="language-cs highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre></td><td class="rouge-code"><pre><span class="n">Vector3</span> <span class="n">curChunkPos</span> <span class="p">=</span> <span class="n">Vector3</span><span class="p">.</span><span class="n">zero</span><span class="p">;</span>

<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">z</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">z</span> <span class="p">&lt;</span> <span class="n">_chunkCount</span><span class="p">;</span> <span class="n">z</span><span class="p">++)</span>
<span class="p">{</span>
    <span class="n">curChunkPos</span><span class="p">.</span><span class="n">x</span> <span class="p">=</span> <span class="m">0f</span><span class="p">;</span>

    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">x</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">x</span> <span class="p">&lt;</span> <span class="n">_chunkCount</span><span class="p">;</span> <span class="n">x</span><span class="p">++)</span>
    <span class="p">{</span>
        <span class="n">MeshData</span> <span class="n">meshData</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">MeshData</span><span class="p">();</span>
        <span class="nf">CalculateMesh</span><span class="p">(</span><span class="n">meshData</span><span class="p">,</span> <span class="n">curChunkPos</span><span class="p">);</span>
        <span class="nf">GenerateMesh</span><span class="p">(</span><span class="n">meshData</span><span class="p">);</span>

        <span class="n">curChunkPos</span><span class="p">.</span><span class="n">x</span> <span class="p">+=</span> <span class="n">_width</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="n">curChunkPos</span><span class="p">.</span><span class="n">z</span> <span class="p">+=</span> <span class="n">_width</span><span class="p">;</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p>다른 스레드로 계산을 넘기지 않고, 메인 스레드에서 모두 계산한다.</p>

<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/42164422/113510958-44fe0d80-9598-11eb-8b95-cd558c6ee509.png" alt="image" /></p>

<p>그 결과, 수행에 총 <code class="language-plaintext highlighter-rouge">1,503.81ms</code>가 걸렸으며, 메인 스레드만 분주하게 일하고 워커 스레드는 모두 놀고 있었음을 확인하였다.</p>

<p><br /></p>

<h2 id="2-job동기"><strong>2. Job(동기)</strong></h2>

<div class="language-cs highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre></td><td class="rouge-code"><pre><span class="n">Vector3</span> <span class="n">curChunkPos</span> <span class="p">=</span> <span class="n">Vector3</span><span class="p">.</span><span class="n">zero</span><span class="p">;</span>

<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">z</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">z</span> <span class="p">&lt;</span> <span class="n">_chunkCount</span><span class="p">;</span> <span class="n">z</span><span class="p">++)</span>
<span class="p">{</span>
    <span class="n">curChunkPos</span><span class="p">.</span><span class="n">x</span> <span class="p">=</span> <span class="m">0f</span><span class="p">;</span>

    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">x</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">x</span> <span class="p">&lt;</span> <span class="n">_chunkCount</span><span class="p">;</span> <span class="n">x</span><span class="p">++)</span>
    <span class="p">{</span>
        <span class="n">TerrainJob</span> <span class="n">job</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">TerrainJob</span><span class="p">(</span>
            <span class="n">_resolution</span><span class="p">,</span> <span class="n">_width</span><span class="p">,</span> <span class="n">_maxHeight</span><span class="p">,</span> <span class="n">_noiseScale</span><span class="p">,</span> <span class="n">curChunkPos</span>
        <span class="p">);</span>

        <span class="kt">var</span> <span class="n">handle</span> <span class="p">=</span> <span class="n">job</span><span class="p">.</span><span class="nf">Schedule</span><span class="p">();</span>
        <span class="n">handle</span><span class="p">.</span><span class="nf">Complete</span><span class="p">();</span> <span class="c1">// 메인 스레드에서 대기</span>

        <span class="kt">var</span> <span class="n">result</span> <span class="p">=</span> <span class="n">job</span><span class="p">.</span><span class="nf">GetResults</span><span class="p">();</span>
        <span class="nf">GenerateMesh</span><span class="p">(</span><span class="n">result</span><span class="p">.</span><span class="n">verts</span><span class="p">,</span> <span class="n">result</span><span class="p">.</span><span class="n">tris</span><span class="p">);</span>

        <span class="n">curChunkPos</span><span class="p">.</span><span class="n">x</span> <span class="p">+=</span> <span class="n">_width</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="n">curChunkPos</span><span class="p">.</span><span class="n">z</span> <span class="p">+=</span> <span class="n">_width</span><span class="p">;</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p>이번에는 Job을 통해 정점과 폴리곤 계산을 처리하며, Job을 수행하고 그 결과를 메인 스레드에서 대기하도록 한다.</p>

<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/42164422/113511008-8d1d3000-9598-11eb-8a7d-2725cff4770d.png" alt="image" /></p>

<p>총 <code class="language-plaintext highlighter-rouge">756.14ms</code>가 걸렸으며, 메인 스레드에서 모든 동작을 수행했을 때와 비교해 절반으로 줄어들었음을 알 수 있다.</p>

<p>또한 여러 개의 워커 스레드에서 Job을 나누어 처리했다는 것도 확인할 수 있었다.</p>

<p><br /></p>

<h2 id="3-job비동기"><strong>3. Job(비동기)</strong></h2>

<div class="language-cs highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
</pre></td><td class="rouge-code"><pre><span class="k">private</span> <span class="n">IEnumerator</span> <span class="nf">TestJobAsyncRoutine</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">Vector3</span> <span class="n">curChunkPos</span> <span class="p">=</span> <span class="n">Vector3</span><span class="p">.</span><span class="n">zero</span><span class="p">;</span>

    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">z</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">z</span> <span class="p">&lt;</span> <span class="n">_chunkCount</span><span class="p">;</span> <span class="n">z</span><span class="p">++)</span>
    <span class="p">{</span>
        <span class="n">curChunkPos</span><span class="p">.</span><span class="n">x</span> <span class="p">=</span> <span class="m">0f</span><span class="p">;</span>

        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">x</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">x</span> <span class="p">&lt;</span> <span class="n">_chunkCount</span><span class="p">;</span> <span class="n">x</span><span class="p">++)</span>
        <span class="p">{</span>
            <span class="n">TerrainJob</span> <span class="n">job</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">TerrainJob</span><span class="p">(</span>
                <span class="n">_resolution</span><span class="p">,</span> <span class="n">_width</span><span class="p">,</span> <span class="n">_maxHeight</span><span class="p">,</span> <span class="n">_noiseScale</span><span class="p">,</span> <span class="n">curChunkPos</span>
            <span class="p">);</span>

            <span class="kt">var</span> <span class="n">handle</span> <span class="p">=</span> <span class="n">job</span><span class="p">.</span><span class="nf">Schedule</span><span class="p">();</span>

            <span class="c1">// 잡이 완료되지 않았다면 프레임 넘기기</span>
            <span class="k">while</span><span class="p">(!</span><span class="n">handle</span><span class="p">.</span><span class="n">IsCompleted</span><span class="p">)</span>
                <span class="k">yield</span> <span class="k">return</span> <span class="k">null</span><span class="p">;</span>

            <span class="n">handle</span><span class="p">.</span><span class="nf">Complete</span><span class="p">();</span>

            <span class="kt">var</span> <span class="n">result</span> <span class="p">=</span> <span class="n">job</span><span class="p">.</span><span class="nf">GetResults</span><span class="p">();</span>
            <span class="nf">GenerateMesh</span><span class="p">(</span><span class="n">result</span><span class="p">.</span><span class="n">verts</span><span class="p">,</span> <span class="n">result</span><span class="p">.</span><span class="n">tris</span><span class="p">);</span>

            <span class="n">curChunkPos</span><span class="p">.</span><span class="n">x</span> <span class="p">+=</span> <span class="n">_width</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="n">curChunkPos</span><span class="p">.</span><span class="n">z</span> <span class="p">+=</span> <span class="n">_width</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p>역시 Job으로 연산을 처리하지만, 코루틴을 활용하여 Job의 연산이 이루어지는 동안에는 메인스레드가 이를 대기하지 않고 Job의 연산이 완료될 때마다 그 결과를 받아와 처리하는 방식으로 작성하였다.</p>

<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/42164422/113509501-eaad7e80-9590-11eb-938d-fa9572b2b8da.gif" alt="2021_0404_TerrainAsync2" /></p>

<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/42164422/113511071-f9982f00-9598-11eb-8e1e-db661eab62eb.png" alt="image" /></p>

<p>각 프레임의 수행 시간이 다른 경우에 비해 현저히 짧아졌음을 알 수 있다.</p>

<p><br /></p>

<h1 id="결론">결론</h1>
<hr />

<p>Job으로 나누어 처리할 수만 있다면, Job으로 그 연산을 위임하여 수행하는 것이 대부분의 경우 성능상 이득을 얻을 수 있다.</p>

<p>그리고 Job을 이용한 멀티스레딩을 동기적으로 수행할지, 비동기적으로 수행할지 여부를 잘 생각하여 작성하면 된다.</p>

<p>렉을 감안하더라도 한 번에 처리해야만 하는 경우에는 동기적으로,</p>

<p>렉에 굉장히 민감한 경우에는 우선순위를 결정하여 비동기적으로 처리해주면 된다.</p>

<p><br /></p>

<h1 id="source-code">Source Code</h1>
<hr />

<details>
  <summary> 
TerrainGenerator.cs
</summary>

  <div class="language-cs highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
</pre></td><td class="rouge-code"><pre><span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Collections</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Collections.Generic</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">UnityEngine</span><span class="p">;</span>

<span class="k">using</span> <span class="nn">Unity.Jobs</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Threading.Tasks</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Threading</span><span class="p">;</span>

<span class="c1">// 날짜 : 2021-04-04 PM 7:24:50</span>
<span class="c1">// 작성자 : Rito</span>

<span class="k">namespace</span> <span class="nn">Rito.JobTest</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">class</span> <span class="nc">TerrainGenerator</span> <span class="p">:</span> <span class="n">MonoBehaviour</span>
    <span class="p">{</span>
        <span class="k">private</span> <span class="k">enum</span> <span class="n">TestCase</span>
        <span class="p">{</span>
            <span class="n">Basic</span><span class="p">,</span> <span class="n">JobSync</span><span class="p">,</span> <span class="n">JobAsync</span>
        <span class="p">}</span>
        <span class="p">[</span><span class="n">SerializeField</span><span class="p">]</span> <span class="k">private</span> <span class="n">TestCase</span> <span class="n">_testCase</span><span class="p">;</span>

        <span class="p">[</span><span class="nf">Space</span><span class="p">(</span><span class="m">16</span><span class="p">)]</span>
        <span class="p">[</span><span class="n">SerializeField</span><span class="p">]</span> <span class="k">private</span> <span class="kt">int</span> <span class="n">_resolution</span> <span class="p">=</span> <span class="m">9</span><span class="p">;</span> <span class="c1">// XZ 각각 버텍스 개수</span>
        <span class="p">[</span><span class="n">SerializeField</span><span class="p">]</span> <span class="k">private</span> <span class="kt">float</span> <span class="n">_width</span> <span class="p">=</span> <span class="m">10</span><span class="p">;</span>   <span class="c1">// 한 청크의 XZ 크기 </span>
        <span class="p">[</span><span class="n">SerializeField</span><span class="p">]</span> <span class="k">private</span> <span class="kt">int</span> <span class="n">_chunkCount</span> <span class="p">=</span> <span class="m">4</span><span class="p">;</span> <span class="c1">// XZ 각각 청크 개수</span>
        <span class="p">[</span><span class="n">SerializeField</span><span class="p">]</span> <span class="k">private</span> <span class="kt">float</span> <span class="n">_maxHeight</span> <span class="p">=</span> <span class="m">4f</span><span class="p">;</span> <span class="c1">// 터레인의 최대 높이</span>
        <span class="p">[</span><span class="n">SerializeField</span><span class="p">]</span> <span class="k">private</span> <span class="kt">float</span> <span class="n">_noiseScale</span> <span class="p">=</span> <span class="m">10f</span><span class="p">;</span> <span class="c1">// 노이즈 스케일</span>

        <span class="p">[</span><span class="n">SerializeField</span><span class="p">]</span> <span class="k">private</span> <span class="n">Material</span> <span class="n">_material</span><span class="p">;</span>

        <span class="k">private</span> <span class="k">class</span> <span class="nc">MeshData</span>
        <span class="p">{</span>
            <span class="k">public</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">Vector3</span><span class="p">&gt;</span> <span class="n">vertList</span><span class="p">;</span>
            <span class="k">public</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;</span> <span class="n">trisList</span><span class="p">;</span>

            <span class="k">public</span> <span class="nf">MeshData</span><span class="p">()</span>
            <span class="p">{</span>
                <span class="n">vertList</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">Vector3</span><span class="p">&gt;();</span>
                <span class="n">trisList</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;();</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="k">private</span> <span class="k">async</span> <span class="k">void</span> <span class="nf">TaskTest</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="k">await</span> <span class="n">Task</span><span class="p">.</span><span class="nf">Run</span><span class="p">(()</span> <span class="p">=&gt;</span>
            <span class="p">{</span>
                <span class="n">MainThreadDispatcher</span><span class="p">.</span><span class="n">Instance</span><span class="p">.</span><span class="nf">Enqueue</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="n">transform</span><span class="p">.</span><span class="nf">Translate</span><span class="p">(</span><span class="m">1f</span><span class="p">,</span> <span class="m">0f</span><span class="p">,</span> <span class="m">0f</span><span class="p">));</span>

                <span class="c1">//transform.Translate(1f, 0f, 0f);</span>
                <span class="n">Debug</span><span class="p">.</span><span class="nf">Log</span><span class="p">(</span><span class="s">"Task"</span><span class="p">);</span>
                <span class="n">Debug</span><span class="p">.</span><span class="nf">Log</span><span class="p">(</span><span class="n">Thread</span><span class="p">.</span><span class="n">CurrentThread</span><span class="p">.</span><span class="n">ManagedThreadId</span><span class="p">);</span>
            <span class="p">});</span>
        <span class="p">}</span>

        <span class="k">private</span> <span class="k">void</span> <span class="nf">Start</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="c1">//TaskTest();</span>
            <span class="c1">//return;</span>

            <span class="k">switch</span> <span class="p">(</span><span class="n">_testCase</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="k">case</span> <span class="n">TestCase</span><span class="p">.</span><span class="n">Basic</span><span class="p">:</span> <span class="nf">TestBasic</span><span class="p">();</span>
                    <span class="k">break</span><span class="p">;</span>
                <span class="k">case</span> <span class="n">TestCase</span><span class="p">.</span><span class="n">JobSync</span><span class="p">:</span> <span class="nf">TestJobSync</span><span class="p">();</span>
                    <span class="k">break</span><span class="p">;</span>
                <span class="k">case</span> <span class="n">TestCase</span><span class="p">.</span><span class="n">JobAsync</span><span class="p">:</span> <span class="nf">StartCoroutine</span><span class="p">(</span><span class="nf">TestJobAsyncRoutine</span><span class="p">());</span>
                    <span class="k">break</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="cm">/***********************************************************************
        *                               Test Basic
        ***********************************************************************/</span>
        <span class="err">#</span><span class="n">region</span> <span class="p">.</span>
        <span class="k">private</span> <span class="k">void</span> <span class="nf">TestBasic</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="n">Vector3</span> <span class="n">curChunkPos</span> <span class="p">=</span> <span class="n">Vector3</span><span class="p">.</span><span class="n">zero</span><span class="p">;</span>

            <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">z</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">z</span> <span class="p">&lt;</span> <span class="n">_chunkCount</span><span class="p">;</span> <span class="n">z</span><span class="p">++)</span>
            <span class="p">{</span>
                <span class="n">curChunkPos</span><span class="p">.</span><span class="n">x</span> <span class="p">=</span> <span class="m">0f</span><span class="p">;</span>

                <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">x</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">x</span> <span class="p">&lt;</span> <span class="n">_chunkCount</span><span class="p">;</span> <span class="n">x</span><span class="p">++)</span>
                <span class="p">{</span>
                    <span class="n">MeshData</span> <span class="n">meshData</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">MeshData</span><span class="p">();</span>
                    <span class="nf">CalculateMesh</span><span class="p">(</span><span class="n">meshData</span><span class="p">,</span> <span class="n">curChunkPos</span><span class="p">);</span>
                    <span class="nf">GenerateMesh</span><span class="p">(</span><span class="n">meshData</span><span class="p">);</span>

                    <span class="n">curChunkPos</span><span class="p">.</span><span class="n">x</span> <span class="p">+=</span> <span class="n">_width</span><span class="p">;</span>
                <span class="p">}</span>

                <span class="n">curChunkPos</span><span class="p">.</span><span class="n">z</span> <span class="p">+=</span> <span class="n">_width</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="k">private</span> <span class="k">void</span> <span class="nf">CalculateMesh</span><span class="p">(</span><span class="n">MeshData</span> <span class="n">meshData</span><span class="p">,</span> <span class="k">in</span> <span class="n">Vector3</span> <span class="n">startPos</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kt">float</span> <span class="n">xzUnit</span> <span class="p">=</span> <span class="n">_width</span> <span class="p">/</span> <span class="n">_resolution</span><span class="p">;</span>

            <span class="n">Vector3</span> <span class="n">curVertPos</span> <span class="p">=</span> <span class="n">startPos</span><span class="p">;</span>

            <span class="c1">// 1. 버텍스 생성</span>
            <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">z</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">z</span> <span class="p">&lt;</span> <span class="n">_resolution</span><span class="p">;</span> <span class="n">z</span><span class="p">++)</span>
            <span class="p">{</span>
                <span class="n">curVertPos</span><span class="p">.</span><span class="n">x</span> <span class="p">=</span> <span class="n">startPos</span><span class="p">.</span><span class="n">x</span><span class="p">;</span>

                <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">x</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">x</span> <span class="p">&lt;</span> <span class="n">_resolution</span><span class="p">;</span> <span class="n">x</span><span class="p">++)</span>
                <span class="p">{</span>
                    <span class="n">curVertPos</span><span class="p">.</span><span class="n">y</span> <span class="p">=</span> <span class="nf">GetPerlinHeight</span><span class="p">(</span><span class="n">curVertPos</span><span class="p">.</span><span class="n">x</span><span class="p">,</span> <span class="n">curVertPos</span><span class="p">.</span><span class="n">z</span><span class="p">,</span> <span class="n">_noiseScale</span><span class="p">)</span> <span class="p">*</span> <span class="n">_maxHeight</span><span class="p">;</span>
                    <span class="n">meshData</span><span class="p">.</span><span class="n">vertList</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">curVertPos</span><span class="p">);</span>

                    <span class="n">curVertPos</span><span class="p">.</span><span class="n">x</span> <span class="p">+=</span> <span class="n">xzUnit</span><span class="p">;</span>
                <span class="p">}</span>

                <span class="n">curVertPos</span><span class="p">.</span><span class="n">z</span> <span class="p">+=</span> <span class="n">xzUnit</span><span class="p">;</span>
            <span class="p">}</span>

            <span class="c1">// 2. 폴리곤 조립</span>
            <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">z</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">z</span> <span class="p">&lt;</span> <span class="n">_resolution</span> <span class="p">-</span> <span class="m">1</span><span class="p">;</span> <span class="n">z</span><span class="p">++)</span>
            <span class="p">{</span>
                <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">x</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">x</span> <span class="p">&lt;</span> <span class="n">_resolution</span> <span class="p">-</span> <span class="m">1</span><span class="p">;</span> <span class="n">x</span><span class="p">++)</span>
                <span class="p">{</span>
                    <span class="kt">int</span> <span class="n">LB</span> <span class="p">=</span> <span class="n">x</span> <span class="p">+</span> <span class="p">(</span><span class="n">z</span> <span class="p">*</span> <span class="n">_resolution</span><span class="p">);</span> <span class="c1">// LB Index</span>

                    <span class="n">meshData</span><span class="p">.</span><span class="n">trisList</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">LB</span><span class="p">);</span>
                    <span class="n">meshData</span><span class="p">.</span><span class="n">trisList</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">LB</span> <span class="p">+</span> <span class="n">_resolution</span><span class="p">);</span>
                    <span class="n">meshData</span><span class="p">.</span><span class="n">trisList</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">LB</span> <span class="p">+</span> <span class="m">1</span><span class="p">);</span>

                    <span class="n">meshData</span><span class="p">.</span><span class="n">trisList</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">LB</span> <span class="p">+</span> <span class="m">1</span><span class="p">);</span>
                    <span class="n">meshData</span><span class="p">.</span><span class="n">trisList</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">LB</span> <span class="p">+</span> <span class="n">_resolution</span><span class="p">);</span>
                    <span class="n">meshData</span><span class="p">.</span><span class="n">trisList</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">LB</span> <span class="p">+</span> <span class="n">_resolution</span> <span class="p">+</span> <span class="m">1</span><span class="p">);</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="k">private</span> <span class="kt">float</span> <span class="nf">GetPerlinHeight</span><span class="p">(</span><span class="kt">float</span> <span class="n">x</span><span class="p">,</span> <span class="kt">float</span> <span class="n">y</span><span class="p">,</span> <span class="kt">float</span> <span class="n">scale</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">return</span> <span class="n">Mathf</span><span class="p">.</span><span class="nf">PerlinNoise</span><span class="p">(</span><span class="n">x</span> <span class="p">/</span> <span class="n">scale</span> <span class="p">+</span> <span class="m">0.1f</span><span class="p">,</span> <span class="n">y</span> <span class="p">/</span> <span class="n">scale</span> <span class="p">+</span> <span class="m">0.1f</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="k">private</span> <span class="k">void</span> <span class="nf">GenerateMesh</span><span class="p">(</span><span class="n">MeshData</span> <span class="n">meshData</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">GameObject</span> <span class="n">go</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">GameObject</span><span class="p">(</span><span class="s">"Terrain"</span><span class="p">);</span>
            <span class="kt">var</span> <span class="n">mFilter</span> <span class="p">=</span> <span class="n">go</span><span class="p">.</span><span class="n">AddComponent</span><span class="p">&lt;</span><span class="n">MeshFilter</span><span class="p">&gt;();</span>
            <span class="kt">var</span> <span class="n">mRender</span> <span class="p">=</span> <span class="n">go</span><span class="p">.</span><span class="n">AddComponent</span><span class="p">&lt;</span><span class="n">MeshRenderer</span><span class="p">&gt;();</span>

            <span class="n">Mesh</span> <span class="n">mesh</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Mesh</span><span class="p">();</span>
            <span class="n">mesh</span><span class="p">.</span><span class="n">vertices</span> <span class="p">=</span> <span class="n">meshData</span><span class="p">.</span><span class="n">vertList</span><span class="p">.</span><span class="nf">ToArray</span><span class="p">();</span>
            <span class="n">mesh</span><span class="p">.</span><span class="n">triangles</span> <span class="p">=</span> <span class="n">meshData</span><span class="p">.</span><span class="n">trisList</span><span class="p">.</span><span class="nf">ToArray</span><span class="p">();</span>
            <span class="n">mesh</span><span class="p">.</span><span class="nf">RecalculateNormals</span><span class="p">();</span>
            <span class="n">mesh</span><span class="p">.</span><span class="nf">RecalculateTangents</span><span class="p">();</span>
            <span class="n">mesh</span><span class="p">.</span><span class="nf">RecalculateBounds</span><span class="p">();</span>

            <span class="n">mFilter</span><span class="p">.</span><span class="n">mesh</span> <span class="p">=</span> <span class="n">mesh</span><span class="p">;</span>
            <span class="n">mRender</span><span class="p">.</span><span class="n">sharedMaterial</span> <span class="p">=</span> <span class="n">_material</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="err">#</span><span class="n">endregion</span>
        <span class="cm">/***********************************************************************
        *                               Test Job Sync
        ***********************************************************************/</span>
        <span class="err">#</span><span class="n">region</span> <span class="p">.</span>
        <span class="k">private</span> <span class="k">void</span> <span class="nf">TestJobSync</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="n">Vector3</span> <span class="n">curChunkPos</span> <span class="p">=</span> <span class="n">Vector3</span><span class="p">.</span><span class="n">zero</span><span class="p">;</span>

            <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">z</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">z</span> <span class="p">&lt;</span> <span class="n">_chunkCount</span><span class="p">;</span> <span class="n">z</span><span class="p">++)</span>
            <span class="p">{</span>
                <span class="n">curChunkPos</span><span class="p">.</span><span class="n">x</span> <span class="p">=</span> <span class="m">0f</span><span class="p">;</span>

                <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">x</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">x</span> <span class="p">&lt;</span> <span class="n">_chunkCount</span><span class="p">;</span> <span class="n">x</span><span class="p">++)</span>
                <span class="p">{</span>
                    <span class="n">TerrainJob</span> <span class="n">job</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">TerrainJob</span><span class="p">(</span>
                        <span class="n">_resolution</span><span class="p">,</span> <span class="n">_width</span><span class="p">,</span> <span class="n">_maxHeight</span><span class="p">,</span> <span class="n">_noiseScale</span><span class="p">,</span> <span class="n">curChunkPos</span>
                    <span class="p">);</span>

                    <span class="kt">var</span> <span class="n">handle</span> <span class="p">=</span> <span class="n">job</span><span class="p">.</span><span class="nf">Schedule</span><span class="p">();</span>
                    <span class="n">handle</span><span class="p">.</span><span class="nf">Complete</span><span class="p">();</span>

                    <span class="kt">var</span> <span class="n">result</span> <span class="p">=</span> <span class="n">job</span><span class="p">.</span><span class="nf">GetResults</span><span class="p">();</span>

                    <span class="nf">GenerateMesh</span><span class="p">(</span><span class="n">result</span><span class="p">.</span><span class="n">verts</span><span class="p">,</span> <span class="n">result</span><span class="p">.</span><span class="n">tris</span><span class="p">);</span>

                    <span class="n">curChunkPos</span><span class="p">.</span><span class="n">x</span> <span class="p">+=</span> <span class="n">_width</span><span class="p">;</span>
                <span class="p">}</span>

                <span class="n">curChunkPos</span><span class="p">.</span><span class="n">z</span> <span class="p">+=</span> <span class="n">_width</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="k">private</span> <span class="k">void</span> <span class="nf">GenerateMesh</span><span class="p">(</span><span class="n">Vector3</span><span class="p">[]</span> <span class="n">verts</span><span class="p">,</span> <span class="kt">int</span><span class="p">[]</span> <span class="n">tris</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">GameObject</span> <span class="n">go</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">GameObject</span><span class="p">(</span><span class="s">"Terrain"</span><span class="p">);</span>
            <span class="kt">var</span> <span class="n">mFilter</span> <span class="p">=</span> <span class="n">go</span><span class="p">.</span><span class="n">AddComponent</span><span class="p">&lt;</span><span class="n">MeshFilter</span><span class="p">&gt;();</span>
            <span class="kt">var</span> <span class="n">mRender</span> <span class="p">=</span> <span class="n">go</span><span class="p">.</span><span class="n">AddComponent</span><span class="p">&lt;</span><span class="n">MeshRenderer</span><span class="p">&gt;();</span>

            <span class="n">Mesh</span> <span class="n">mesh</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Mesh</span><span class="p">();</span>
            <span class="n">mesh</span><span class="p">.</span><span class="n">vertices</span> <span class="p">=</span> <span class="n">verts</span><span class="p">;</span>
            <span class="n">mesh</span><span class="p">.</span><span class="n">triangles</span> <span class="p">=</span> <span class="n">tris</span><span class="p">;</span>
            <span class="n">mesh</span><span class="p">.</span><span class="nf">RecalculateNormals</span><span class="p">();</span>
            <span class="n">mesh</span><span class="p">.</span><span class="nf">RecalculateTangents</span><span class="p">();</span>
            <span class="n">mesh</span><span class="p">.</span><span class="nf">RecalculateBounds</span><span class="p">();</span>

            <span class="n">mFilter</span><span class="p">.</span><span class="n">mesh</span> <span class="p">=</span> <span class="n">mesh</span><span class="p">;</span>
            <span class="n">mRender</span><span class="p">.</span><span class="n">sharedMaterial</span> <span class="p">=</span> <span class="n">_material</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="err">#</span><span class="n">endregion</span>
        <span class="cm">/***********************************************************************
        *                               Test Job Async
        ***********************************************************************/</span>
        <span class="err">#</span><span class="n">region</span> <span class="p">.</span>
        <span class="k">private</span> <span class="n">IEnumerator</span> <span class="nf">TestJobAsyncRoutine</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="n">Vector3</span> <span class="n">curChunkPos</span> <span class="p">=</span> <span class="n">Vector3</span><span class="p">.</span><span class="n">zero</span><span class="p">;</span>

            <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">z</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">z</span> <span class="p">&lt;</span> <span class="n">_chunkCount</span><span class="p">;</span> <span class="n">z</span><span class="p">++)</span>
            <span class="p">{</span>
                <span class="n">curChunkPos</span><span class="p">.</span><span class="n">x</span> <span class="p">=</span> <span class="m">0f</span><span class="p">;</span>

                <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">x</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">x</span> <span class="p">&lt;</span> <span class="n">_chunkCount</span><span class="p">;</span> <span class="n">x</span><span class="p">++)</span>
                <span class="p">{</span>
                    <span class="n">TerrainJob</span> <span class="n">job</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">TerrainJob</span><span class="p">(</span>
                        <span class="n">_resolution</span><span class="p">,</span> <span class="n">_width</span><span class="p">,</span> <span class="n">_maxHeight</span><span class="p">,</span> <span class="n">_noiseScale</span><span class="p">,</span> <span class="n">curChunkPos</span>
                    <span class="p">);</span>

                    <span class="kt">var</span> <span class="n">handle</span> <span class="p">=</span> <span class="n">job</span><span class="p">.</span><span class="nf">Schedule</span><span class="p">();</span>

                    <span class="c1">// 잡이 완료되지 않았다면 프레임 넘기기</span>
                    <span class="k">while</span><span class="p">(!</span><span class="n">handle</span><span class="p">.</span><span class="n">IsCompleted</span><span class="p">)</span>
                        <span class="k">yield</span> <span class="k">return</span> <span class="k">null</span><span class="p">;</span>

                    <span class="n">handle</span><span class="p">.</span><span class="nf">Complete</span><span class="p">();</span>

                    <span class="kt">var</span> <span class="n">result</span> <span class="p">=</span> <span class="n">job</span><span class="p">.</span><span class="nf">GetResults</span><span class="p">();</span>

                    <span class="nf">GenerateMesh</span><span class="p">(</span><span class="n">result</span><span class="p">.</span><span class="n">verts</span><span class="p">,</span> <span class="n">result</span><span class="p">.</span><span class="n">tris</span><span class="p">);</span>

                    <span class="n">curChunkPos</span><span class="p">.</span><span class="n">x</span> <span class="p">+=</span> <span class="n">_width</span><span class="p">;</span>
                <span class="p">}</span>

                <span class="n">curChunkPos</span><span class="p">.</span><span class="n">z</span> <span class="p">+=</span> <span class="n">_width</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="err">#</span><span class="n">endregion</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div>  </div>

</details>

<details>
  <summary> 
TerrainJob.cs
</summary>

  <div class="language-cs highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
</pre></td><td class="rouge-code"><pre><span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Collections</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Collections.Generic</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">UnityEngine</span><span class="p">;</span>

<span class="k">using</span> <span class="nn">Unity.Jobs</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">Unity.Burst</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">Unity.Collections</span><span class="p">;</span>

<span class="c1">// 날짜 : 2021-04-04 PM 8:52:03</span>
<span class="c1">// 작성자 : Rito</span>

<span class="k">namespace</span> <span class="nn">Rito.JobTest</span>
<span class="p">{</span>
    <span class="p">[</span><span class="n">BurstCompile</span><span class="p">]</span>
    <span class="k">public</span> <span class="k">struct</span> <span class="nc">TerrainJob</span> <span class="p">:</span> <span class="n">IJob</span>
    <span class="p">{</span>
        <span class="k">public</span> <span class="n">NativeArray</span><span class="p">&lt;</span><span class="n">Vector3</span><span class="p">&gt;</span> <span class="n">verts</span><span class="p">;</span>
        <span class="k">public</span> <span class="n">NativeArray</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;</span> <span class="n">tris</span><span class="p">;</span>
        <span class="k">public</span> <span class="kt">int</span> <span class="n">resolution</span><span class="p">;</span>
        <span class="k">public</span> <span class="kt">float</span> <span class="n">width</span><span class="p">,</span> <span class="n">maxHeight</span><span class="p">,</span> <span class="n">noiseScale</span><span class="p">;</span>
        <span class="k">public</span> <span class="n">Vector3</span> <span class="n">startPos</span><span class="p">;</span>

        <span class="k">public</span> <span class="nf">TerrainJob</span><span class="p">(</span><span class="kt">int</span> <span class="n">resolution</span><span class="p">,</span> <span class="kt">float</span> <span class="n">width</span><span class="p">,</span> <span class="kt">float</span> <span class="n">maxHeight</span><span class="p">,</span> <span class="kt">float</span> <span class="n">noiseScale</span><span class="p">,</span> <span class="n">Vector3</span> <span class="n">startPos</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">verts</span> <span class="p">=</span> <span class="k">new</span> <span class="n">NativeArray</span><span class="p">&lt;</span><span class="n">Vector3</span><span class="p">&gt;(</span><span class="n">resolution</span> <span class="p">*</span> <span class="n">resolution</span><span class="p">,</span> <span class="n">Allocator</span><span class="p">.</span><span class="n">TempJob</span><span class="p">);</span>
            <span class="n">tris</span> <span class="p">=</span> <span class="k">new</span> <span class="n">NativeArray</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;((</span><span class="n">resolution</span> <span class="p">-</span> <span class="m">1</span><span class="p">)</span> <span class="p">*</span> <span class="p">(</span><span class="n">resolution</span> <span class="p">-</span> <span class="m">1</span><span class="p">)</span> <span class="p">*</span> <span class="m">6</span><span class="p">,</span> <span class="n">Allocator</span><span class="p">.</span><span class="n">TempJob</span><span class="p">);</span>
            <span class="k">this</span><span class="p">.</span><span class="n">width</span> <span class="p">=</span> <span class="n">width</span><span class="p">;</span>
            <span class="k">this</span><span class="p">.</span><span class="n">resolution</span> <span class="p">=</span> <span class="n">resolution</span><span class="p">;</span>
            <span class="k">this</span><span class="p">.</span><span class="n">maxHeight</span> <span class="p">=</span> <span class="n">maxHeight</span><span class="p">;</span>
            <span class="k">this</span><span class="p">.</span><span class="n">noiseScale</span> <span class="p">=</span> <span class="n">noiseScale</span><span class="p">;</span>
            <span class="k">this</span><span class="p">.</span><span class="n">startPos</span> <span class="p">=</span> <span class="n">startPos</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="k">public</span> <span class="k">void</span> <span class="nf">Execute</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="kt">float</span> <span class="n">xzUnit</span> <span class="p">=</span> <span class="n">width</span> <span class="p">/</span> <span class="n">resolution</span><span class="p">;</span>

            <span class="n">Vector3</span> <span class="n">curVertPos</span> <span class="p">=</span> <span class="n">startPos</span><span class="p">;</span>

            <span class="c1">// 1. 버텍스 생성</span>
            <span class="kt">int</span> <span class="n">vertIndex</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
            <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">z</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">z</span> <span class="p">&lt;</span> <span class="n">resolution</span><span class="p">;</span> <span class="n">z</span><span class="p">++)</span>
            <span class="p">{</span>
                <span class="n">curVertPos</span><span class="p">.</span><span class="n">x</span> <span class="p">=</span> <span class="n">startPos</span><span class="p">.</span><span class="n">x</span><span class="p">;</span>

                <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">x</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">x</span> <span class="p">&lt;</span> <span class="n">resolution</span><span class="p">;</span> <span class="n">x</span><span class="p">++)</span>
                <span class="p">{</span>
                    <span class="n">curVertPos</span><span class="p">.</span><span class="n">y</span> <span class="p">=</span> <span class="nf">GetPerlinHeight</span><span class="p">(</span><span class="n">curVertPos</span><span class="p">.</span><span class="n">x</span><span class="p">,</span> <span class="n">curVertPos</span><span class="p">.</span><span class="n">z</span><span class="p">,</span> <span class="n">noiseScale</span><span class="p">)</span> <span class="p">*</span> <span class="n">maxHeight</span><span class="p">;</span>
                    <span class="n">verts</span><span class="p">[</span><span class="n">vertIndex</span><span class="p">++]</span> <span class="p">=</span> <span class="n">curVertPos</span><span class="p">;</span>

                    <span class="n">curVertPos</span><span class="p">.</span><span class="n">x</span> <span class="p">+=</span> <span class="n">xzUnit</span><span class="p">;</span>
                <span class="p">}</span>

                <span class="n">curVertPos</span><span class="p">.</span><span class="n">z</span> <span class="p">+=</span> <span class="n">xzUnit</span><span class="p">;</span>
            <span class="p">}</span>

            <span class="c1">// 2. 폴리곤 조립</span>
            <span class="kt">int</span> <span class="n">triIndex</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
            <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">z</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">z</span> <span class="p">&lt;</span> <span class="n">resolution</span> <span class="p">-</span> <span class="m">1</span><span class="p">;</span> <span class="n">z</span><span class="p">++)</span>
            <span class="p">{</span>
                <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">x</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">x</span> <span class="p">&lt;</span> <span class="n">resolution</span> <span class="p">-</span> <span class="m">1</span><span class="p">;</span> <span class="n">x</span><span class="p">++)</span>
                <span class="p">{</span>
                    <span class="kt">int</span> <span class="n">LB</span> <span class="p">=</span> <span class="n">x</span> <span class="p">+</span> <span class="p">(</span><span class="n">z</span> <span class="p">*</span> <span class="n">resolution</span><span class="p">);</span> <span class="c1">// LB Index</span>

                    <span class="n">tris</span><span class="p">[</span><span class="n">triIndex</span>    <span class="p">]</span> <span class="p">=</span> <span class="n">LB</span><span class="p">;</span>
                    <span class="n">tris</span><span class="p">[</span><span class="n">triIndex</span> <span class="p">+</span> <span class="m">1</span><span class="p">]</span> <span class="p">=</span> <span class="n">LB</span> <span class="p">+</span> <span class="n">resolution</span><span class="p">;</span>
                    <span class="n">tris</span><span class="p">[</span><span class="n">triIndex</span> <span class="p">+</span> <span class="m">2</span><span class="p">]</span> <span class="p">=</span> <span class="n">LB</span> <span class="p">+</span> <span class="m">1</span><span class="p">;</span>

                    <span class="n">tris</span><span class="p">[</span><span class="n">triIndex</span> <span class="p">+</span> <span class="m">3</span><span class="p">]</span> <span class="p">=</span> <span class="n">LB</span> <span class="p">+</span> <span class="m">1</span><span class="p">;</span>
                    <span class="n">tris</span><span class="p">[</span><span class="n">triIndex</span> <span class="p">+</span> <span class="m">4</span><span class="p">]</span> <span class="p">=</span> <span class="n">LB</span> <span class="p">+</span> <span class="n">resolution</span><span class="p">;</span>
                    <span class="n">tris</span><span class="p">[</span><span class="n">triIndex</span> <span class="p">+</span> <span class="m">5</span><span class="p">]</span> <span class="p">=</span> <span class="n">LB</span> <span class="p">+</span> <span class="n">resolution</span> <span class="p">+</span> <span class="m">1</span><span class="p">;</span>

                    <span class="n">triIndex</span> <span class="p">+=</span> <span class="m">6</span><span class="p">;</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="k">public</span> <span class="p">(</span><span class="n">Vector3</span><span class="p">[]</span> <span class="n">verts</span><span class="p">,</span> <span class="kt">int</span><span class="p">[]</span> <span class="n">tris</span><span class="p">)</span> <span class="nf">GetResults</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="kt">var</span> <span class="n">result</span> <span class="p">=</span> <span class="p">(</span><span class="n">verts</span><span class="p">.</span><span class="nf">ToArray</span><span class="p">(),</span> <span class="n">tris</span><span class="p">.</span><span class="nf">ToArray</span><span class="p">());</span>
            <span class="n">verts</span><span class="p">.</span><span class="nf">Dispose</span><span class="p">();</span>
            <span class="n">tris</span><span class="p">.</span><span class="nf">Dispose</span><span class="p">();</span>

            <span class="k">return</span> <span class="n">result</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="k">private</span> <span class="kt">float</span> <span class="nf">GetPerlinHeight</span><span class="p">(</span><span class="kt">float</span> <span class="n">x</span><span class="p">,</span> <span class="kt">float</span> <span class="n">y</span><span class="p">,</span> <span class="kt">float</span> <span class="n">scale</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">return</span> <span class="n">Mathf</span><span class="p">.</span><span class="nf">PerlinNoise</span><span class="p">(</span><span class="n">x</span> <span class="p">/</span> <span class="n">scale</span> <span class="p">+</span> <span class="m">0.1f</span><span class="p">,</span> <span class="n">y</span> <span class="p">/</span> <span class="n">scale</span> <span class="p">+</span> <span class="m">0.1f</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div>  </div>

</details>


      </div>

      <div class="post-tail-wrapper text-muted">

        <!-- categories -->
        
        <div class="post-meta mb-3">
          <i class="far fa-folder-open fa-fw mr-1"></i>
          
            <a href='/categories/unity/'>Unity</a>,
            <a href='/categories/unity-study/'>Unity Study</a>
        </div>
        

        <!-- tags -->
        
        <div class="post-tags">
          <i class="fa fa-tags fa-fw mr-1"></i>
          
          <a href="/tags/unity/"
            class="post-tag no-text-decoration" >unity</a>
          
          <a href="/tags/csharp/"
            class="post-tag no-text-decoration" >csharp</a>
          
          <a href="/tags/multithread/"
            class="post-tag no-text-decoration" >multithread</a>
          
          <a href="/tags/job/"
            class="post-tag no-text-decoration" >job</a>
          
          </div>
        

        <div class="post-tail-bottom
          d-flex justify-content-between align-items-center mt-3 pt-5 pb-2">
          
          <div class="license-wrapper">
            This post is licensed under
            <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a>
            by the author.
          </div>
          

          <!--
 Post sharing snippet

 v2.1
 https://github.com/cotes2020/jekyll-theme-chirpy
 © 2019 Cotes Chung
 Published under the MIT License
-->

<div class="share-wrapper">
  <span class="share-label text-muted mr-1">Share</span>
  <span class="share-icons">
    
    

    
      
        <a href="https://twitter.com/intent/tweet?text=유니티의 멀티스레딩과 Job의 활용 - Rito15&url=https://rito15.github.io/posts/unity-study-multithread-job/" data-toggle="tooltip" data-placement="top"
          title="Twitter" target="_blank" rel="noopener" aria-label="Twitter">
          <i class="fa-fw fab fa-twitter"></i>
        </a>
    
      
        <a href="https://www.facebook.com/sharer/sharer.php?title=유니티의 멀티스레딩과 Job의 활용 - Rito15&u=https://rito15.github.io/posts/unity-study-multithread-job/" data-toggle="tooltip" data-placement="top"
          title="Facebook" target="_blank" rel="noopener" aria-label="Facebook">
          <i class="fa-fw fab fa-facebook-square"></i>
        </a>
    
      
        <a href="https://telegram.me/share?text=유니티의 멀티스레딩과 Job의 활용 - Rito15&url=https://rito15.github.io/posts/unity-study-multithread-job/" data-toggle="tooltip" data-placement="top"
          title="Telegram" target="_blank" rel="noopener" aria-label="Telegram">
          <i class="fa-fw fab fa-telegram"></i>
        </a>
    

    <i class="fa-fw fas fa-link small" onclick="copyLink()"
        data-toggle="tooltip" data-placement="top" title="Copy link"></i>

  </span>
</div>


        </div><!-- .post-tail-bottom -->

      </div><!-- div.post-tail -->

    </div> <!-- .post -->


  </div> <!-- #post-wrapper -->

  

  

  <!--
  The Pannel on right side (Desktop views)
  v2.0
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2017-2019 Cotes Chung
  MIT License
-->

<div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down">

  <div class="access">

  














  

    <div id="access-lastmod" class="post">
      <span>Recent Update</span>
      <ul class="post-content pl-0 pb-1 ml-1 mt-2">

      
        
        
        
        <li><a href="/posts/unity-editor-gui-style/">GUI 스타일 지정하기</a></li>
      
        
        
        
        <li><a href="/posts/unity-study-unirx/">UniRx (Reactive Extensions for Unity)</a></li>
      
        
        
        
        <li><a href="/posts/unity-editor-refresh-windows/">각종 윈도우 새로고침하기</a></li>
      
        
        
        
        <li><a href="/posts/unity-toy-free-look-camera/">Free Look Camera (자유 시점 카메라)</a></li>
      
        
        
        
        <li><a href="/posts/unity-editor-undo/">Undo</a></li>
      

      </ul>
    </div> <!-- #access-lastmod -->

  

  















  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        



  
    <div id="access-tags">
      <span>Trending Tags</span>
      <div class="d-flex flex-wrap mt-3 mb-1 mr-3">

      
        
        <a class="post-tag" href="/tags/csharp/">csharp</a>
      
        
        <a class="post-tag" href="/tags/unity/">unity</a>
      
        
        <a class="post-tag" href="/tags/graphics/">graphics</a>
      
        
        <a class="post-tag" href="/tags/opengl/">opengl</a>
      
        
        <a class="post-tag" href="/tags/shader/">shader</a>
      
        
        <a class="post-tag" href="/tags/editor/">editor</a>
      
        
        <a class="post-tag" href="/tags/particle/">particle</a>
      
        
        <a class="post-tag" href="/tags/plugin/">plugin</a>
      
        
        <a class="post-tag" href="/tags/shadergraph/">shadergraph</a>
      
        
        <a class="post-tag" href="/tags/urp/">urp</a>
      

      </div>
    </div>
  
  </div> <!-- .access -->

  
    <div id="toc-wrapper" class="pl-0 pr-4 mb-5">
      <span class="pl-3 pt-2 mb-2">Contents</span>
      <nav id="toc" data-toggle="toc"></nav>
    </div>
  

</div> <!-- #panel-wrapper -->


</div> <!-- .row -->

<div class="row">
  <div class="col-12 col-lg-11 col-xl-8">
    <div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4">

    <!--
 Recommend the other 3 posts according to the tags and categories of the current post,
 if the number is not enough, use the other latest posts to supplement.

 v2.0
 https://github.com/cotes2020/jekyll-theme-chirpy
 © 2019 Cotes Chung
 Published under the MIT License
-->

<!-- The total size of related posts  -->


<!-- An random integer that bigger than 0  -->


<!-- Equals to TAG_SCORE / {max_categories_hierarchy}  -->








  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  
    
  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  








<!-- Fill with the other newlest posts  -->






  <div id="related-posts" class="mt-5 mb-2 mb-sm-4">
    <h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3>
    <div class="card-deck mb-4">
    
      
      
      <div class="card">
        <a href="/posts/job-system/">
          <div class="card-body">
            <!--
  Date format snippet

  v2.4.1
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2020 Cotes Chung
  MIT License
-->
<span class="timeago small"
  >

  
  

  
    Jan 24
  

  <i class="unloaded">2021-01-24T13:15:00+09:00</i>

</span>
            <h3 class="pt-0 mt-1 mb-3" data-toc-skip>잡 시스템(Job System)</h3>
            <div class="text-muted small">
              <p>
                





                개념



  유니티에서 안전한 멀티스레딩을 구현하는 시스템
  스레드를 별도로 생성하지 않으며, 유니티의 워커스레드에 작업을 지시할 수 있게 한다.
  잡 대기열에 잡을 배치하면 워커 스레드가 잡 대기열에서 항목을 가져와 실행한다.
  Native Container를 이용해 잡의 수행 결과를 메인 스레드와 공유한다.
  버스트 컴파일러를 이용하여 추...
              </p>
            </div>
          </div>
        </a>
      </div>
    
      
      
      <div class="card">
        <a href="/posts/unity-physics-based-movement/">
          <div class="card-body">
            <!--
  Date format snippet

  v2.4.1
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2020 Cotes Chung
  MIT License
-->
<span class="timeago small"
  >

  
  

  
    Feb 25
  

  <i class="unloaded">2021-02-25T04:11:00+09:00</i>

</span>
            <h3 class="pt-0 mt-1 mb-3" data-toc-skip>물리 기반 캐릭터 이동 구현하기</h3>
            <div class="text-muted small">
              <p>
                





                목차



  1. 서론
  2. 이동 스크립트 분리
  3. 요구사항 정리
  4. 필드, 프로퍼티 정의
  5. 상태 검사 구현
  6. 중력 적용
  7. 이동 구현
  8. 물리 상호작용
  9. 구현 결과
  10. 소스 코드




서론


유니티에서 캐릭터 이동을 구현하기 위한 방법들은 다양하다.


  Transform
  Rigidbo...
              </p>
            </div>
          </div>
        </a>
      </div>
    
      
      
      <div class="card">
        <a href="/posts/unity-study-unirx/">
          <div class="card-body">
            <!--
  Date format snippet

  v2.4.1
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2020 Cotes Chung
  MIT License
-->
<span class="timeago small"
  >

  
  

  
    Mar  6
  

  <i class="unloaded">2021-03-06T20:14:00+09:00</i>

</span>
            <h3 class="pt-0 mt-1 mb-3" data-toc-skip>UniRx (Reactive Extensions for Unity)</h3>
            <div class="text-muted small">
              <p>
                





                개요


Rx란?


  Reactive Extensions
  절차적 프로그래밍에서 다루기 쉽지 않은 비동기 프로그래밍을 손쉽게 다루기 위한 패러다임
  .NET에도 다양한 언어로 구현되어 있다.
  비동기 데이터 스트림을 중심으로 동작한다.
  스트림 내의 데이터에 변화가 발생했을 때 반응형으로 기능이 동작하는 방식을 사용한다.
  시간을 상당히 ...
              </p>
            </div>
          </div>
        </a>
      </div>
    
    </div> <!-- .card-deck -->
  </div> <!-- #related-posts -->



    <!--
  Navigation buttons at the bottom of the post.

  v2.1
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2020 Cotes Chung
  MIT License
-->

<div class="post-navigation d-flex justify-content-between">
  
  <a href="/posts/unity-particle-system-example-11-sword-effect/" class="btn btn-outline-primary">
    <p>파티클 시스템 예제 - 11 - Sword Effect</p>
  </a>
  

  
  <a href="/posts/algorithm-pow/" class="btn btn-outline-primary">
    <p>O(logn) 거듭제곱 알고리즘</p>
  </a>
  

</div>

    

    </div> <!-- #post-extend-wrapper -->

  </div> <!-- .col-* -->

</div> <!-- .row -->



  <!-- image lazy load: https://github.com/ApoorvSaxena/lozad.js -->
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script>

<script type="text/javascript">
  const imgs = document.querySelectorAll('.post-content img');
  const observer = lozad(imgs);
  observer.observe();
</script>




        <!--
  The Footer
  v2.0
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2017-2019 Cotes Chung
  MIT License
-->

<footer class="d-flex w-100 justify-content-center">
  <div class="d-flex justify-content-between align-items-center">
    <div class="footer-left">
      <p class="mb-0">
        © 2021
        <a href="https://github.com/rito15">Rito15</a>.
        
        <span data-toggle="tooltip" data-placement="top"
          title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span>
        
      </p>
    </div>

    <div class="footer-right">
      <p class="mb-0">
        Powered by
        <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a>
        with
        <a href="https://github.com/cotes2020/jekyll-theme-chirpy/" target="_blank" rel="noopener">Chirpy</a>
        theme.
      </p>
    </div>

  </div> <!-- div.d-flex -->
</footer>


      </div>

      <!--
  The Search results
  v2.0
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2017-2019 Cotes Chung
  MIT License
-->
<div id="search-result-wrapper" class="d-flex justify-content-center unloaded">
  <div class="col-12 col-xl-11 post-content">
    <div id="search-hints">
      <h4 class="text-muted mb-4">Trending Tags</h4>

      















  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        



      
        
        <a class="post-tag" href="/tags/csharp/">csharp</a>
      
        
        <a class="post-tag" href="/tags/unity/">unity</a>
      
        
        <a class="post-tag" href="/tags/graphics/">graphics</a>
      
        
        <a class="post-tag" href="/tags/opengl/">opengl</a>
      
        
        <a class="post-tag" href="/tags/shader/">shader</a>
      
        
        <a class="post-tag" href="/tags/editor/">editor</a>
      
        
        <a class="post-tag" href="/tags/particle/">particle</a>
      
        
        <a class="post-tag" href="/tags/plugin/">plugin</a>
      
        
        <a class="post-tag" href="/tags/shadergraph/">shadergraph</a>
      
        
        <a class="post-tag" href="/tags/urp/">urp</a>
      

    </div>
    <div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div>
  </div>
</div>


    </div> <!-- #main-wrapper -->

    
      <!--
  mermaid-js loader
-->
<script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
<script>
  $(function() {
    let initTheme = "default";

    if ($("html[mode=dark]").length > 0
      || ($("html[mode]").length == 0
        && window.matchMedia("(prefers-color-scheme: dark)").matches ) ) {
      initTheme = "dark";
    }

    let mermaidConf = {
      theme: initTheme  /* <default|dark|forest|neutral> */
    };

    /* Markdown converts to HTML */
    $("pre").has("code.language-mermaid").each(function() {
      let svgCode = $(this).children().html();
      $(this).addClass("unloaded");
      $(this).after(`<div class=\"mermaid\">${svgCode}</div>`);
    });

    mermaid.initialize(mermaidConf);
  });
</script>

    

    <div id="mask"></div>

    <a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button">
      <i class="fas fa-angle-up"></i>
    </a>

    <!--
  Jekyll Simple Search loader
  v2.0
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2017-2019 Cotes Chung
  MIT License
-->





<script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script>

<script>
SimpleJekyllSearch({
  searchInput: document.getElementById('search-input'),
  resultsContainer: document.getElementById('search-results'),
  json: '/assets/js/data/search.json',
  searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0">  <a href="https://rito15.github.io{url}">{title}</a>  <div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1">    <div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>{categories}</div>    <div><i class="fa fa-tag fa-fw"></i>{tags}</div>  </div>  <p>{snippet}</p></div>',
  noResultsText: '<p class="mt-5">Oops! No result founds.</p>'
});
</script>


  </body>

</html>

