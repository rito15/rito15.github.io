<!DOCTYPE html>



<html lang="en" 
  
    mode="dark"
  
>

  <!--
  The Head
  v2.0
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2017-2019 Cotes Chung
  MIT License
-->

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="theme" content="Chirpy v2.7.2">

  <!-- Begin Jekyll SEO tag v2.7.1 -->
<meta name="generator" content="Jekyll v4.2.0" />
<meta property="og:title" content="유니티 - 스크립트 최적화" />
<meta name="author" content="Rito15" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="목차 1. GetComponent(), Find() 메소드 사용 줄이기 2. GetComponent() 대신 TryGetComponent() 사용하기 3. Object.name, GameObject.tag 사용하지 않기 4. 비어있는 유니티 이벤트 메소드 방치하지 않기 5. StartCoroutine() 자주 호출하지 않기 6. 코루틴의 yield 캐싱하기 7. 메소드 호출 줄이기 8. 참조 캐싱하기 9. 빌드 이후 Debug.Log() 사용하지 않기 10 Transform 변경은 한번에 11. 불필요하게 부모 자식 구조 늘리지 않기 12. ScriptableObject 활용하기 13. 필요하지 않은 경우, 리턴하지 않기 14. new로 생성하는 부분 최대한 줄이기 15. 오브젝트 풀링 사용하기 16. 구조체 사용하기 17. 컬렉션 재사용하기 18. List 사용할 때 주의할 점 19. StringBuilder 사용하기 20. LINQ 사용 시 주의하기 21. 박싱, 언박싱 피하기 23. Enum HasFlag() 박싱 이슈 24. 비싼 수학 계산 피하기 25. Camera.main 26. 벡터 연산 시 주의사항" />
<meta property="og:description" content="목차 1. GetComponent(), Find() 메소드 사용 줄이기 2. GetComponent() 대신 TryGetComponent() 사용하기 3. Object.name, GameObject.tag 사용하지 않기 4. 비어있는 유니티 이벤트 메소드 방치하지 않기 5. StartCoroutine() 자주 호출하지 않기 6. 코루틴의 yield 캐싱하기 7. 메소드 호출 줄이기 8. 참조 캐싱하기 9. 빌드 이후 Debug.Log() 사용하지 않기 10 Transform 변경은 한번에 11. 불필요하게 부모 자식 구조 늘리지 않기 12. ScriptableObject 활용하기 13. 필요하지 않은 경우, 리턴하지 않기 14. new로 생성하는 부분 최대한 줄이기 15. 오브젝트 풀링 사용하기 16. 구조체 사용하기 17. 컬렉션 재사용하기 18. List 사용할 때 주의할 점 19. StringBuilder 사용하기 20. LINQ 사용 시 주의하기 21. 박싱, 언박싱 피하기 23. Enum HasFlag() 박싱 이슈 24. 비싼 수학 계산 피하기 25. Camera.main 26. 벡터 연산 시 주의사항" />
<link rel="canonical" href="https://rito15.github.io/posts/unity-opt-script-optimization/" />
<meta property="og:url" content="https://rito15.github.io/posts/unity-opt-script-optimization/" />
<meta property="og:site_name" content="Rito15" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-02-04T19:30:00+09:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="유니티 - 스크립트 최적화" />
<meta name="google-site-verification" content="google_meta_tag_verification" />
<script type="application/ld+json">
{"description":"목차 1. GetComponent(), Find() 메소드 사용 줄이기 2. GetComponent() 대신 TryGetComponent() 사용하기 3. Object.name, GameObject.tag 사용하지 않기 4. 비어있는 유니티 이벤트 메소드 방치하지 않기 5. StartCoroutine() 자주 호출하지 않기 6. 코루틴의 yield 캐싱하기 7. 메소드 호출 줄이기 8. 참조 캐싱하기 9. 빌드 이후 Debug.Log() 사용하지 않기 10 Transform 변경은 한번에 11. 불필요하게 부모 자식 구조 늘리지 않기 12. ScriptableObject 활용하기 13. 필요하지 않은 경우, 리턴하지 않기 14. new로 생성하는 부분 최대한 줄이기 15. 오브젝트 풀링 사용하기 16. 구조체 사용하기 17. 컬렉션 재사용하기 18. List 사용할 때 주의할 점 19. StringBuilder 사용하기 20. LINQ 사용 시 주의하기 21. 박싱, 언박싱 피하기 23. Enum HasFlag() 박싱 이슈 24. 비싼 수학 계산 피하기 25. Camera.main 26. 벡터 연산 시 주의사항","datePublished":"2021-02-04T19:30:00+09:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://rito15.github.io/posts/unity-opt-script-optimization/"},"url":"https://rito15.github.io/posts/unity-opt-script-optimization/","author":{"@type":"Person","name":"Rito15"},"headline":"유니티 - 스크립트 최적화","dateModified":"2021-11-03T18:35:31+09:00","@type":"BlogPosting","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->


  <title>유니티 - 스크립트 최적화 | Rito15
  </title>

  <!--
  The Favicons for Web, Android, Microsoft, and iOS (iPhone and iPad) Apps
  Generated by: https://www.favicon-generator.org/
  v2.0
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2019 Cotes Chung
  Published under the MIT license
-->



<link rel="shortcut icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon">
<link rel="icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon">

<link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon.png">
<link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon-precomposed.png">
<link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicons/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicons/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicons/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicons/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicons/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicons/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicons/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicons/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-icon-180x180.png">

<link rel="icon" type="image/png" sizes="192x192"  href="/assets/img/favicons/android-icon-192x192.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicons/favicon-96x96.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png">

<link rel="manifest" href="/assets/img/favicons/manifest.json">
<meta name='msapplication-config' content='/assets/img/favicons/browserconfig.xml'>
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/assets/img/favicons/ms-icon-144x144.png">
<meta name="theme-color" content="#ffffff">


  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous">
  <link rel="dns-prefetch" href="https://fonts.gstatic.com">

  <!-- GA -->
  

  <!-- jsDelivr CDN -->
  <link rel="preconnect" href="cdn.jsdelivr.net">
  <link rel="dns-prefetch" href="cdn.jsdelivr.net">

  <!-- Bootstrap -->
  <link rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
    integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous">

  <!-- Font Awesome -->
  <link rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"
    integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ="
    crossorigin="anonymous">

  <!--
  CSS selector for site.
  Chirpy v2.3
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2020 Cotes Chung
  MIT Licensed
-->






<link rel="preload" href="/assets/css/post.css" as="style">
<link rel="stylesheet" href="/assets/css/post.css">


  
    <link rel="preload" as="style" href="/assets/css/lib/bootstrap-toc.min.css">
    <link rel="stylesheet" href="/assets/css/lib/bootstrap-toc.min.css" />
  



  <!-- JavaScripts -->

  <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script>

  <script defer
    src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script>

  <!--
  JS selector for site.
  Chirpy v2.3
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2020 Cotes Chung
  MIT Licensed
-->





<script async src="/assets/js/post.min.js"></script>


  <!-- MathJax -->
  <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>





</head>


  <body data-spy="scroll" data-target="#toc">

    <!--
  The Side Bar
  v2.0
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2017-2019 Cotes Chung
  MIT License
-->

<div id="sidebar" class="d-flex flex-column align-items-end">

  <div class="profile-wrapper text-center">
    <div id="avatar">
      <a href="/" alt="avatar" class="mx-auto">
        
        <img src="/assets/img/favicons/android-icon-192x192.png" alt="avatar" onerror="this.style.display='none'">
      </a>
    </div>

    <div class="site-title mt-3">
      <a href="/">Rito15</a>
    </div>

    <div class="site-subtitle font-italic">Unity Csharp Developer</div>

  </div><!-- .profile-wrapper -->

  <ul class="w-100">
    <!-- home -->
    <li class="nav-item">
      <a href="/" class="nav-link">
        <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i>
        <span>HOME</span>
      </a>
    </li>
    <!-- the real tabs -->
    
    <li class="nav-item">
      <a href="/tabs/categories/" class="nav-link">
        <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i>
        <span>CATEGORIES</span>
      </a>
    </li> <!-- .nav-item -->
    
    <li class="nav-item">
      <a href="/tabs/tags/" class="nav-link">
        <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i>
        <span>TAGS</span>
      </a>
    </li> <!-- .nav-item -->
    
    <li class="nav-item">
      <a href="/tabs/archives/" class="nav-link">
        <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i>
        <span>ARCHIVES</span>
      </a>
    </li> <!-- .nav-item -->
    
    <li class="nav-item">
      <a href="/tabs/about/" class="nav-link">
        <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i>
        <span>ABOUT</span>
      </a>
    </li> <!-- .nav-item -->
    

  </ul> <!-- ul.nav.flex-column -->

  <div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center">

    
      

      
      <a href="https://github.com/rito15" aria-label="github"
        
        target="_blank" rel="noopener">
        <i class="fab fa-github-alt"></i>
      </a>
      

    
      

      
      <a href="
          javascript:location.href = 'mailto:' + ['ghdtkals15','gmail.com'].join('@')" aria-label="email"
        
        >
        <i class="fas fa-envelope"></i>
      </a>
      

    
      

      
      <a href="/feed.xml" aria-label="rss"
        
        >
        <i class="fas fa-rss"></i>
      </a>
      

    

    

  </div> <!-- .sidebar-bottom -->

</div><!-- #sidebar -->


    <!--
  The Top Bar
  v2.0
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2017-2019 Cotes Chung
  MIT License
-->
<div id="topbar-wrapper" class="row justify-content-center topbar-down">
  <div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between">
    <span id="breadcrumb">
      
        
        <span>
          <a href="/">
            Posts
          </a>
        </span>
        
      

      
        <span>유니티 - 스크립트 최적화</span>
      

    </span><!-- endof #breadcrumb -->

    <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i>

    <div id="topbar-title">
      Post
    </div>

    <i id="search-trigger" class="fas fa-search fa-fw"></i>
    <span id="search-wrapper" class="align-items-center">
      <i class="fas fa-search fa-fw"></i>
      <input class="form-control" id="search-input" type="search"
        aria-label="search" placeholder="Search...">
      <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i>
    </span>
    <span id="search-cancel" >Cancel</span>
  </div>

</div>


    <div id="main-wrapper">
      <div id="main">

        <!--
  Refactor the HTML structure.
-->



<!--
  In order to allow a wide table to scroll horizontally,
  we suround the markdown table with `<div class="table-wrapper">` and `</div>`
-->


<!--
  Fixed kramdown code highlight rendering:
  https://github.com/penibelst/jekyll-compress-html/issues/101
  https://github.com/penibelst/jekyll-compress-html/issues/71#issuecomment-188144901
-->


<!-- Add attribute 'hide-bullet' to the checkbox list -->




  

  

  <!-- lazy-load images <https://github.com/ApoorvSaxena/lozad.js#usage> -->
  
  

  

  



<!-- return -->
<div class="row">

  <div id="post-wrapper" class="col-12 col-lg-11 col-xl-8">

    <div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4">

      <h1 data-toc-skip>유니티 - 스크립트 최적화</h1>

      <div class="post-meta text-muted d-flex flex-column">
        <!-- Published date and author -->
        <div>
          <!--
  Date format snippet

  v2.4.1
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2020 Cotes Chung
  MIT License
-->
<span class="timeago "
  
    data-toggle="tooltip"
    data-placement="bottom"
    title="Thu, Feb  4, 2021,  7:30 PM +0900"
  >

  
  

  
    Feb  4
  

  <i class="unloaded">2021-02-04T19:30:00+09:00</i>

</span>
          by
          <span class="author">
            Rito15
          </span>
        </div>

        <div>
          <!-- lastmod -->
          
          <span>
            Updated
            <!--
  Date format snippet

  v2.4.1
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2020 Cotes Chung
  MIT License
-->
<span class="timeago lastmod"
  
    data-toggle="tooltip"
    data-placement="bottom"
    title="Wed, Nov  3, 2021,  6:35 PM +0900"
  >

  
  

  
    Nov  3
  

  <i class="unloaded">2021-11-03T18:35:31+09:00</i>

</span>
          </span>
          

          <!-- read time -->
          <!--
  Calculate the post's reading time, and display the word count in tooltip
 -->






<!-- return element -->
<span class="readtime" data-toggle="tooltip" data-placement="bottom" title="8791 words">48 min</span>


          <!-- page views -->
          

          <!-- HITS -->
          &nbsp;
          <a href="https://hits.seeyoufarm.com"><img min-width="94" src="https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https://rito15.github.io/posts/unity-opt-script-optimization/%2F&count_bg=%23AC58FA&title_bg=%23555555&icon=&icon_color=%23E7E7E7&title=views&edge_flat=false"/></a> 

        </div>

      </div> <!-- .post-meta -->

      <div class="post-content">

        

        <h1 id="목차">목차</h1>
<hr />
<ul>
  <li><a href="#getcomponent-find-메소드-사용-줄이기">1.  GetComponent(), Find() 메소드 사용 줄이기</a></li>
  <li><a href="#getcomponent-대신-trygetcomponent-사용하기">2.  GetComponent() 대신 TryGetComponent() 사용하기</a></li>
  <li><a href="#objectname-gameobjecttag-사용하지-않기">3.  Object.name, GameObject.tag 사용하지 않기</a></li>
  <li><a href="#비어있는-유니티-이벤트-메소드-방치하지-않기">4.  비어있는 유니티 이벤트 메소드 방치하지 않기</a></li>
  <li><a href="#startcoroutine-자주-호출하지-않기">5.  StartCoroutine() 자주 호출하지 않기</a></li>
  <li><a href="#코루틴의-yield-캐싱하기">6.  코루틴의 yield 캐싱하기</a></li>
  <li><a href="#메소드-호출-줄이기">7.  메소드 호출 줄이기</a></li>
  <li><a href="#참조-캐싱하기">8.  참조 캐싱하기</a></li>
  <li><a href="#빌드-이후-debuglog-사용하지-않기">9.  빌드 이후 Debug.Log() 사용하지 않기</a></li>
  <li><a href="#transform-변경은-한번에">10  Transform 변경은 한번에</a></li>
  <li><a href="#불필요하게-부모-자식-구조-늘리지-않기">11. 불필요하게 부모 자식 구조 늘리지 않기</a></li>
  <li><a href="#scriptableobject-활용하기">12. ScriptableObject 활용하기</a></li>
  <li><a href="#필요하지-않은-경우-리턴하지-않기">13. 필요하지 않은 경우, 리턴하지 않기</a></li>
  <li><a href="#new로-생성하는-부분-최대한-줄이기">14. new로 생성하는 부분 최대한 줄이기</a></li>
  <li><a href="#오브젝트-풀링-사용하기">15. 오브젝트 풀링 사용하기</a></li>
  <li><a href="#구조체-사용하기">16. 구조체 사용하기</a></li>
  <li><a href="#컬렉션-재사용하기">17. 컬렉션 재사용하기</a></li>
  <li><a href="#list-사용할-때-주의할-점">18. List 사용할 때 주의할 점</a></li>
  <li><a href="#stringbuilder-사용하기">19. StringBuilder 사용하기</a></li>
  <li><a href="#linq-사용-시-주의하기">20. LINQ 사용 시 주의하기</a></li>
  <li><a href="#박싱-언박싱-피하기">21. 박싱, 언박싱 피하기</a></li>
  <li><a href="#enum-hasflag-박싱-이슈">23. Enum HasFlag() 박싱 이슈</a></li>
  <li><a href="#비싼-수학-계산-피하기">24. 비싼 수학 계산 피하기</a></li>
  <li><a href="#cameramain">25. Camera.main</a></li>
  <li><a href="#벡터-연산-시-주의사항">26. 벡터 연산 시 주의사항</a></li>
</ul>

<p><br /></p>

<h1 id="getcomponent-find-메소드-사용-줄이기">GetComponent(), Find() 메소드 사용 줄이기</h1>
<hr />
<p>GetComponent, Find, FindObjectOfType 등의 메소드는 자주 호출될 경우 성능에 악영향을 끼친다.</p>

<p>따라서 객체 참조가 필요할 때마다 <code class="language-plaintext highlighter-rouge">Update()</code>에서 Get, Find 메소드들을 호출하는 방식은 지양하고,</p>

<p>최대한 Awake, Start 메소드에서 Get, Find 메소드들을 통해 객체들을 필드에 캐싱하여 사용해야 한다.</p>

<p><br /></p>

<ul>
  <li>예시</li>
</ul>

<div class="language-cs highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="k">private</span> <span class="k">void</span> <span class="nf">Update</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">GetComponent</span><span class="p">&lt;</span><span class="n">Rigidbody</span><span class="p">&gt;().</span><span class="nf">AddForce</span><span class="p">(</span><span class="n">Vector3</span><span class="p">.</span><span class="n">right</span><span class="p">);</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p>위와 같은 코드가 있다면, 아래처럼 바꾼다.</p>

<div class="language-cs highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="rouge-code"><pre><span class="k">private</span> <span class="n">Rigidbody</span> <span class="n">rb</span><span class="p">;</span>

<span class="k">private</span> <span class="k">void</span> <span class="nf">Awake</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">rb</span> <span class="p">=</span> <span class="n">GetComponent</span><span class="p">&lt;</span><span class="n">Rigidbody</span><span class="p">&gt;();</span>
<span class="p">}</span>

<span class="k">private</span> <span class="k">void</span> <span class="nf">Update</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">rb</span><span class="p">.</span><span class="nf">AddForce</span><span class="p">(</span><span class="n">Vector3</span><span class="p">.</span><span class="n">right</span><span class="p">);</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><br /></p>

<h1 id="getcomponent-대신-trygetcomponent-사용하기">GetComponent() 대신 TryGetComponent() 사용하기</h1>
<hr />

<ul>
  <li><a href="https://medium.com/chenjd-xyz/unity-tip-use-trygetcomponent-instead-of-getcomponent-to-avoid-memory-allocation-in-the-editor-fe0c3121daf6">https://medium.com/chenjd-xyz/unity-tip-use-trygetcomponent-instead-of-getcomponent-to-avoid-memory-allocation-in-the-editor-fe0c3121daf6</a></li>
</ul>

<p><br /></p>

<p><code class="language-plaintext highlighter-rouge">GetComponent()</code> 메소드는 할당에 성공하거나 실패해도 언제나 <strong>GC Allocation</strong>이 발생한다.</p>

<p>하지만 <code class="language-plaintext highlighter-rouge">TryGetComponent()</code>를 이용하면 GC 걱정 없이 깔끔하게 사용할 수 있으며,</p>

<p>할당 성공 여부를 <code class="language-plaintext highlighter-rouge">bool</code> 타입으로 리턴받을 수 있다.</p>

<p><br /></p>

<p><code class="language-plaintext highlighter-rouge">TryGetComponent()</code> 메소드는 유니티 <strong>2019.2</strong> 버전부터 사용할 수 있다.</p>

<p>이전 버전까지는 그대로 <code class="language-plaintext highlighter-rouge">GetComponent()</code>를 사용하면 된다.</p>

<p><br /></p>

<h1 id="objectname-gameobjecttag-사용하지-않기">Object.name, GameObject.tag 사용하지 않기</h1>
<hr />

<p>게임 오브젝트의 이름을 참조해야 할 때, <code class="language-plaintext highlighter-rouge">.name</code> 프로퍼티를 호출한다.</p>

<p>그리고 태그 비교를 해야 할 때, <code class="language-plaintext highlighter-rouge">.tag</code> 프로퍼티를 호출해서 <code class="language-plaintext highlighter-rouge">==</code>, <code class="language-plaintext highlighter-rouge">.Equals()</code> 등으로 비교한다.</p>

<p>그런데 이런 호출 하나 하나가 전부 가비지를 한 개씩 생성한다.</p>

<p><code class="language-plaintext highlighter-rouge">.name</code>으로 프로퍼티 Getter를 호출할 때마다 가비지 한 개,</p>

<p><code class="language-plaintext highlighter-rouge">.tag</code>로 프로퍼티 Getter를 호출할 때마다 가비지 한 개.</p>

<p>예전부터 있었던 문제이고, <code class="language-plaintext highlighter-rouge">2021.1.16f1</code> 버전에서도 직접 테스트해본 결과 동일했다.</p>

<p><br /></p>

<p><code class="language-plaintext highlighter-rouge">UnityEngine.Object.name</code> 프로퍼티를 살펴보면</p>

<div class="language-cs highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre></td><td class="rouge-code"><pre><span class="k">public</span> <span class="kt">string</span> <span class="n">name</span>
<span class="p">{</span>
    <span class="k">get</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="nf">GetName</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">set</span>
    <span class="p">{</span>
        <span class="nf">SetName</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="k">value</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="p">[</span><span class="nf">MethodImpl</span><span class="p">(</span><span class="n">MethodImplOptions</span><span class="p">.</span><span class="n">InternalCall</span><span class="p">)]</span>
<span class="p">[</span><span class="nf">FreeFunction</span><span class="p">(</span><span class="s">"UnityEngineObjectBindings::GetName"</span><span class="p">)]</span>
<span class="k">private</span> <span class="k">static</span> <span class="k">extern</span> <span class="kt">string</span> <span class="nf">GetName</span><span class="p">(</span><span class="n">Object</span> <span class="n">obj</span><span class="p">);</span>
</pre></td></tr></tbody></table></code></div></div>

<p>이런 식으로 구현되어 있다.</p>

<p>결국 오브젝트의 이름을 갖고 있는건 유니티 네이티브 영역이고,</p>

<p>이를 참조하려고 할 때마다 문자열을 새롭게 힙에 할당해 오기 때문에 가비지가 발생하는 것이다.</p>

<p><br /></p>

<p>태그도 비슷한 방식으로 되어 있지만, 그래도 해결 방법이 있다.</p>

<p><code class="language-plaintext highlighter-rouge">gameObject.tag == "Player"</code> 대신에</p>

<p><code class="language-plaintext highlighter-rouge">gameObject.CompareTag("Player")</code>처럼</p>

<p><code class="language-plaintext highlighter-rouge">GameObject.CompareTag(string)</code>, <code class="language-plaintext highlighter-rouge">Component.CompareTag(string)</code> 메소드를 사용하면 가비지 생성을 방지할 수 있다.</p>

<p><br /></p>

<p>결국 <code class="language-plaintext highlighter-rouge">name</code> 프로퍼티만 주의해서 사용하면 된다.</p>

<p>“절대로 쓰면 안된다”, 이런 것이 아니라</p>

<p>성능에 별 영향이 없는 것 같거나 다른 방안이 없으면 그냥 사용하고,</p>

<p>성능에 민감하면 다른 방법을 찾으면 된다.</p>

<p><br /></p>

<h1 id="비어있는-유니티-이벤트-메소드-방치하지-않기">비어있는 유니티 이벤트 메소드 방치하지 않기</h1>
<hr />
<p><code class="language-plaintext highlighter-rouge">Awake()</code>, <code class="language-plaintext highlighter-rouge">Update()</code> 등의 유니티 기본 이벤트 메소드는 매직 메소드라고도 불리며,</p>

<p>스크립트 내에 작성되어 있는 것만으로도 호출되어 성능을 소모한다.</p>

<p>따라서 내용이 비어있는 유니티 기본 이벤트 메소드는 아예 지워야 한다.</p>

<p><code class="language-plaintext highlighter-rouge">protected virtual</code> 등으로 지정하는 경우에도 혹시나 비워놓을 가능성이 있다면 지양하는 것이 좋다.</p>

<p><br /></p>

<h1 id="startcoroutine-자주-호출하지-않기">StartCoroutine() 자주 호출하지 않기</h1>
<hr />
<p><code class="language-plaintext highlighter-rouge">StartCoroutine()</code> 메소드는 <code class="language-plaintext highlighter-rouge">Coroutine</code> 타입의 객체를 리턴하므로 GC의 먹이가 된다.</p>

<p>따라서 짧은 주기로 코루틴을 자주 실행해야 하는 경우, UniTask, UniRx 등으로 대체하는 것이 좋다.</p>

<p>UniTask는 Cancellation 관리가 번거로우므로, UniRx의 MicroCoroutine을 활용하면 좋다.</p>

<p>그리고 매 프레임 실행되는 코루틴의 경우(<code class="language-plaintext highlighter-rouge">yield return null</code>), 대신 Update를 사용하는 것이 성능상 효율적이다.</p>

<p>그런데 UniRx의 MicroCoroutine을 사용한다면 매 프레임 실행해도 된다.</p>

<p><br /></p>

<h1 id="코루틴의-yield-캐싱하기">코루틴의 yield 캐싱하기</h1>
<hr />
<div class="language-cs highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre><span class="k">private</span> <span class="n">IEnumerator</span> <span class="nf">SomeCoroutine</span><span class="p">()</span>
<span class="p">{</span>
    <span class="k">while</span><span class="p">(</span><span class="k">true</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="c1">// ...</span>
        <span class="k">yield</span> <span class="k">return</span> <span class="k">new</span> <span class="nf">WaitForSeconds</span><span class="p">(</span><span class="m">0.01f</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p>코루틴에서는 <code class="language-plaintext highlighter-rouge">WaitForSeconds()</code> 등의 객체를 yield return으로 사용한다.</p>

<p>그런데 위처럼 매번 new로 생성할 경우, 모조리 가비지 수집의 대상이 된다.</p>

<p>따라서 아래처럼 미리 변수에 담아 두고 사용하는 것이 좋다.</p>

<div class="language-cs highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre><span class="k">private</span> <span class="n">IEnumerator</span> <span class="nf">SomeCoroutine</span><span class="p">()</span>
<span class="p">{</span>
    <span class="kt">var</span> <span class="n">wfs</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">WaitForSeconds</span><span class="p">(</span><span class="m">0.01f</span><span class="p">);</span>
    <span class="k">while</span><span class="p">(</span><span class="k">true</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="c1">// ...</span>
        <span class="k">yield</span> <span class="k">return</span> <span class="n">wfs</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><br /></p>

<h1 id="메소드-호출-줄이기">메소드 호출 줄이기</h1>
<hr />

<p>메소드는 호출하는 것 자체만으로도 성능을 소모한다.</p>

<p>그런데 종종 가독성을 위해 비교적 간단한 문장도 메소드화하는 경우가 있다.</p>

<div class="language-cs highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="rouge-code"><pre><span class="k">void</span> <span class="nf">Update</span><span class="p">()</span>
<span class="p">{</span>
    <span class="c1">// 1. 문장</span>
    <span class="kt">bool</span> <span class="n">b1</span> <span class="p">=</span> <span class="n">transform</span><span class="p">.</span><span class="n">gameObject</span><span class="p">.</span><span class="n">activeSelf</span> <span class="p">&amp;&amp;</span>
              <span class="n">transform</span><span class="p">.</span><span class="n">gameObject</span><span class="p">.</span><span class="n">activeInHierarchy</span><span class="p">;</span>

    <span class="c1">// 2. 메소드 호출</span>
    <span class="kt">bool</span> <span class="n">b2</span> <span class="p">=</span> <span class="nf">IsFullyActive</span><span class="p">(</span><span class="n">transform</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">bool</span> <span class="nf">IsFullyActive</span><span class="p">(</span><span class="n">Transform</span> <span class="n">tr</span><span class="p">)</span>
 <span class="p">=&gt;</span> <span class="n">transform</span><span class="p">.</span><span class="n">gameObject</span><span class="p">.</span><span class="n">activeSelf</span> <span class="p">&amp;&amp;</span>
    <span class="n">transform</span><span class="p">.</span><span class="n">gameObject</span><span class="p">.</span><span class="n">activeInHierarchy</span><span class="p">;</span>
</pre></td></tr></tbody></table></code></div></div>

<p>위의 경우, 동일한 문장을 여러 번 호출해야 한다면 대부분 메소드화해서 사용할 것이다.</p>

<p>메소드 호출 때문에 비용이 더 들지만 가독성을 위해 어쩔 수 없는 선택이라고 할 수 있다.</p>

<p><br /></p>

<p>따라서 아래와 같이 사용할 수 있다.</p>

<div class="language-cs highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
</pre></td><td class="rouge-code"><pre><span class="k">void</span> <span class="nf">Update</span><span class="p">()</span>
<span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="nf">IsFullyActive</span><span class="p">(</span><span class="n">transform</span><span class="p">))</span>
    <span class="p">{</span>
        <span class="c1">// ...1</span>
    <span class="p">}</span>

    <span class="c1">// ..</span>

    <span class="k">if</span><span class="p">(</span><span class="nf">IsFullyActive</span><span class="p">(</span><span class="n">transform</span><span class="p">)</span> <span class="p">&amp;&amp;</span> <span class="cm">/* ... */</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="c1">// ...2</span>
    <span class="p">}</span>
    <span class="k">else</span>
    <span class="p">{</span>
        <span class="c1">// ...</span>
    <span class="p">}</span>

    <span class="c1">// ..</span>

    <span class="k">if</span><span class="p">(</span><span class="cm">/* .. */</span> <span class="p">||</span> <span class="cm">/* .. */</span> <span class="p">&amp;&amp;</span> <span class="nf">IsFullyActive</span><span class="p">(</span><span class="n">transform</span><span class="p">))</span>
    <span class="p">{</span>
        <span class="c1">// ...3</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p>그런데 ‘문장의 메소드화’와는 별개로, 이 코드에서 생각해봐야 할 점이 있다.</p>

<p>메소드 호출의 결괏값이 범위(메소드 블록 또는 라이프사이클 등) 내에서 항상 같다면?</p>

<p>따라서 두 가지 경우로 나누어 생각해볼 수 있다.</p>

<p><br /></p>

<h3 id="1-해당-메소드-호출의-결괏값이-범위-내에서-달라질-수-있는-경우">1. 해당 메소드 호출의 결괏값이 범위 내에서 달라질 수 있는 경우</h3>

<ul>
  <li><code class="language-plaintext highlighter-rouge">IsFullyActive(transform)</code>를 호출할 때마다 결과가 다를 수 있다면, 위처럼 사용하면 된다.</li>
</ul>

<p><br /></p>

<h3 id="2-해당-메소드-호출의-결괏값이-범위-내에서-항상-같은-경우">2. 해당 메소드 호출의 결괏값이 범위 내에서 항상 같은 경우</h3>

<ul>
  <li>
    <p>결국 항상 같은 값을 얻는데, 메소드를 여러 번 호출하는 것은 해당 메소드의 비용에 비례해서 그만큼의 손해를 보게 된다.</p>
  </li>
  <li>
    <p>따라서 이런 경우에는 지역변수 또는 필드에 한 번의 메소드 호출로 값을 얻어 초기화한 뒤, 재사용 하는 방식을 선택해야 한다.</p>
  </li>
</ul>

<div class="language-cs highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre><span class="k">void</span> <span class="nf">Update</span><span class="p">()</span>
<span class="p">{</span>
    <span class="kt">bool</span> <span class="n">isTransformFullyActive</span> <span class="p">=</span> <span class="nf">IsFullyActive</span><span class="p">(</span><span class="n">transform</span><span class="p">);</span>
    
    <span class="c1">// 블록 내에서 isTransformFullyActive 재사용</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><br /></p>

<h1 id="참조-캐싱하기">참조 캐싱하기</h1>
<hr />

<p>주로 프로퍼티 호출에 해당한다.</p>

<p>예를 들어,</p>

<div class="language-cs highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre><span class="k">void</span> <span class="nf">Update</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">_</span> <span class="p">=</span> <span class="n">Camera</span><span class="p">.</span><span class="n">main</span><span class="p">.</span><span class="n">gameObject</span><span class="p">;</span>
    <span class="n">_</span> <span class="p">=</span> <span class="n">Camera</span><span class="p">.</span><span class="n">main</span><span class="p">.</span><span class="n">transform</span><span class="p">.</span><span class="n">forward</span><span class="p">;</span>
    <span class="n">_</span> <span class="p">=</span> <span class="n">targetObject</span><span class="p">.</span><span class="n">transform</span><span class="p">.</span><span class="n">parent</span><span class="p">.</span><span class="n">gameObject</span><span class="p">.</span><span class="n">activeInHierarchy</span><span class="p">;</span>
    <span class="n">_</span> <span class="p">+=</span> <span class="n">Time</span><span class="p">.</span><span class="n">deltaTime</span><span class="p">;</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p>이런 경우다.</p>

<p>프로퍼티는 필드가 아니다. 필드처럼 호출할 수 있는 메소드다.</p>

<p>실제로 내부적으로는 Setter, Getter 메소드로 이루어져 있으며,</p>

<p>당연히 메소드 호출만큼의 오버헤드가 발생한다.</p>

<p>심지어 위처럼 대상.프로퍼티.프로퍼티.프로퍼티.값 이렇게 이어지는 경우에는</p>

<p>호출하는 모든 프로퍼티가 각각 오버헤드로 이어진다.</p>

<p>따라서 이를 자주 호출해야 하는 경우에는 미리 참조로 캐싱해두는 것이 좋다.</p>

<p>예전보다 나아졌긴 하지만 심지어 <code class="language-plaintext highlighter-rouge">Camera.main</code>도 필드 참조보다 훨씬 비싸다.</p>

<p>메인 카메라로 등록된 참조를 바로 가져오는 친절한 친구가 아니라,</p>

<p>내부적으로 <code class="language-plaintext highlighter-rouge">FindMainCamera()</code> 메소드 호출을 통해 “MainCamera” 태그가 붙은 카메라들 중에 현재 렌더링을 담당하고 있는 카메라를 가져오는 프로퍼티다.</p>

<p>그래서 이렇게,</p>

<div class="language-cs highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
</pre></td><td class="rouge-code"><pre><span class="k">private</span> <span class="n">Camera</span> <span class="n">_mainCam</span><span class="p">;</span>
<span class="k">private</span> <span class="n">GameObject</span> <span class="n">_mainCamObject</span><span class="p">;</span>
<span class="k">private</span> <span class="n">Transform</span>  <span class="n">_mainCamTransform</span><span class="p">;</span>
<span class="k">private</span> <span class="n">GameObject</span> <span class="n">_targetParentObject</span><span class="p">;</span>
<span class="k">private</span> <span class="kt">float</span>      <span class="n">_deltaTime</span><span class="p">;</span>

<span class="k">void</span> <span class="nf">Start</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">_mainCam</span> <span class="p">=</span> <span class="n">Camera</span><span class="p">.</span><span class="n">main</span><span class="p">;</span>
    <span class="n">_mainCamObject</span> <span class="p">=</span> <span class="n">Camera</span><span class="p">.</span><span class="n">main</span><span class="p">.</span><span class="n">gameObject</span><span class="p">;</span>
    <span class="n">_mainCamTransform</span> <span class="p">=</span> <span class="n">Camera</span><span class="p">.</span><span class="n">main</span><span class="p">.</span><span class="n">transform</span><span class="p">;</span>
    <span class="n">_targetParentObject</span> <span class="p">=</span> <span class="n">targetObject</span><span class="p">.</span><span class="n">transform</span><span class="p">.</span><span class="n">parent</span><span class="p">.</span><span class="n">gameObject</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">void</span> <span class="nf">Update</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">_deltaTime</span> <span class="p">=</span> <span class="n">Time</span><span class="p">.</span><span class="n">deltaTime</span><span class="p">;</span>

    <span class="c1">// ...</span>

    <span class="c1">// Usages</span>
    <span class="n">_</span> <span class="p">=</span> <span class="n">_mainCamObject</span><span class="p">;</span>
    <span class="n">_</span> <span class="p">=</span> <span class="n">_mainCamTransform</span><span class="p">.</span><span class="n">forward</span><span class="p">;</span>
    <span class="n">_</span> <span class="p">=</span> <span class="n">_targetParentObject</span><span class="p">.</span><span class="n">activeInHierarchy</span><span class="p">;</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p>자주 호출하는 프로퍼티, 참조들은 최대한 해당 타입 그대로 필드에 담아 사용하는 것이 좋다.</p>

<p><code class="language-plaintext highlighter-rouge">Time.deltaTime</code>도 캐싱하는 것은 과하다고 생각할 수 있는데,</p>

<p><code class="language-plaintext highlighter-rouge">Time.deltaTime</code> 또한 내부 메소드 호출로 구현되어 있다.</p>

<p>여러 군데, 수십 군데에서 <code class="language-plaintext highlighter-rouge">Time.deltaTime</code>을 그대로 항상 호출하여 사용하면 그만큼의 메소드 호출 비용이 발생하는 것이니 항상 <code class="language-plaintext highlighter-rouge">Update()</code> 최상단에서 캐싱해서 사용하는 것이 좋다.</p>

<p><br /></p>

<h1 id="빌드-이후-debuglog-사용하지-않기">빌드 이후 Debug.Log() 사용하지 않기</h1>
<hr />
<p><code class="language-plaintext highlighter-rouge">Debug</code>의 메소드들은 에디터에서 디버깅을 위해 사용하지만, 빌드 이후에도 호출되어 성능을 많이 소모한다.</p>

<p>따라서 아래처럼 Debug 클래스를 에디터 전용으로 래핑에서 사용할 경우, 이를 방지할 수 있다.</p>

<ul>
  <li><a href="https://github.com/rito15/Unity_Toys/blob/master/Rito/2.%20Toy/2021_0125_EditorOnly%20Debug/Debug_UnityEditorConditional.cs">https://github.com/rito15/Unity_Toys/blob/master/Rito/2.%20Toy/2021_0125_EditorOnly%20Debug/Debug_UnityEditorConditional.cs</a></li>
</ul>

<div class="language-cs highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre><span class="k">public</span> <span class="k">static</span> <span class="k">class</span> <span class="nc">Debug</span>
<span class="p">{</span>
    <span class="p">[</span><span class="nf">Conditional</span><span class="p">(</span><span class="s">"UNITY_EDITOR"</span><span class="p">)]</span>
    <span class="k">public</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">Log</span><span class="p">(</span><span class="kt">object</span> <span class="n">message</span><span class="p">)</span>
        <span class="p">=&gt;</span> <span class="n">UnityEngine</span><span class="p">.</span><span class="n">Debug</span><span class="p">.</span><span class="nf">Log</span><span class="p">(</span><span class="n">message</span><span class="p">);</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><br /></p>

<h1 id="transform-변경은-한번에">Transform 변경은 한번에</h1>
<hr />
<p>position, rotation, scale을 한 메소드 내에서 여러 번 변경할 경우, 그 때마다 트랜스폼의 변경이 이루어진다.</p>

<p>그런데 트랜스폼이 여러 자식 트랜스폼들을 갖고 있는 경우, 자식 트랜스폼도 함께 변경된다.</p>

<p>트랜스폼의 변경 자체는 그리 큰 연산이 아닐 수 있으나, 한 번에 이루어질 수 있는 연산을 여러 번 하는 것은 당연히 그만큼의 성능 저하로 이어진다.</p>

<p>따라서 벡터로 미리 담아두고 최종 계산 이후, 트랜스폼에 단 한 번만 변경을 지정하는 것이 좋다.</p>

<p>또한 position과 rotation을 모두 변경해야 하는 경우 <code class="language-plaintext highlighter-rouge">SetPositionAndRotation()</code> 메소드를 사용하는 것이 좋다.</p>

<p><br /></p>

<h1 id="불필요하게-부모-자식-구조-늘리지-않기">불필요하게 부모 자식 구조 늘리지 않기</h1>
<hr />

<p>하이라키가 너무 복잡할 경우, 나름의 카테고리별로 빈 부모 오브젝트를 만들고</p>

<p>자식 오브젝트를 넣어서 정리하는 경우가 많다.</p>

<p>그런데 이것도 최소한으로 나누고, 불필요한 부모-자식 관계를 늘리지 않는 것이 좋다.</p>

<p>자식 게임오브젝트의 트랜스폼은 부모 트랜스폼에 종속적이므로</p>

<p>부모 트랜스폼에 변경이 생기면 “모든” 자식 트랜스폼에 변경이 적용되기 때문에</p>

<p>성능에 악영향을 끼칠 수 있다.</p>

<p>따라서 부모-자식 관계는 필요한 만큼 최소한으로 구성해야 한다.</p>

<p><br /></p>

<h1 id="scriptableobject-활용하기">ScriptableObject 활용하기</h1>
<hr />
<p>게임 내에서 항상 공통으로 참조하는 변수를 사용하는 경우,</p>

<p>각 객체의 필드로 사용하게 되면 동일한 데이터가 객체의 수만큼 메모리를 차지하게 된다.</p>

<p>반면에 스크립터블 오브젝트로 만들고, 이를 필드로 공유하게 되면</p>

<p>객체의 수에 관계 없이 동일 데이터는 단 하나만 존재하게 되어 메모리를 절약할 수 있다.</p>

<p>참고 : <strong>경량 패턴(Flyweight Pattern)</strong></p>

<p><br /></p>

<h2 id="예시"><strong>예시</strong></h2>

<p>게임 유닛의 HP(체력), MP(마력)을 정의한다.</p>

<p>각 유닛마다 현재 HP와 MP는 개별적으로 관리되어야 하므로 클래스의 멤버 변수로 저장하며,</p>

<p>동일한 유닛의 경우 MaxHP(최대 체력), MaxMP(최대 마력)는 공유될 수 있으므로 <strong>Scriptable Object</strong>로 저장한다.</p>

<div class="language-cs highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
</pre></td><td class="rouge-code"><pre><span class="k">public</span> <span class="k">class</span> <span class="nc">GameUnit</span> <span class="p">:</span> <span class="n">MonoBehaviour</span>
<span class="p">{</span>
    <span class="cm">/* 개별 데이터 필드 */</span>
    <span class="k">private</span> <span class="kt">float</span> <span class="n">hp</span><span class="p">;</span>
    <span class="k">private</span> <span class="kt">float</span> <span class="n">mp</span><span class="p">;</span>

    <span class="c1">// 공유 데이터 필드(Scriptable Object)</span>
    <span class="k">private</span> <span class="n">GameUnitData</span> <span class="n">data</span><span class="p">;</span>

    <span class="k">private</span> <span class="k">void</span> <span class="nf">Awake</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="cm">/* 게임 시작 시 초기 HP, MP 값을 최대치로 설정 */</span>
        <span class="n">hp</span> <span class="p">=</span> <span class="n">data</span><span class="p">.</span><span class="n">maxHp</span><span class="p">;</span>
        <span class="n">mp</span> <span class="p">=</span> <span class="n">data</span><span class="p">.</span><span class="n">maxMp</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">public</span> <span class="k">class</span> <span class="nc">GameUnitData</span> <span class="p">:</span> <span class="n">ScriptableObject</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="kt">float</span> <span class="n">maxHp</span> <span class="p">=</span> <span class="m">100</span><span class="p">;</span>
    <span class="k">public</span> <span class="kt">float</span> <span class="n">maxMp</span> <span class="p">=</span> <span class="m">50</span><span class="p">;</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><br /></p>

<h1 id="필요하지-않은-경우-리턴하지-않기">필요하지 않은 경우, 리턴하지 않기</h1>
<hr />
<div class="language-cs highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre></td><td class="rouge-code"><pre><span class="k">private</span> <span class="kt">int</span> <span class="nf">SomeMethod</span><span class="p">()</span> <span class="c1">// 정수 타입을 리턴하는 메소드</span>
<span class="p">{</span>
    <span class="c1">//...</span>
    <span class="k">return</span> <span class="m">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">private</span> <span class="k">void</span> <span class="nf">Caller</span><span class="p">()</span>
<span class="p">{</span>
    <span class="nf">SomeMethod</span><span class="p">();</span> <span class="c1">// 메소드의 리턴값을 사용하지 않음</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p>메소드를 호출하고 그 리턴값을 항상 사용하지는 않는 경우, 리턴값이 void인 메소드를 작성하는 것이 좋다.</p>

<p>리턴하는 것만으로 항상 성능 소모가 발생하며, 심지어 참조형인 경우 GC의 먹이가 된다.</p>

<p>(대표적으로 <code class="language-plaintext highlighter-rouge">StartCoroutine()</code>)</p>

<p><br /></p>

<h1 id="new로-생성하는-부분-최대한-줄이기">new로 생성하는 부분 최대한 줄이기</h1>
<hr />
<p>클래스 타입으로 생성한 객체는 힙에 할당되며,</p>

<p>더이상 참조되지 않을 때 가비지 콜렉터에 의해 자동 수거된다.</p>

<p>그런데 너무 잦은 GC의 수거는 성능에 악영향을 끼칠 수 있다.</p>

<p>따라서 가능하면 한 번만 생성하고 이후에는 재사용 하는 방식을 사용하거나</p>

<p>최대한 new로 생성하는 부분을 줄이는 것이 좋다.</p>

<p><br /></p>

<p>이럴 활용하는 대표적인 방법으로 버퍼(Buffer)의 사용,</p>

<p>메모리 풀링(Memory Pooling) 등이 있다.</p>

<p>버퍼의 사용은 어떤 기능 호출 시 매번 배열을 생성하여 가비지가 생기는 경우</p>

<p>매 수행마다 배열을 생성하는 대신, 미리 하나의 큰 배열을 생성하고</p>

<p>이 배열의 offset(index)을 이동하며 그곳에 할당하는 방식이다.</p>

<p>이 방식을 사용하는 대표적인 예시로 <code class="language-plaintext highlighter-rouge">StringBuilder</code>가 있다.</p>

<p>그리고 메모리 풀링은 동일한 타입의 많은 객체를 너무 자주 생성/파괴하는 경우</p>

<p>이를 미리 필요한 만큼 생성해놓고 재사용하는 방식이다.</p>

<p>유니티에서는 이 방식에서 파생된 오브젝트 풀링이 자주 사용된다.</p>

<p><br /></p>

<h1 id="오브젝트-풀링-사용하기">오브젝트 풀링 사용하기</h1>
<hr />
<p>게임오브젝트의 생성과 파괴는 성능의 소모가 작지 않다.</p>

<p>따라서 생성과 파괴가 빈번하게 발생한다면(총알, 폭탄 등)</p>

<p>오브젝트 풀링을 통해 일정 개수의 게임오브젝트를 미리 생성하고</p>

<p>활성화/비활성화하여 재사용하는 방식을 활용하는 것이 좋다.</p>

<ul>
  <li><a href="https://rito15.github.io/posts/unity-object-pooling/">https://rito15.github.io/posts/unity-object-pooling/</a></li>
</ul>

<p><br /></p>

<h1 id="구조체-사용하기">구조체 사용하기</h1>
<hr />
<ul>
  <li><a href="http://clarkkromenaker.com/post/csharp-structs/">http://clarkkromenaker.com/post/csharp-structs/</a></li>
  <li><a href="https://docs.microsoft.com/en-us/dotnet/standard/design-guidelines/choosing-between-class-and-struct">https://docs.microsoft.com/en-us/dotnet/standard/design-guidelines/choosing-between-class-and-struct</a></li>
</ul>

<p>동일한 데이터를 하나는 구조체, 하나는 클래스로 작성할 경우 클래스는 참조를 위해 8~24 바이트의 추가적인 메모리를 필요로 한다.</p>

<p>따라서 데이터 클래스는 구조체로 작성하는 것이 좋으며, GC의 먹이가 되지 않는다는 장점도 있다.</p>

<p>그리고 구조체는 크기에 관계없이 항상 스택에, 클래스는 힙에 할당된다.</p>

<p>16byte를 초과하는 구조체가 힙에 할당된다는 루머를 본적이 있는데, 사실이 아니다.</p>

<p><br /></p>

<h2 id="스택과-힙-value-type과-reference-type"><strong>스택과 힙, Value Type과 Reference Type</strong></h2>

<p>스택에 할당된다는 것, 힙에 할당된다는 것은 무엇일까?</p>

<p>스택은 지역 메모리, 힙은 전역 메모리라고 할 수 있다.</p>

<p>모든 <strong>Value Type</strong>(int, float, … , struct) 지역 변수는 스택에 저장된다.</p>

<p>그래서 해당 변수가 생성된 메소드 블록을 벗어나면 메모리에서 해제된다.</p>

<p><strong>Value Type</strong>의 변수를 메소드에서 반환했을 때, 혹은 매개변수로 전달할 때</p>

<p>“값이 복제된다”라고 하는 이유가 바로 여기에 있다.</p>

<p>스택 메모리에 할당되었기 때문에 해당 영역(블록)을 벗어나면 사라진다.</p>

<p>그런데 어쨌든 이 값을 반환값이나 매개변수로 전달은 해야 하므로</p>

<p>기존 영역을 벗어나 새로운 영역에 도달했을 때, 그 영역에서 새롭게 할당하는 것이다.</p>

<p>이것이 바로 <strong>Value Type</strong>의 전달 방식이다.</p>

<p><br /></p>

<p>반면에 <strong>Reference Type(Class Type)</strong>의 객체는 스택이 아닌 힙에 저장된다.</p>

<p>정확히 말하자면, 객체는 힙에 할당되고 이 힙의 시작 주소를 가리키는 변수가 스택에 할당된다.</p>

<p>그래서 영역(블록)을 벗어났을 때 이 스택의 변수는 사라지더라도</p>

<p>힙에 저장된 객체 자체는 사라지지 않는다.</p>

<p>그런데 <strong>C#</strong>에서는 힙에 저장된 이 객체가 더이상 그 어떤 변수에게서도 참조되지 않을 때,</p>

<p>조금 명확한 용어를 사용하자면 참조 카운트가 0이 됐을 때</p>

<p>가비지 콜렉터(GC)에 의해 자동으로 메모리에서 해제된다.</p>

<p>그리고 이 자동 메모리 수거가 발생할 때의 오버헤드가 문제될 수 있기 때문에</p>

<p><strong>C#</strong>에서 다들 GC Call을 최대한 줄이려고 노력하는 것이다.</p>

<p><br /></p>

<h2 id="클래스-타입과-구조체-타입의-선택"><strong>클래스 타입과 구조체 타입의 선택</strong></h2>

<p>그렇다고 모든 타입을 클래스가 아닌 구조체로 만든다?</p>

<p>이것은 또다른 문제가 된다.</p>

<p>구조체는 영역을 벗어나 전달될 때마다 복제된다.</p>

<p>만약 클래스 타입이었다면 단순히 참조 변수만 복제되고,</p>

<p>객체는 오버헤드 없이 전달될텐데</p>

<p>구조체라서 통째로 복제된다.</p>

<p>그래서 일정 크기 이상의 구조체는 차라리 클래스로 만들고,</p>

<p>아니면 복제/메모리 해제가 자주 발생할 수 있는지 여부에 따라</p>

<p>구조체/클래스 중 선택하고..</p>

<p>다양한 상황에 다양한 요소들을 고려하여 적절하게 선택해야 한다.</p>

<p>이는 정답이 없는 문제다.</p>

<p><br /></p>

<p>그렇다면 어떻게 결정할 수 있을까?</p>

<p>경험 많은 프로그래머가 아니라면, 원칙을 세워두면 좋다.</p>

<ol>
  <li>16byte(예 : int, float 변수 4개) 이하의 데이터 클래스는 구조체로 만든다.</li>
  <li>생성/해제가 자주 일어나면 구조체로 만든다.</li>
  <li>생성/해제보다 전달(매개변수, 리턴)이 훨씬 자주 일어나면 클래스로 만들거나 매개변수 한정자 <code class="language-plaintext highlighter-rouge">in</code>을 사용한다.</li>
</ol>

<p>간단한 원칙은 위와 같다.</p>

<p>기본적으로 1번의 원칙을 지키고, 2번과 3번은 설계 및 프로그래밍 진행 상황에 따라 고려하여 결정하면 된다.</p>

<p><br /></p>

<h1 id="컬렉션-재사용하기">컬렉션 재사용하기</h1>
<hr />

<p>List를 메소드 내에서 반복적으로 할당하여 사용하는 경우가 많다.</p>

<div class="language-cs highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre><span class="k">private</span> <span class="k">void</span> <span class="nf">SomeMethod</span><span class="p">()</span> <span class="c1">// 여러 번 호출되는 메소드</span>
<span class="p">{</span>
    <span class="n">List</span><span class="p">&lt;</span><span class="n">Transform</span><span class="p">&gt;</span> <span class="n">transformList</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">Transform</span><span class="p">&gt;();</span>
    <span class="n">transformList</span><span class="p">.</span><span class="nf">Add</span><span class="p">(...);</span>
    <span class="c1">// ... </span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p>습관적으로 사용하게 되는 방식이지만, 이렇게 되면 가비지 콜렉터의 호출이 반드시 발생한다.</p>

<p>따라서 다음과 같이 변경하여 사용하는 것만으로 컬렉션에 할당되는 가비지를 줄일 수 있다.</p>

<div class="language-cs highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre><span class="n">transformList</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">Transform</span><span class="p">&gt;();</span>

<span class="k">private</span> <span class="k">void</span> <span class="nf">SomeMethod</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">transformList</span><span class="p">.</span><span class="nf">Clear</span><span class="p">();</span>
    <span class="n">transformList</span><span class="p">.</span><span class="nf">Add</span><span class="p">(...);</span>
    <span class="c1">// ... </span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p>실제로 이렇게 바꿨을 때, 아래처럼 가비지를 굉장히 줄인 경우가 있었다.</p>

<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/42164422/106890595-e7327e00-672c-11eb-890c-3514859037ae.png" alt="image" class="normal" /></p>

<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/42164422/106890874-48f2e800-672d-11eb-81bc-7bb456287b6f.png" alt="image" class="normal" /></p>

<p>가비지 할당(GC.Alloc) 자체가 성능에 큰 영향을 미치지는 않지만,</p>

<p>결국 가비지가 수집(GC.Collect)될 때 성능에 많은 영향을 끼치게 되므로 반드시 신경써야 하는 부분이다.</p>

<p><br /></p>

<h1 id="list-사용할-때-주의할-점">List 사용할 때 주의할 점</h1>
<hr />

<p>만약 배열을 사용할 때, 처음에는 비어있는 배열을 생성하고</p>

<p>새로운 값을 하나씩 넣을 때마다 크기가 조금 더 큰 배열을 만들고,</p>

<p>기존의 배열을 통째로 복제하는 방식으로 사용한다고 생각해보자.</p>

<p>이건 너무 비효율적이라고 생각할 수 있다.</p>

<p><br /></p>

<p>C#의 가변 배열인 <code class="language-plaintext highlighter-rouge">List&lt;T&gt;</code>는 내부적으로 배열로 구현되어 있다.</p>

<p>그리고 내부 구현은 정말로 위에서 설명한 그대로 되어있다.</p>

<p><code class="language-plaintext highlighter-rouge">new List&lt;T&gt;()</code>로 생성하면 크기가 0인 배열을 생성한다.</p>

<p>그리고 <code class="language-plaintext highlighter-rouge">.Add()</code>를 통해 요소를 하나씩 추가할 때마다 처음에는 크기가 4인 배열을 생성하고</p>

<p>배열이 가득찰 때마다 현재 배열의 두 배 크기의 새로운 배열을 생성하며,</p>

<p>기존의 배열을 그대로 복제해온 뒤 마지막 위치에 새로운 요소를 집어넣는 방식이다.</p>

<p><br /></p>

<p>그래서 리스트를 생성할 때, 사용될 영역의 크기를 미리 알고 있다면</p>

<p><code class="language-plaintext highlighter-rouge">new List&lt;T&gt;(100)</code> 처럼 개수를 미리 지정하는 것이 좋다.</p>

<p>그러면 내부적으로 그만큼의 크기를 갖는 배열을 미리 할당하여,</p>

<p><code class="language-plaintext highlighter-rouge">.Add()</code>를 하더라도 기존의 배열 전체를 통째로 복제하는 것을 방지할 수 있다.</p>

<p>이미 생성된 리스트라면 <code class="language-plaintext highlighter-rouge">.Capacity</code> 프로퍼티에 크기 값을 넣어주면 된다.</p>

<p><br /></p>

<h1 id="stringbuilder-사용하기">StringBuilder 사용하기</h1>
<hr />
<p>스트링의 연결(String Concatenation) 또는 다른 타입 값을 문자열에 합치는 스트링 포맷팅(String Formatting)이 자주 발생하는 경우, <code class="language-plaintext highlighter-rouge">StringBuilder</code>를 활용하는 것이 좋다.</p>

<div class="language-cs highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="kt">string</span> <span class="n">a</span> <span class="p">=</span> <span class="s">"a1"</span><span class="p">;</span>
<span class="n">a</span> <span class="p">=</span> <span class="s">"a2"</span><span class="p">;</span>
</pre></td></tr></tbody></table></code></div></div>

<p>스트링에 상수 문자열을 초기화 하는 것은 가비지를 생성하지 않지만,</p>

<p><br /></p>

<div class="language-cs highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre><span class="kt">string</span> <span class="n">strA</span> <span class="p">=</span> <span class="s">"a"</span><span class="p">;</span>
<span class="kt">string</span> <span class="n">strB</span> <span class="p">=</span> <span class="s">"b"</span><span class="p">;</span>

<span class="n">strA</span> <span class="p">=</span> <span class="s">"a"</span> <span class="p">+</span> <span class="s">"b"</span><span class="p">;</span>
<span class="n">strA</span> <span class="p">=</span> <span class="n">strA</span> <span class="p">+</span> <span class="n">strB</span><span class="p">;</span>
<span class="n">strA</span> <span class="p">=</span> <span class="s">$"</span><span class="p">{</span><span class="n">strB</span><span class="p">}</span><span class="s">c"</span><span class="p">;</span>

<span class="kt">string</span> <span class="n">formatted1</span> <span class="p">=</span> <span class="s">$"</span><span class="p">{</span><span class="m">123</span><span class="p">}</span><span class="s"> + </span><span class="p">{</span><span class="m">234</span><span class="p">}</span><span class="s"> = </span><span class="p">{</span><span class="m">357</span><span class="p">}</span><span class="s">"</span><span class="p">;</span>
<span class="kt">string</span> <span class="n">formatted2</span> <span class="p">=</span> <span class="kt">string</span><span class="p">.</span><span class="nf">Format</span><span class="p">(</span><span class="s">"{0} + {1} = {2}"</span><span class="p">,</span> <span class="m">123</span><span class="p">,</span> <span class="m">234</span><span class="p">,</span> <span class="m">357</span><span class="p">);</span>
</pre></td></tr></tbody></table></code></div></div>

<p>스트링끼리 연결하거나 스트링 포맷팅을 통해 런타임에 새로운 스트링을 만드는 경우에는 가비지가 생성된다.</p>

<p><br /></p>

<div class="language-cs highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre><span class="n">StringBuilder</span> <span class="n">sb</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StringBuilder</span><span class="p">(</span><span class="m">100</span><span class="p">);</span>
<span class="n">sb</span>
    <span class="p">.</span><span class="nf">Append</span><span class="p">(</span><span class="m">123</span><span class="p">)</span>
    <span class="p">.</span><span class="nf">Append</span><span class="p">(</span><span class="s">" + "</span><span class="p">)</span>
    <span class="p">.</span><span class="nf">Append</span><span class="p">(</span><span class="m">234</span><span class="p">)</span>
    <span class="p">.</span><span class="nf">Append</span><span class="p">(</span><span class="s">" = "</span><span class="p">)</span>
    <span class="p">.</span><span class="nf">Append</span><span class="p">(</span><span class="m">357</span><span class="p">);</span>
    
<span class="kt">string</span> <span class="n">sbString</span> <span class="p">=</span> <span class="n">sb</span><span class="p">.</span><span class="nf">ToString</span><span class="p">();</span>
</pre></td></tr></tbody></table></code></div></div>

<p>따라서 이렇게 <code class="language-plaintext highlighter-rouge">StringBuilder</code>를 사용하는 것이 좋다.</p>

<p>그렇다고 <code class="language-plaintext highlighter-rouge">StringBuilder</code> 객체를 매번 생성하면 이 또한 가비지가 되므로,</p>

<p><code class="language-plaintext highlighter-rouge">StringBuilder</code> 객체는 한 번만 생성하여</p>

<p><code class="language-plaintext highlighter-rouge">.Clear()</code>로 내부를 초기화하면서 항상 재사용해야 한다.</p>

<p><br /></p>

<h1 id="linq-사용-시-주의하기">LINQ 사용 시 주의하기</h1>
<hr />

<ul>
  <li><a href="https://medium.com/swlh/is-using-linq-in-c-bad-for-performance-318a1e71a732">https://medium.com/swlh/is-using-linq-in-c-bad-for-performance-318a1e71a732</a></li>
  <li><a href="https://www.jacksondunstan.com/articles/4840">https://www.jacksondunstan.com/articles/4840</a></li>
</ul>

<p><code class="language-plaintext highlighter-rouge">LINQ</code>는 개발자에게 굉장한 편의성을 제공해주며, 대개 성능이 크게 나쁘지는 않다.</p>

<p>하지만 정확히 이해하고 사용할 필요가 있다.</p>

<p><code class="language-plaintext highlighter-rouge">LINQ</code>의 대부분의 연산자는 중간 버퍼(일종의 배열)를 생성하고, 이는 모조리 가비지가 된다.</p>

<p>그러니까 <code class="language-plaintext highlighter-rouge">LINQ</code> 연산자 한두개쯤 사용해서 가능한 것을</p>

<p>가독성이나 모종의 이유로 여러 번 나누어 처리하게 되면 모두 불필요한 성능 저하의 원인이 된다.</p>

<p>성능에 민감하거나 매프레임 호출되는 부분에서 <code class="language-plaintext highlighter-rouge">LINQ</code>를 사용하고 있었다면,</p>

<p>가능하면 최대한 <code class="language-plaintext highlighter-rouge">LINQ</code>의 사용을 자제하고 직접 구현하는 것이 좋다.</p>

<p>물론 하드 코딩으로 매번 구현하기보다, <code class="language-plaintext highlighter-rouge">LINQ</code>를 대체할 수 있는 <code class="language-plaintext highlighter-rouge">API</code>를 구축해서 재사용하는 것이 현명할 것이다.</p>

<p><br /></p>

<p>잘 모르겠다면, 간단한 규칙을 정해보면 된다.</p>

<ol>
  <li>빠르게 구현해야만 하는 상황(프로토타입 개발 등)인가? - <code class="language-plaintext highlighter-rouge">LINQ</code> 사용</li>
  <li>성능에 민감하지 않은 코드(에디터 전용 코드 또는 작은 코드 등)인가? - <code class="language-plaintext highlighter-rouge">LINQ</code> 사용</li>
  <li><code class="language-plaintext highlighter-rouge">LINQ</code>의 편의성 또는 가독성이 꼭 필요한가? - <code class="language-plaintext highlighter-rouge">LINQ</code> 사용</li>
  <li>매프레임 호출되거나, 성능에 민감한 부분인가? - <code class="language-plaintext highlighter-rouge">LINQ</code> 사용하지 않기</li>
</ol>

<p><br /></p>

<p>솔직히 <code class="language-plaintext highlighter-rouge">LINQ</code> 때문에, 혹은 다른 이유로 가비지가 많이 생성된다고 해서 ‘그 즉시’ 문제가 발생하지는 않는다.</p>

<p>하지만 게임 플레이 도중 영문을 모르게 느닷없는 프리징(멈춤)이 발생하고,</p>

<p>프로파일링을 해봤더니 <code class="language-plaintext highlighter-rouge">GC.Collect()</code>가 반갑게 맞아주고 있다면</p>

<p>업보가 돌아왔다고 생각하면 된다.</p>

<p><br /></p>

<h1 id="박싱-언박싱-피하기">박싱, 언박싱 피하기</h1>
<hr />

<p><strong>박싱(Boxing)</strong>은 값 타입이 참조 타입으로 암시적, 또는 명시적으로 캐스팅되는 것을 의미한다.</p>

<p><strong>언박싱(Unboxing)</strong>은 참조 타입이 값 타입으로 명시적으로 캐스팅되는 것을 의미한다.</p>

<p>이 때 중요한 것은, 박싱과 언박싱이 단순 할당보다 성능이 매우 나쁘다는 것과 참조 타입은 힙에 할당되어 GC의 먹이가 될 수 있다는 점이다.</p>

<div class="language-cs highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="k">public</span> <span class="k">static</span> <span class="k">class</span> <span class="nc">Debug</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">Log</span><span class="p">(</span><span class="kt">object</span> <span class="n">msg</span><span class="p">)</span> <span class="p">{</span> <span class="cm">/* ... */</span> <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p>유니티 엔진을 사용하면서 가장 친숙한 메소드인 <code class="language-plaintext highlighter-rouge">Debug.Log()</code>이다.</p>

<p>그리고 항상 박싱이 발생하는 대표적인 예시라고 할 수 있다.</p>

<p>파라미터의 타입이 object이기 때문에, 어떤 값 타입을 넣어도 참조타입인 object 타입으로 박싱된다.</p>

<p>이렇게 메소드 매개변수로 object 타입을 사용하거나 박싱을 유도하는 방식은 최대한 지양해야 한다.</p>

<p>따라서 이를 피할 수 있는 대표적인 방법으로, 제네릭이 있다.</p>

<p>제네릭은 객체 생성 또는 메소드 호출 시 제네릭 타입이 하나의 타입으로 고정되기 때문에, 박싱과 언박싱을 피할 수 있다.</p>

<p><br /></p>

<h1 id="enum-hasflag-박싱-이슈">Enum HasFlag() 박싱 이슈</h1>
<hr />
<ul>
  <li><a href="https://medium.com/@arphox/the-boxing-overhead-of-the-enum-hasflag-method-c62a0841c25a">https://medium.com/@arphox/the-boxing-overhead-of-the-enum-hasflag-method-c62a0841c25a</a></li>
</ul>

<p><code class="language-plaintext highlighter-rouge">[Flags]</code>를 사용하는 enum의 경우, <code class="language-plaintext highlighter-rouge">HasFlag()</code>를 사용하면 간편히 포함관계를 파악할 수 있다.</p>

<p>하지만 이 때 어떤 <code class="language-plaintext highlighter-rouge">enum</code> 타입이 <code class="language-plaintext highlighter-rouge">System.Enum</code>으로 변환되면서 박싱이 발생한다.</p>

<p>따라서 이를 피하기 위해서는 다음과 같은 확장 메소드를 만들어 사용하는 것이 좋다.</p>

<div class="language-cs highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="k">public</span> <span class="k">static</span> <span class="kt">bool</span> <span class="n">HasFlag2</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;(</span><span class="k">this</span> <span class="n">T</span> <span class="n">self</span><span class="p">,</span> <span class="n">T</span> <span class="n">flag</span><span class="p">)</span> <span class="k">where</span> <span class="n">T</span> <span class="p">:</span> <span class="n">Enum</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">self</span> <span class="p">&amp;</span> <span class="n">flag</span><span class="p">)</span> <span class="p">==</span> <span class="n">flag</span><span class="p">;</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<h2 id="참고--해결된-박싱-이슈"><strong>참고 : 해결된 박싱 이슈</strong></h2>

<ol>
  <li>foreach 루프 박싱 이슈
    <ul>
      <li>foreach를 사용할 경우 매번 24byte의 추가적인 가비지가 발생한다는 이슈</li>
      <li>현재 버전에서는 해결되었다고 한다.</li>
    </ul>
  </li>
  <li>Dictionary의 키로 Enum을 사용할 경우 박싱 이슈
    <ul>
      <li>역시 .Net 4.x 버전에서 해결되었다고 한다.</li>
    </ul>
  </li>
</ol>

<p><br /></p>

<h1 id="비싼-수학-계산-피하기">비싼 수학 계산 피하기</h1>
<hr />

<ul>
  <li>
    <h2 id="나눗셈-대신-곱셈"><strong>나눗셈 대신 곱셈</strong></h2>
  </li>
</ul>

<p>나눗셈이 곱셈보다 느리다는 것은 흔히 알려져 있는 사실이다.</p>

<p>그런데 곱셈을 해도 되는 부분에 나눗셈을 사용하는 코드가 의외로 자주 보인다.</p>

<p><code class="language-plaintext highlighter-rouge">1.0f / 2.0f</code> 보다 <code class="language-plaintext highlighter-rouge">1.0f * 0.5f</code>가 빠르다. 꼭 기억하자.</p>

<p>나눗셈을 어떻게 곱셈으로 대체할지 고민이 될 수도 있는데,</p>

<p>간단한 규칙을 정하면 편하다.</p>

<p><br /></p>

<div class="language-cs highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="n">result</span> <span class="p">=</span> <span class="n">a</span> <span class="p">/</span> <span class="n">b</span><span class="p">;</span>
</pre></td></tr></tbody></table></code></div></div>

<p>위와 같이 사용하는 식이 있을때, 다음과 같이 규칙을 정한다.</p>

<ul>
  <li>
    <p>만약 <code class="language-plaintext highlighter-rouge">b</code> 값이 자주 변한다면 나눗셈을 그대로 사용한다.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">b</code> 값이 상수이면 <code class="language-plaintext highlighter-rouge">c = 1 / b</code> 상수 또는 변수를 선언하고, <br />
<code class="language-plaintext highlighter-rouge">a / b</code> 대신 <code class="language-plaintext highlighter-rouge">a * c</code>를 항상 사용한다.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">b</code> 값이 일정한 주기로 바뀐다면, 바뀌는 순간마다 <code class="language-plaintext highlighter-rouge">c = 1 / b</code>로 담아놓고 <br />
<code class="language-plaintext highlighter-rouge">a / b</code> 대신 <code class="language-plaintext highlighter-rouge">a * c</code>를 항상 사용한다.</p>
  </li>
</ul>

<p><br /></p>

<ul>
  <li>
    <h2 id="if-else-vs-삼항-연산자"><strong>If-else vs 삼항 연산자</strong></h2>
  </li>
</ul>

<p>직접 비교해본 결과, 성능 차이가 거의 없었다.</p>

<p>가독성만 생각해서 사용하면 된다.</p>

<p><br /></p>

<ul>
  <li>
    <h2 id="systemmathabs-vs-unityenginemathfabs-vs-삼항-연산자"><strong>System.Math.Abs</strong> vs <strong>UnityEngine.Mathf.Abs</strong> vs <strong>삼항 연산자</strong></h2>
  </li>
</ul>

<div class="language-cs highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="c1">// 삼항 연산자를 이용한 Abs</span>
<span class="p">(</span><span class="n">x</span> <span class="p">&gt;=</span> <span class="m">0</span><span class="p">)</span> <span class="p">?</span> <span class="n">x</span> <span class="p">:</span> <span class="p">-</span><span class="n">x</span><span class="p">;</span>
</pre></td></tr></tbody></table></code></div></div>

<p>삼항 연산자가 압도적으로 빠르다.</p>

<p>닷넷 콘솔 디버그 빌드에서는 Math.Abs보다 삼항 연산자가 두 배 정도 빨랐고,</p>

<p>릴리즈 빌드에서는 여섯 배 정도 빨랐다.</p>

<p>심지어 삼항 연산자를 함수화 해도 Math.Abs(), Mathf.Abs()보다 빨랐다.</p>

<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/42164422/107555426-81596100-6c1a-11eb-976d-711523fe98ab.png" alt="image" class="normal" /></p>

<p>그리고 유니티 엔진에서도 비슷한 결과를 얻을 수 있었다.</p>

<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/42164422/107555731-ddbc8080-6c1a-11eb-8483-955dfaa6092d.png" alt="image" class="normal" /></p>

<p>가독성을 위해서라면 메소드를 사용할 수 있겠으나,</p>

<p>작은 성능에도 아주 민감하다면 삼항 연산자를 사용하는 것이 좋다.</p>

<p><br /></p>

<ul>
  <li>
    <h2 id="mathfabs가-느린-이유">Mathf.Abs()가 느린 이유</h2>
  </li>
</ul>

<p>UnityEngine.Mathf.Abs(float)를 예시로 내부 구현을 살펴보면</p>

<div class="language-cs highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="rouge-code"><pre><span class="c1">// UnityEngine.Mathf</span>
<span class="k">using</span> <span class="nn">System</span><span class="p">;</span>

<span class="c1">/// &lt;summary&gt;</span>
<span class="c1">///   &lt;para&gt;Returns the absolute value of f.&lt;/para&gt;</span>
<span class="c1">/// &lt;/summary&gt;</span>
<span class="c1">/// &lt;param name="f"&gt;&lt;/param&gt;</span>
<span class="k">public</span> <span class="k">static</span> <span class="kt">float</span> <span class="nf">Abs</span><span class="p">(</span><span class="kt">float</span> <span class="n">f</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Abs</span><span class="p">(</span><span class="n">f</span><span class="p">);</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p>이렇게 System.Math.Abs(float)를 호출한다.</p>

<p>그럼 System.Math.Abs(float)를 살펴보면</p>

<div class="language-cs highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre></td><td class="rouge-code"><pre><span class="c1">// System.Math</span>
<span class="k">using</span> <span class="nn">System.Runtime.CompilerServices</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Security</span><span class="p">;</span>

<span class="c1">/// &lt;summary&gt;단정밀도 부동 소수점 수의 절대 값을 반환합니다.&lt;/summary&gt;</span>
<span class="c1">/// &lt;param name="value"&gt;</span>
<span class="c1">///   &lt;see cref="F:System.Single.MinValue" /&gt;보다 크거나 같지만 &lt;see cref="F:System.Single.MaxValue" /&gt;보다 작거나 같은 숫자입니다.&lt;/param&gt;</span>
<span class="c1">/// &lt;returns&gt;0 ≤ x ≤&lt;see cref="F:System.Single.MaxValue" /&gt; 범위의 단정밀도 부동 소수점 숫자 x입니다.&lt;/returns&gt;</span>
<span class="p">[</span><span class="nf">MethodImpl</span><span class="p">(</span><span class="n">MethodImplOptions</span><span class="p">.</span><span class="n">InternalCall</span><span class="p">)]</span>
<span class="p">[</span><span class="n">SecuritySafeCritical</span><span class="p">]</span>
<span class="p">[</span><span class="n">__DynamicallyInvokable</span><span class="p">]</span>
<span class="k">public</span> <span class="k">static</span> <span class="k">extern</span> <span class="kt">float</span> <span class="nf">Abs</span><span class="p">(</span><span class="kt">float</span> <span class="k">value</span><span class="p">);</span>
</pre></td></tr></tbody></table></code></div></div>

<p>이렇게 네이티브 호출로 이어진다.</p>

<p>UnityEngine.Mathf는 대부분 이렇게 구현되어 있기 때문에 비교적 느릴 수 있다.</p>

<p>물론 큰 차이는 아니겠지만, 자주 사용되는 연산이 있다면 한 번쯤 고려해보는 것이 좋다.</p>

<p><br /></p>

<p>결론적으로, 동일 연산에 대하여</p>

<ol>
  <li>
    <p>직접 계산하는 것이 가장 빠르다.</p>
  </li>
  <li>
    <p>System.Math는 웬만해서 UnityEngine.Mathf보다 빠르다.</p>
  </li>
</ol>

<p><br /></p>

<h1 id="cameramain">Camera.main</h1>
<hr />

<ul>
  <li><a href="https://www.youtube.com/watch?v=x1Hjt0D4fMs">https://www.youtube.com/watch?v=x1Hjt0D4fMs</a></li>
</ul>

<p>위에서 잠깐 언급했지만, <code class="language-plaintext highlighter-rouge">Camera.main</code>을 매프레임 참조하는 것은 생각보다 성능이 좋지 않다.</p>

<p>내부적으로 <code class="language-plaintext highlighter-rouge">FindMainCamera()</code> - <code class="language-plaintext highlighter-rouge">FindWithTag("MainCamera")</code> - … 이렇게 호출이 이어지고,</p>

<p>모든 오브젝트 목록을 찾고 거기서 다시 <code class="language-plaintext highlighter-rouge">MainCamera</code> 태그가 붙은 오브젝트의 목록을 찾아서</p>

<p>그 중에서 메인 카메라를 찾는 방식이다.</p>

<p>유니티 에디터 <code class="language-plaintext highlighter-rouge">2020.2</code> 버전부터는 개선되었다고 한다.</p>

<p>그런데 아직도 <code class="language-plaintext highlighter-rouge">2019</code>, 심지어는 <code class="language-plaintext highlighter-rouge">2018</code>이나 그 이하 버전을 사용하는 경우도 굉장히 많으므로</p>

<p>이런 이슈는 버전에 맞게 반드시 고려해야 한다.</p>

<p><br /></p>

<h1 id="벡터-연산-시-주의사항">벡터 연산 시 주의사항</h1>
<hr />

<p>아주 간단하고 사소하지만, 성능에 영향을 미칠 수 있는 문제가 있다.</p>

<div class="language-cs highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="n">Vector3</span> <span class="n">vec</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Vector3</span><span class="p">(</span><span class="m">1f</span><span class="p">,</span> <span class="m">2f</span><span class="p">,</span> <span class="m">3f</span><span class="p">);</span>
<span class="kt">float</span> <span class="n">a</span> <span class="p">=</span> <span class="m">4f</span><span class="p">;</span>
<span class="kt">float</span> <span class="n">b</span> <span class="p">=</span> <span class="m">5f</span><span class="p">;</span>
</pre></td></tr></tbody></table></code></div></div>

<p>위와 같이 벡터와 스칼라 변수가 있다.</p>

<p>스칼라는 단순한 하나의 값을 갖는 변수 또는 상수를 의미하고,</p>

<p>벡터는 여러 스칼라 값을 갖는 변수 또는 상수를 의미한다.</p>

<p><code class="language-plaintext highlighter-rouge">Vector3</code>는 세 개의 값을 갖는다.</p>

<p><br /></p>

<div class="language-cs highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="n">Vector3</span> <span class="n">vec2</span> <span class="p">=</span> <span class="n">vec</span> <span class="p">*</span> <span class="n">a</span> <span class="p">*</span> <span class="n">b</span><span class="p">;</span>
</pre></td></tr></tbody></table></code></div></div>

<p>벡터 연산을 하다 보면, 무심코 위와 같이 연산할 수 있다.</p>

<p>얼핏 보기에는 아무런 문제가 없으나, 사소하면서도 중요한 문제가 있다.</p>

<p><br /></p>

<p><code class="language-plaintext highlighter-rouge">Vector3</code>는 <code class="language-plaintext highlighter-rouge">x</code>, <code class="language-plaintext highlighter-rouge">y</code>, <code class="language-plaintext highlighter-rouge">z</code> 세개의 값을 갖는다.</p>

<p>따라서 다른 스칼라 값과 연산을 하게 된다면</p>

<p><code class="language-plaintext highlighter-rouge">vec * a</code> 연산은 실제로</p>

<div class="language-cs highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="k">new</span> <span class="nf">Vector3</span><span class="p">(</span><span class="n">vec</span><span class="p">.</span><span class="n">x</span> <span class="p">*</span> <span class="n">a</span><span class="p">,</span> <span class="n">vec</span><span class="p">.</span><span class="n">y</span> <span class="p">*</span> <span class="n">a</span><span class="p">,</span> <span class="n">vec</span><span class="p">.</span><span class="n">z</span> <span class="p">*</span> <span class="n">a</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></div></div>

<p>이렇게 벡터 내의 모든 성분이 각각 스칼라와 연산되어, 총 세 번의 연산이 발생한다.</p>

<p><br /></p>

<p>그리고 아직 <code class="language-plaintext highlighter-rouge">* b</code>가 남았으므로, 연이어 표현하자면</p>

<div class="language-cs highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="n">Vector3</span> <span class="n">temp</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Vector3</span><span class="p">(</span><span class="n">vec</span><span class="p">.</span><span class="n">x</span>  <span class="p">*</span> <span class="n">a</span><span class="p">,</span> <span class="n">vec</span><span class="p">.</span><span class="n">y</span>  <span class="p">*</span> <span class="n">a</span><span class="p">,</span> <span class="n">vec</span><span class="p">.</span><span class="n">z</span>  <span class="p">*</span> <span class="n">a</span><span class="p">);</span>
<span class="n">Vector3</span> <span class="n">vec2</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Vector3</span><span class="p">(</span><span class="n">temp</span><span class="p">.</span><span class="n">x</span> <span class="p">*</span> <span class="n">b</span><span class="p">,</span> <span class="n">temp</span><span class="p">.</span><span class="n">y</span> <span class="p">*</span> <span class="n">b</span><span class="p">,</span> <span class="n">temp</span><span class="p">.</span><span class="n">z</span> <span class="p">*</span> <span class="n">b</span><span class="p">);</span>
</pre></td></tr></tbody></table></code></div></div>

<p>이렇게 마찬가지로 벡터의 각 성분마다 한 번씩, 다시 세번의 연산이 이루어진다.</p>

<p>최종적으로 여섯 번의 스칼라 곱셈 연산이 발생한다.</p>

<p><br /></p>

<p>그런데 만약 순서를 바꾸어</p>

<div class="language-cs highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="n">Vector3</span> <span class="n">vec2</span> <span class="p">=</span> <span class="n">a</span> <span class="p">*</span> <span class="n">b</span> <span class="p">*</span> <span class="n">vec</span><span class="p">;</span>
</pre></td></tr></tbody></table></code></div></div>

<p>위와 같이 스칼라부터 연산한다면</p>

<div class="language-cs highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="kt">float</span> <span class="n">temp</span>   <span class="p">=</span> <span class="n">a</span> <span class="p">*</span> <span class="n">b</span><span class="p">;</span>
<span class="n">Vector3</span> <span class="n">vec2</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Vector3</span><span class="p">(</span><span class="n">vec</span><span class="p">.</span><span class="n">x</span> <span class="p">*</span> <span class="n">temp</span><span class="p">,</span> <span class="n">vec</span><span class="p">.</span><span class="n">y</span> <span class="p">*</span> <span class="n">temp</span><span class="p">,</span> <span class="n">vec</span><span class="p">.</span><span class="n">z</span> <span class="p">*</span> <span class="n">temp</span><span class="p">);</span>
</pre></td></tr></tbody></table></code></div></div>

<p>이렇게 네 번의 스칼라 곱셈으로 연산이 이루어진다.</p>

<p>결과적으로 동일한 값을 도출하지만, 스칼라부터 연산하는 것이 성능 상 훨씬 이득이다.</p>

<p>따라서 이를 습관화할 필요가 있다.</p>

<p><br /></p>

<h2 id="요약"><strong>요약</strong></h2>

<ul>
  <li>벡터와 스칼라 연산은 스칼라부터 모두 계산한 뒤에, 벡터와 계산하는 것이 성능 상 매우매우 좋다.</li>
</ul>

<div class="language-cs highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="n">vector</span> <span class="p">*</span> <span class="n">scalar</span> <span class="p">*</span> <span class="n">scalar</span>
</pre></td></tr></tbody></table></code></div></div>

<p>위와 같은 연산은</p>

<div class="language-cs highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="n">scalar</span> <span class="p">*</span> <span class="n">scalar</span> <span class="p">*</span> <span class="n">vector</span>
</pre></td></tr></tbody></table></code></div></div>

<p>또는</p>

<div class="language-cs highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="n">vector</span> <span class="p">*</span> <span class="p">(</span><span class="n">scalar</span> <span class="p">*</span> <span class="n">scalar</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></div></div>

<p>이렇게 스칼라부터 연산하도록 해야 한다.</p>

<p><br /></p>

<h1 id="references">References</h1>
<hr />
<ul>
  <li><a href="https://coderzero.tistory.com/entry/유니티-최적화-유니티-최적화에-대한-이해">https://coderzero.tistory.com/entry/유니티-최적화-유니티-최적화에-대한-이해</a></li>
  <li><a href="https://docs.unity3d.com/2019.3/Documentation/Manual/MobileOptimizationPracticalScriptingOptimizations.html">https://docs.unity3d.com/2019.3/Documentation/Manual/MobileOptimizationPracticalScriptingOptimizations.html</a></li>
  <li><a href="https://www.jacksondunstan.com/articles/5361">https://www.jacksondunstan.com/articles/5361</a></li>
  <li><a href="https://everyday-devup.tistory.com/64">https://everyday-devup.tistory.com/64</a></li>
</ul>


      </div>

      <div class="post-tail-wrapper text-muted">

        <!-- categories -->
        
        <div class="post-meta mb-3">
          <i class="far fa-folder-open fa-fw mr-1"></i>
          
            <a href='/categories/unity/'>Unity</a>,
            <a href='/categories/unity-optimization/'>Unity Optimization</a>
        </div>
        

        <!-- tags -->
        
        <div class="post-tags">
          <i class="fa fa-tags fa-fw mr-1"></i>
          
          <a href="/tags/unity/"
            class="post-tag no-text-decoration" >unity</a>
          
          <a href="/tags/csharp/"
            class="post-tag no-text-decoration" >csharp</a>
          
          <a href="/tags/optimize/"
            class="post-tag no-text-decoration" >optimize</a>
          
          <a href="/tags/optimization/"
            class="post-tag no-text-decoration" >optimization</a>
          
          <a href="/tags/performance/"
            class="post-tag no-text-decoration" >performance</a>
          
          </div>
        

        <div class="post-tail-bottom
          d-flex justify-content-between align-items-center mt-3 pt-5 pb-2">
          
          <div class="license-wrapper">
            This post is licensed under
            <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a>
            by the author.
          </div>
          

          <!--
 Post sharing snippet

 v2.1
 https://github.com/cotes2020/jekyll-theme-chirpy
 © 2019 Cotes Chung
 Published under the MIT License
-->

<div class="share-wrapper">
  <span class="share-label text-muted mr-1">Share</span>
  <span class="share-icons">
    
    

    
      
        <a href="https://twitter.com/intent/tweet?text=유니티 - 스크립트 최적화 - Rito15&url=https://rito15.github.io/posts/unity-opt-script-optimization/" data-toggle="tooltip" data-placement="top"
          title="Twitter" target="_blank" rel="noopener" aria-label="Twitter">
          <i class="fa-fw fab fa-twitter"></i>
        </a>
    
      
        <a href="https://www.facebook.com/sharer/sharer.php?title=유니티 - 스크립트 최적화 - Rito15&u=https://rito15.github.io/posts/unity-opt-script-optimization/" data-toggle="tooltip" data-placement="top"
          title="Facebook" target="_blank" rel="noopener" aria-label="Facebook">
          <i class="fa-fw fab fa-facebook-square"></i>
        </a>
    
      
        <a href="https://telegram.me/share?text=유니티 - 스크립트 최적화 - Rito15&url=https://rito15.github.io/posts/unity-opt-script-optimization/" data-toggle="tooltip" data-placement="top"
          title="Telegram" target="_blank" rel="noopener" aria-label="Telegram">
          <i class="fa-fw fab fa-telegram"></i>
        </a>
    

    <i class="fa-fw fas fa-link small" onclick="copyLink()"
        data-toggle="tooltip" data-placement="top" title="Copy link"></i>

  </span>
</div>


        </div><!-- .post-tail-bottom -->

      </div><!-- div.post-tail -->

    </div> <!-- .post -->


  </div> <!-- #post-wrapper -->

  

  

  <!--
  The Pannel on right side (Desktop views)
  v2.0
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2017-2019 Cotes Chung
  MIT License
-->

<div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down">

  <div class="access">

  














  

    <div id="access-lastmod" class="post">
      <span>Recent Update</span>
      <ul class="post-content pl-0 pb-1 ml-1 mt-2">

      
        
        
        
        <li><a href="/posts/unity-rigidbody-move-and-jump/">유니티 - 키보드 입력 및 리지드바디 이동, 점프 기본 코드</a></li>
      
        
        
        
        <li><a href="/posts/unity-fixed-update-and-physics-loop/">유니티 - FixedUpdate()와 Physics Loop에 대한 이해</a></li>
      
        
        
        
        <li><a href="/posts/cs-global-key-hook/">C# - Global Key Hook</a></li>
      
        
        
        
        <li><a href="/posts/cs-global-mouse-hook/">C# - Global Mouse Hook</a></li>
      
        
        
        
        <li><a href="/posts/unity-opt-script-optimization/">유니티 - 스크립트 최적화</a></li>
      

      </ul>
    </div> <!-- #access-lastmod -->

  

  















  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        



  
    <div id="access-tags">
      <span>Trending Tags</span>
      <div class="d-flex flex-wrap mt-3 mb-1 mr-3">

      
        
        <a class="post-tag" href="/tags/csharp/">csharp</a>
      
        
        <a class="post-tag" href="/tags/unity/">unity</a>
      
        
        <a class="post-tag" href="/tags/editor/">editor</a>
      
        
        <a class="post-tag" href="/tags/shader/">shader</a>
      
        
        <a class="post-tag" href="/tags/memo/">memo</a>
      
        
        <a class="post-tag" href="/tags/graphics/">graphics</a>
      
        
        <a class="post-tag" href="/tags/opengl/">opengl</a>
      
        
        <a class="post-tag" href="/tags/thread/">thread</a>
      
        
        <a class="post-tag" href="/tags/amplify/">amplify</a>
      
        
        <a class="post-tag" href="/tags/plugin/">plugin</a>
      

      </div>
    </div>
  
  </div> <!-- .access -->

  
    <div id="toc-wrapper" class="pl-0 pr-4 mb-5">
      <span class="pl-3 pt-2 mb-2">Contents</span>
      <nav id="toc" data-toggle="toc"></nav>
    </div>
  

</div> <!-- #panel-wrapper -->


</div> <!-- .row -->

<div class="row">
  <div class="col-12 col-lg-11 col-xl-8">
    <div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4">

    <!--
 Recommend the other 3 posts according to the tags and categories of the current post,
 if the number is not enough, use the other latest posts to supplement.

 v2.0
 https://github.com/cotes2020/jekyll-theme-chirpy
 © 2019 Cotes Chung
 Published under the MIT License
-->

<!-- The total size of related posts  -->


<!-- An random integer that bigger than 0  -->


<!-- Equals to TAG_SCORE / {max_categories_hierarchy}  -->








  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  
    
  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  








<!-- Fill with the other newlest posts  -->






  <div id="related-posts" class="mt-5 mb-2 mb-sm-4">
    <h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3>
    <div class="card-deck mb-4">
    
      
      
      <div class="card">
        <a href="/posts/unity-opt-occlusion-culling/">
          <div class="card-body">
            <!--
  Date format snippet

  v2.4.1
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2020 Cotes Chung
  MIT License
-->
<span class="timeago small"
  >

  
  

  
    Mar  1
  

  <i class="unloaded">2021-03-01T01:40:00+09:00</i>

</span>
            <h3 class="pt-0 mt-1 mb-3" data-toc-skip>유니티 - 오클루전 컬링</h3>
            <div class="text-muted small">
              <p>
                





                프러스텀 컬링 (Frustum Culling)


  
    카메라의 뷰 프러스텀(View Frustum) 영역 밖의 오브젝트들은 렌더링하지 않는 것
  
  
    따로 설정하지 않아도 유니티 내에서 기본적으로 적용된다.
  






그냥 이렇게 두어도



실제로 이렇게 컬링된다.



GIF





오클루전 컬링 (Occlusion Cu...
              </p>
            </div>
          </div>
        </a>
      </div>
    
      
      
      <div class="card">
        <a href="/posts/unity-optimize-model-transform/">
          <div class="card-body">
            <!--
  Date format snippet

  v2.4.1
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2020 Cotes Chung
  MIT License
-->
<span class="timeago small"
  >

  
  

  
    Sep 16
  

  <i class="unloaded">2021-09-16T00:02:00+09:00</i>

</span>
            <h3 class="pt-0 mt-1 mb-3" data-toc-skip>유니티 - 모델 트랜스폼 구조 최적화하기</h3>
            <div class="text-muted small">
              <p>
                





                문제점


Skinned Mesh가 적용되는 게임 오브젝트의 경우,

하이라키에서 트랜스폼 구조를 확인해보면



이렇게 Bone 별로 각각 존재하여, 굉장히 많은 게임오브젝트들로 이루어져 있다.

그런데 유니티 엔진에서는 부모 게임 오브젝트의 트랜스폼에 변경사항이 생기면

모든 자식 트랜스폼에 변경이 발생한다.

한마디로, 위와 같이 무수히 많은 자...
              </p>
            </div>
          </div>
        </a>
      </div>
    
      
      
      <div class="card">
        <a href="/posts/unity-opt-profiling/">
          <div class="card-body">
            <!--
  Date format snippet

  v2.4.1
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2020 Cotes Chung
  MIT License
-->
<span class="timeago small"
  >

  
  

  
    Feb  4
  

  <i class="unloaded">2021-02-04T19:30:00+09:00</i>

</span>
            <h3 class="pt-0 mt-1 mb-3" data-toc-skip>유니티 - 프로파일링을 통한 최적화</h3>
            <div class="text-muted small">
              <p>
                





                목차



  1. Note
  2. Tools
  3. Unity Profiler
    
      Custom Profiler Tags
      CPU &amp; GPU Boundary
      CPU Boundary
      GPU Boundary
    
  
  4. Memory Profiler
  5. References




No...
              </p>
            </div>
          </div>
        </a>
      </div>
    
    </div> <!-- .card-deck -->
  </div> <!-- #related-posts -->



    <!--
  Navigation buttons at the bottom of the post.

  v2.1
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2020 Cotes Chung
  MIT License
-->

<div class="post-navigation d-flex justify-content-between">
  
  <a href="/posts/unity-opt-profiling/" class="btn btn-outline-primary">
    <p>유니티 - 프로파일링을 통한 최적화</p>
  </a>
  

  
  <a href="/posts/opengl-study-09/" class="btn btn-outline-primary">
    <p>OpenGL 공부 - 09 - uniform, VAO</p>
  </a>
  

</div>

    

    </div> <!-- #post-extend-wrapper -->

  </div> <!-- .col-* -->

</div> <!-- .row -->



<script>
/* 코드 블록 우측 상단 Copy 버튼 */
const codes = document.querySelectorAll('.code-button-header + .highlighter-rouge .rouge-code');
const copyCodeButtons = document.querySelectorAll('.copy-code-button');

copyCodeButtons.forEach((copyCodeButton, index) => {
  copyCodeButton.addEventListener('click', () => {
    window.navigator.clipboard.writeText(codes[index].innerText.slice(0, -1));
    copyCodeButton.classList.add('copied');

    setTimeout(() => {
      copyCodeButton.classList.remove('copied');
    }, 2000);
  });
});
</script>


  <!-- image lazy load: https://github.com/ApoorvSaxena/lozad.js -->
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script>

<script type="text/javascript">
  const imgs = document.querySelectorAll('.post-content img');
  const observer = lozad(imgs);
  observer.observe();
</script>




        <!--
  The Footer
  v2.0
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2017-2019 Cotes Chung
  MIT License
-->

<footer class="d-flex w-100 justify-content-center">
  <div class="d-flex justify-content-between align-items-center">
    <div class="footer-left">
      <p class="mb-0">
        © 2021
        <a href="https://github.com/rito15">Rito15</a>.
        
        <span data-toggle="tooltip" data-placement="top"
          title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span>
        
      </p>
    </div>

    <div class="footer-right">
      <p class="mb-0">
        Powered by
        <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a>
        with
        <a href="https://github.com/cotes2020/jekyll-theme-chirpy/" target="_blank" rel="noopener">Chirpy</a>
        theme.
      </p>
    </div>

  </div> <!-- div.d-flex -->
</footer>


      </div>

      <!--
  The Search results
  v2.0
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2017-2019 Cotes Chung
  MIT License
-->
<div id="search-result-wrapper" class="d-flex justify-content-center unloaded">
  <div class="col-12 col-xl-11 post-content">
    <div id="search-hints">
      <h4 class="text-muted mb-4">Trending Tags</h4>

      















  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        



      
        
        <a class="post-tag" href="/tags/csharp/">csharp</a>
      
        
        <a class="post-tag" href="/tags/unity/">unity</a>
      
        
        <a class="post-tag" href="/tags/editor/">editor</a>
      
        
        <a class="post-tag" href="/tags/shader/">shader</a>
      
        
        <a class="post-tag" href="/tags/memo/">memo</a>
      
        
        <a class="post-tag" href="/tags/graphics/">graphics</a>
      
        
        <a class="post-tag" href="/tags/opengl/">opengl</a>
      
        
        <a class="post-tag" href="/tags/thread/">thread</a>
      
        
        <a class="post-tag" href="/tags/amplify/">amplify</a>
      
        
        <a class="post-tag" href="/tags/plugin/">plugin</a>
      

    </div>
    <div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div>
  </div>
</div>


    </div> <!-- #main-wrapper -->

    
      <!--
  mermaid-js loader
-->
<script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
<script>
  $(function() {
    let initTheme = "default";

    if ($("html[mode=dark]").length > 0
      || ($("html[mode]").length == 0
        && window.matchMedia("(prefers-color-scheme: dark)").matches ) ) {
      initTheme = "dark";
    }

    let mermaidConf = {
      theme: initTheme  /* <default|dark|forest|neutral> */
    };

    /* Markdown converts to HTML */
    $("pre").has("code.language-mermaid").each(function() {
      let svgCode = $(this).children().html();
      $(this).addClass("unloaded");
      $(this).after(`<div class=\"mermaid\">${svgCode}</div>`);
    });

    mermaid.initialize(mermaidConf);
  });
</script>

    

    <div id="mask"></div>

    <a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button">
      <i class="fas fa-angle-up"></i>
    </a>

    <!--
  Jekyll Simple Search loader
  v2.0
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2017-2019 Cotes Chung
  MIT License
-->





<script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script>

<script>
SimpleJekyllSearch({
  searchInput: document.getElementById('search-input'),
  resultsContainer: document.getElementById('search-results'),
  json: '/assets/js/data/search.json',
  searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0">  <a href="https://rito15.github.io{url}">{title}</a>  <div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1">    <div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>{categories}</div>    <div><i class="fa fa-tag fa-fw"></i>{tags}</div>  </div>  <p>{snippet}</p></div>',
  noResultsText: '<p class="mt-5">Oops! No result founds.</p>'
});
</script>


    <!-- 2021-06-29 추가 : 애널리틱스 적용 -->
    <!--
  The GA snippet
  v2.0
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2017-2019 Cotes Chung
  MIT License
-->
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-200391565-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-200391565-1');
</script>


  </body>

</html>

